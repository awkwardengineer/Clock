/*jslint nomen: true, devel: true*/
/*global hiro: true */

( function( root ) {
	'use strict';


	root.hiro = root.hiro || {};
	root.hiro.config = {
		accountID		: 'theoceansociety' ,
		flowPlayerLicense : "",
		server: ["theoceansociety.appserver.tv"],
		movieLinkUrl		: "http://www.theoceansociety.com/extreme-conditions/?=synd",
		logoUrl	: "https://tos-a.akamaihd.net/Logo/ocean.png",
		
	contentLogoDef: {},
		playList: [{  url:'https://theoceansociety-electricsheep.netdna-ssl.com/volvo_250p/volvo03_.mp4',
	    customProperties: {
        videoTitle : "DefaultvideoTitle",
        videoDescription : "",
        videoKeyWords : "",
        videoDurationSecs : ""
        }
        }],


		//default externalViewLogServlet: '',
		placeholderImage : "https://tos-a.akamaihd.net/Poster/Ocean_light.jpg",
		externalViewLogServlet: 'ibsibs',
		sessionTimeOut : 30,

                sendMovieLog: true,
                sendMovieLogUrl: "https://events.appserver.tv",
                farmId: 1,
                mediaSellerId: 904,

                events: {
                        adstart: {
                                callback: function ( event ) {
                                        try {
                                                if ( event.data.countImpressionInBreak == 1 ) {
                                                        trackAdView(event.data.adBreakType, event.data.cms);
                                                }
                                        } catch ( ignore ) {
                                        }
                                }
                        },

                        moviestart: {
                                callback: function ( event ) {
                                        try {
                                                trackAdView(event.data.adBreakType, event.data.cms);
                                        } catch ( ignore ) {
                                        }
                                }
                        }
                },

		maxLoopRotations : 3,
		//default pauseOnAdClick : flase
		pauseOnAdClick : true,
		placementCostFromServer: false,
		multiburnThresholdSecs : 5,
placementEventsPerc:100,

                IAS_percentage : 4,
		useCmsSettings: true,
		allowCookies: 0,
useFlowplayer: false,
moatPercentage: 1,
 	 		abTesting :[{"testName": "dynamic_timeout","percentage":15,"config":{"useDynamicTimeout":"true","startTimerSecs": 60,"initTimerSecs": 60}}],


			localTrafficSplit: "https://tos-a.akamaihd.net/JS_Syndiction/version_test/SyndPlugins",
			folderName: "https://tos-a.akamaihd.net/SyndPlugins"
	}

} ( this ) ) ;
/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*! jQuery v1.11.2 -ajax/load,-ajax/script,-ajax/jsonp,-deprecated,-effects,-effects/animatedSelector,-effects/support,-effects/Tween,-event/alias,-wrap,-core/ready | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */

/*! SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject>
		is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
		*/

/**
 * UAParser.js v0.7.9
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright Â© 2012-2015 Faisal Salman <fyzlman@gmail.com>
 * Dual licensed under GPLv2 & MIT
 */

/*!
 * Cookies.js - 0.3.1
 * Wednesday, April 24 2013 @ 2:28 AM EST
 *
 * Copyright (c) 2013, Scott Hamper
 * Licensed under the MIT license,
 * http://www.opensource.org/licenses/MIT
 */

/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   2.1.1
 */

/**
 * cross-storage - Cross domain local storage
 *
 * @version   0.7.0
 * @link      https://github.com/zendesk/cross-storage
 * @author    Daniel St. Jules <danielst.jules@gmail.com>
 * @copyright Zendesk
 * @license   Apache-2.0
 */

/*
 * flowplayer.js 3.2.12. The Flowplayer API
 *
 * Copyright 2009-2011 Flowplayer Oy
 *
 * This file is part of Flowplayer.
 *
 * Flowplayer is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * Flowplayer is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Flowplayer.  If not, see <http://www.gnu.org/licenses/>.
 *
 * Date: ${date}
 * Revision: ${revision}
 */

// ===============================================
// AdBlock detector
//
// Attempts to detect the presence of Ad Blocker software
// and notify listener of its existence.
// Copyright (c) 2015 IAB
//
// The MIT License (MIT)
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in all
// copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
// SOFTWARE.
// ===============================================

/*! Hiro version: 108.27-21 build: 5d22b7f8708a60c21de45e0c200e2398f9ce3ca3-21 */

!function(){var e,t,n;!function(r){function i(e,t){return b.call(e,t)}function o(e,t){var n,r,i,o,a,s,l,u,c,d,p,f=t&&t.split("/"),m=y.map,h=m&&m["*"]||{};if(e&&"."===e.charAt(0))if(t){for(f=f.slice(0,f.length-1),e=e.split("/"),a=e.length-1,y.nodeIdCompat&&A.test(e[a])&&(e[a]=e[a].replace(A,"")),e=f.concat(e),c=0;c<e.length;c+=1)if(p=e[c],"."===p)e.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((f||h)&&m){for(n=e.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),f)for(d=f.length;d>0;d-=1)if(i=m[f.slice(0,d).join("/")],i&&(i=i[r])){o=i,s=c;break}if(o)break;!l&&h&&h[r]&&(l=h[r],u=c)}!o&&l&&(o=l,s=u),o&&(n.splice(0,s,o),e=n.join("/"))}return e}function a(e,t){return function(){return f.apply(r,w.call(arguments,0).concat([e,t]))}}function s(e){return function(t){return o(t,e)}}function l(e){return function(t){g[e]=t}}function u(e){if(i(v,e)){var t=v[e];delete v[e],E[e]=!0,p.apply(r,t)}if(!i(g,e)&&!i(E,e))throw new Error("No "+e);return g[e]}function c(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return function(){return y&&y.config&&y.config[e]||{}}}var p,f,m,h,g={},v={},y={},E={},b=Object.prototype.hasOwnProperty,w=[].slice,A=/\.js$/;m=function(e,t){var n,r=c(e),i=r[0];return e=r[1],i&&(i=o(i,t),n=u(i)),i?e=n&&n.normalize?n.normalize(e,s(t)):o(e,t):(e=o(e,t),r=c(e),i=r[0],e=r[1],i&&(n=u(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},h={require:function(e){return a(e)},exports:function(e){var t=g[e];return"undefined"!=typeof t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:d(e)}}},p=function(e,t,n,o){var s,c,d,p,f,y,b=[],w=typeof n;if(o=o||e,"undefined"===w||"function"===w){for(t=!t.length&&n.length?["require","exports","module"]:t,f=0;f<t.length;f+=1)if(p=m(t[f],o),c=p.f,"require"===c)b[f]=h.require(e);else if("exports"===c)b[f]=h.exports(e),y=!0;else if("module"===c)s=b[f]=h.module(e);else if(i(g,c)||i(v,c)||i(E,c))b[f]=u(c);else{if(!p.p)throw new Error(e+" missing "+c);p.p.load(p.n,a(o,!0),l(c),{}),b[f]=g[c]}d=n?n.apply(g[e],b):void 0,e&&(s&&s.exports!==r&&s.exports!==g[e]?g[e]=s.exports:d===r&&y||(g[e]=d))}else e&&(g[e]=n)},e=t=f=function(e,t,n,i,o){if("string"==typeof e)return h[e]?h[e](t):u(m(e,t).f);if(!e.splice){if(y=e,y.deps&&f(y.deps,y.callback),!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},"function"==typeof n&&(n=i,i=o),i?p(r,e,t,n):setTimeout(function(){p(r,e,t,n)},4),f},f.config=function(e){return f(e)},e._defined=g,n=function(e,t,n){t.splice||(n=t,t=[]),i(g,e)||i(v,e)||(v[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("almond",function(){}),t.config({map:{"bidding/FlashAd":{"dom/createElement":"dom/createElementFuseProtect"},"bidding/HtmlAdWrapper":{"dom/createElement":"dom/createElementFuseProtect"},"bidding/vpaid/HtmlVpaidAd":{"dom/createElement":"dom/createElementFuseProtect"},"bidding/vpaid/VpaidPlayer":{"dom/createElement":"dom/createElementFuseProtect"},"player/HiroFlashPlayer":{"dom/createElement":"dom/createElementFuseProtect"},"player/HiroHtmlPlayer":{"dom/createElement":"dom/createElementFuseProtect"},"player/HiroVideoPlayer":{"dom/createElement":"dom/createElementFuseProtect"},"player/IframePlayer":{"dom/createElement":"dom/createElementFuseProtect"},"player/PlayerBase":{"dom/createElement":"dom/createElementFuseProtect"},"dom/injectIframe":{"dom/createElement":"dom/createElementFuseProtect"}}}),n("../src/requirejs.map.config",function(){}),function(){n("util/defined",[],function(){var e=function(e){var t=function(t){return e!==t};return t()};return e})}(this),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e){function t(e){var t=e.length,n=Q.type(e);return"function"===n||Q.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(Q.isFunction(t))return Q.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Q.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(rt.test(t))return Q.filter(t,e,n);t=Q.filter(t,e)}return Q.grep(e,function(e){return Q.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=dt[e]={};return Q.each(e.match(ct)||[],function(e,n){t[n]=!0}),t}function a(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(ht,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:mt.test(n)?Q.parseJSON(n):n}catch(i){}Q.data(e,t,n)}else n=void 0}return n}function s(e){var t;for(t in e)if(("data"!==t||!Q.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(e,t,n,r){if(Q.acceptData(e)){var i,o,a=Q.expando,s=e.nodeType,l=s?Q.cache:e,u=s?e[a]:e[a]&&a;if(u&&l[u]&&(r||l[u].data)||void 0!==n||"string"!=typeof t)return u||(u=s?e[a]=M.pop()||Q.guid++:a),l[u]||(l[u]=s?{}:{toJSON:Q.noop}),("object"==typeof t||"function"==typeof t)&&(r?l[u]=Q.extend(l[u],t):l[u].data=Q.extend(l[u].data,t)),o=l[u],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[Q.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[Q.camelCase(t)])):i=o,i}}function u(e,t,n){if(Q.acceptData(e)){var r,i,o=e.nodeType,a=o?Q.cache:e,l=o?e[Q.expando]:Q.expando;if(a[l]){if(t&&(r=n?a[l]:a[l].data)){Q.isArray(t)?t=t.concat(Q.map(t,Q.camelCase)):t in r?t=[t]:(t=Q.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!s(r):!Q.isEmptyObject(r))return}(n||(delete a[l].data,s(a[l])))&&(o?Q.cleanData([e],!0):G.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}}function c(){return!0}function d(){return!1}function p(){try{return ot.activeElement}catch(e){}}function f(e){var t=It.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function m(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==ft?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==ft?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||Q.nodeName(r,t)?o.push(r):Q.merge(o,m(r,t));return void 0===t||t&&Q.nodeName(e,t)?Q.merge([e],o):o}function h(e){bt.test(e.type)&&(e.defaultChecked=e.checked)}function g(e,t){return Q.nodeName(e,"table")&&Q.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function v(e){return e.type=(null!==Q.find.attr(e,"type"))+"/"+e.type,e}function y(e){var t=Bt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function E(e,t){for(var n,r=0;null!=(n=e[r]);r++)Q._data(n,"globalEval",!t||Q._data(t[r],"globalEval"))}function b(e,t){if(1===t.nodeType&&Q.hasData(e)){var n,r,i,o=Q._data(e),a=Q._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)Q.event.add(t,n,s[n][r])}a.data&&(a.data=Q.extend({},a.data))}}function w(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!G.noCloneEvent&&t[Q.expando]){i=Q._data(t);for(r in i.events)Q.removeEvent(t,r,i.handle);t.removeAttribute(Q.expando)}"script"===n&&t.text!==e.text?(v(t).text=e.text,y(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),G.html5Clone&&e.innerHTML&&!Q.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&bt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function A(t,n){var r,i=Q(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:Q.css(i[0],"display");return i.detach(),o}function x(e){var t=ot,n=$t[e];return n||(n=A(e,t),"none"!==n&&n||(jt=(jt||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(jt[0].contentWindow||jt[0].contentDocument).document,t.write(),t.close(),n=A(e,t),jt.detach()),$t[e]=n),n}function T(e,t){return{get:function(){var n=e();return null!=n?n?void delete this.get:(this.get=t).apply(this,arguments):void 0}}}function _(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=nn.length;i--;)if(t=nn[i]+n,t in e)return t;return r}function I(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=Q._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&yt(r)&&(o[a]=Q._data(r,"olddisplay",x(r.nodeName)))):(i=yt(r),(n&&"none"!==n||!i)&&Q._data(r,"olddisplay",i?n:Q.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function S(e,t,n){var r=Jt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function C(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=Q.css(e,n+vt[o],!0,i)),r?("content"===n&&(a-=Q.css(e,"padding"+vt[o],!0,i)),"margin"!==n&&(a-=Q.css(e,"border"+vt[o]+"Width",!0,i))):(a+=Q.css(e,"padding"+vt[o],!0,i),"padding"!==n&&(a+=Q.css(e,"border"+vt[o]+"Width",!0,i)));return a}function D(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=qt(e),a=G.boxSizing&&"border-box"===Q.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Gt.test(i))return i;r=a&&(G.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+C(e,t,n||(a?"border":"content"),r,o)+"px"}function k(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(ct)||[];if(Q.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function P(e,t,n,r){function i(s){var l;return o[s]=!0,Q.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===Sn;return i(t.dataTypes[0])||!o["*"]&&i("*")}function N(e,t){var n,r,i=Q.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&Q.extend(!0,e,n),e}function L(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function O(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function R(e,t,n,r){var i;if(Q.isArray(t))Q.each(t,function(t,i){n||Pn.test(e)?r(e,i):R(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Q.type(t))r(e,t);else for(i in t)R(e+"["+i+"]",t[i],n,r)}function V(){try{return new e.XMLHttpRequest}catch(t){}}function B(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function F(e){return Q.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var M=[],U=M.slice,H=M.concat,j=M.push,q=M.indexOf,W={},$=W.toString,z=W.hasOwnProperty,G={},X="1.11.2 -ajax/load,-ajax/script,-ajax/jsonp,-deprecated,-effects,-effects/animatedSelector,-effects/support,-effects/Tween,-event/alias,-wrap,-core/ready",Q=function(e,t){return new Q.fn.init(e,t)},Y=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,K=/^-ms-/,J=/-([\da-z])/gi,Z=function(e,t){return t.toUpperCase()};Q.fn=Q.prototype={jquery:X,constructor:Q,selector:"",length:0,toArray:function(){return U.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:U.call(this)},pushStack:function(e){var t=Q.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Q.each(this,e,t)},map:function(e){return this.pushStack(Q.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(U.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:j,sort:M.sort,splice:M.splice},Q.extend=Q.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(u&&n&&(Q.isPlainObject(n)||(t=Q.isArray(n)))?(t?(t=!1,o=e&&Q.isArray(e)?e:[]):o=e&&Q.isPlainObject(e)?e:{},a[r]=Q.extend(u,o,n)):void 0!==n&&(a[r]=n));return a},Q.extend({expando:"jQuery"+(X+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray||function(e){return"array"===Q.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!Q.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==Q.type(e)||e.nodeType||Q.isWindow(e))return!1;try{if(e.constructor&&!z.call(e,"constructor")&&!z.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(G.ownLast)for(t in e)return z.call(e,t);for(t in e);return void 0===t||z.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?W[$.call(e)]||"object":typeof e},globalEval:function(t){t&&Q.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(K,"ms-").replace(J,Z)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,o=0,a=e.length,s=t(e);if(r){if(s)for(;a>o&&(i=n.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=n.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=n.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=n.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(Y,"")},makeArray:function(e,n){var r=n||[];return null!=e&&(t(Object(e))?Q.merge(r,"string"==typeof e?[e]:e):j.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(q)return q.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,n,r){var i,o=0,a=e.length,s=t(e),l=[];if(s)for(;a>o;o++)i=n(e[o],o,r),null!=i&&l.push(i);else for(o in e)i=n(e[o],o,r),null!=i&&l.push(i);return H.apply([],l)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),Q.isFunction(e)?(n=U.call(arguments,2),r=function(){return e.apply(t||this,n.concat(U.call(arguments)))},r.guid=e.guid=e.guid||Q.guid++,r):void 0},now:function(){return+new Date},support:G}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){W["[object "+t+"]"]=t.toLowerCase()});var et=function(e){function t(e,t,n,r){var i,o,a,s,l,u,d,f,m,h;if((t?t.ownerDocument||t:U)!==N&&P(t),t=t||N,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&O){if(11!==s&&(i=yt.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&F(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return J.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return J.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!R||!R.test(e))){if(f=d=M,m=t,h=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=_(e),(d=t.getAttribute("id"))?f=d.replace(bt,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=u.length;l--;)u[l]=f+p(u[l]);m=Et.test(e)&&c(t.parentNode)||t,h=u.join(",")}if(h)try{return J.apply(n,m.querySelectorAll(h)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return S(e.replace(lt,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>A.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[M]=!0,e}function i(e){var t=N.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)A.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=j++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u=[H,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[M]||(t[M]={}),(s=l[r])&&s[0]===H&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function m(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function h(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[M]&&(i=v(i)),o&&!o[M]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,d,p=[],f=[],m=a.length,v=r||h(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,p,e,s,l),E=n?o||(r?e:m||i)?[]:a:y;if(n&&n(y,E,s,l),i)for(u=g(E,f),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(E[f[c]]=!(y[f[c]]=d));if(r){if(o||e){if(o){for(u=[],c=E.length;c--;)(d=E[c])&&u.push(y[c]=d);o(null,E=[],u,l)}for(c=E.length;c--;)(d=E[c])&&(u=o?et(r,d):p[c])>-1&&(r[u]=!(a[u]=d))}}else E=g(E===a?E.splice(m,E.length):E),o?o(null,a,E,l):J.apply(a,E)})}function y(e){for(var t,n,r,i=e.length,o=A.relative[e[0].type],a=o||A.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),u=f(function(e){return et(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==C)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,i}];i>s;s++)if(n=A.relative[e[s].type])c=[f(m(c),n)];else{if(n=A.filter[e[s].type].apply(null,e[s].matches),n[M]){for(r=++s;i>r&&!A.relative[e[r].type];r++);return v(s>1&&m(c),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(lt,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&p(e))}c.push(n)}return m(c)}function E(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,d,p,f=0,m="0",h=r&&[],v=[],y=C,E=r||o&&A.find.TAG("*",u),b=H+=null==y?1:Math.random()||.1,w=E.length;for(u&&(C=a!==N&&a);m!==w&&null!=(c=E[m]);m++){if(o&&c){for(d=0;p=e[d++];)if(p(c,a,s)){l.push(c);break}u&&(H=b)}i&&((c=!p&&c)&&f--,r&&h.push(c))}if(f+=m,i&&m!==f){for(d=0;p=n[d++];)p(h,v,a,s);if(r){if(f>0)for(;m--;)h[m]||v[m]||(v[m]=Y.call(l));v=g(v)}J.apply(l,v),u&&!r&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return u&&(H=b,C=y),h};return i?r(a):a}var b,w,A,x,T,_,I,S,C,D,k,P,N,L,O,R,V,B,F,M="sizzle"+1*new Date,U=e.document,H=0,j=0,q=n(),W=n(),$=n(),z=function(e,t){return e===t&&(k=!0),0},G=1<<31,X={}.hasOwnProperty,Q=[],Y=Q.pop,K=Q.push,J=Q.push,Z=Q.slice,et=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=rt.replace("w","w#"),ot="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",at=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),dt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),pt=new RegExp(at),ft=new RegExp("^"+it+"$"),mt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ht=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Et=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),At=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)},xt=function(){P()};try{J.apply(Q=Z.call(U.childNodes),U.childNodes),Q[U.childNodes.length].nodeType}catch(Tt){J={apply:Q.length?function(e,t){K.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},P=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:U;return r!==N&&9===r.nodeType&&r.documentElement?(N=r,L=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),O=!T(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(r.getElementsByClassName),w.getById=i(function(e){return L.appendChild(e).id=M,!r.getElementsByName||!r.getElementsByName(M).length}),w.getById?(A.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},A.filter.ID=function(e){var t=e.replace(wt,At);return function(e){return e.getAttribute("id")===t}}):(delete A.find.ID,A.filter.ID=function(e){var t=e.replace(wt,At);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),A.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},A.find.CLASS=w.getElementsByClassName&&function(e,t){return O?t.getElementsByClassName(e):void 0},V=[],R=[],(w.qsa=vt.test(r.querySelectorAll))&&(i(function(e){L.appendChild(e).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+M+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+M+"+*").length||R.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(w.matchesSelector=vt.test(B=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&i(function(e){w.disconnectedMatch=B.call(e,"div"),B.call(e,"[s!='']:x"),V.push("!=",at)}),R=R.length&&new RegExp(R.join("|")),V=V.length&&new RegExp(V.join("|")),t=vt.test(L.compareDocumentPosition),F=t||vt.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},z=t?function(e,t){if(e===t)return k=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===U&&F(U,e)?-1:t===r||t.ownerDocument===U&&F(U,t)?1:D?et(D,e)-et(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return k=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:D?et(D,e)-et(D,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===U?-1:u[i]===U?1:0},r):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==N&&P(e),n=n.replace(dt,"='$1']"),!(!w.matchesSelector||!O||V&&V.test(n)||R&&R.test(n)))try{var r=B.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&P(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&P(e);var n=A.attrHandle[t.toLowerCase()],r=n&&X.call(A.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:w.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(k=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(z),k){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},x=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=x(t);return n},A=t.selectors={cacheLength:50,createPseudo:r,match:mt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,At),e[3]=(e[3]||e[4]||e[5]||"").replace(wt,At),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return mt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pt.test(n)&&(t=_(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,At).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(st," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,p,f,m,h=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;h;){for(d=t;d=d[h];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;m=h="only"===e&&!m&&"nextSibling"}return!0}if(m=[a?g.firstChild:g.lastChild],a&&y){for(c=g[M]||(g[M]={}),u=c[e]||[],f=u[0]===H&&u[1],p=u[0]===H&&u[2],d=f&&g.childNodes[f];d=++f&&d&&d[h]||(p=f=0)||m.pop();)if(1===d.nodeType&&++p&&d===t){c[e]=[H,f,p];break}}else if(y&&(u=(t[M]||(t[M]={}))[e])&&u[0]===H)p=u[1];else for(;(d=++f&&d&&d[h]||(p=f=0)||m.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++p||(y&&((d[M]||(d[M]={}))[e]=[H,p]),d!==t)););return p-=i,p===r||0===p%r&&p/r>=0}}},PSEUDO:function(e,n){var i,o=A.pseudos[e]||A.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[M]?o(n):o.length>1?(i=[e,e,"",n],A.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=et(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=I(e.replace(lt,"$1"));return i[M]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(wt,At),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:r(function(e){return ft.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,At).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!A.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return ht.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},A.pseudos.nth=A.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})A.pseudos[b]=l(b);return d.prototype=A.filters=A.pseudos,A.setFilters=new d,_=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=W[e+" "];
if(c)return n?0:c.slice(0);for(s=e,l=[],u=A.preFilter;s;){(!r||(i=ut.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ct.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(lt," ")}),s=s.slice(r.length));for(a in A.filter)!(i=mt[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):W(e,l).slice(0)},I=t.compile=function(e,t){var n,r=[],i=[],o=$[e+" "];if(!o){for(t||(t=_(e)),n=t.length;n--;)o=y(t[n]),o[M]?r.push(o):i.push(o);o=$(e,E(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,d=!r&&_(e=u.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&O&&A.relative[o[1].type]){if(t=(A.find.ID(a.matches[0].replace(wt,At),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=mt.needsContext.test(e)?0:o.length;i--&&(a=o[i],!A.relative[s=a.type]);)if((l=A.find[s])&&(r=l(a.matches[0].replace(wt,At),Et.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return J.apply(n,r),n;break}}return(u||I(e,d))(r,t,!O,n,Et.test(e)&&c(t.parentNode)||t),n},w.sortStable=M.split("").sort(z).join("")===M,w.detectDuplicates=!!k,P(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(N.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Q.find=et,Q.expr=et.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=et.uniqueSort,Q.text=et.getText,Q.isXMLDoc=et.isXML,Q.contains=et.contains;var tt=Q.expr.match.needsContext,nt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rt=/^.[^:#\[\.,]*$/;Q.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Q.find.matchesSelector(r,e)?[r]:[]:Q.find.matches(e,Q.grep(t,function(e){return 1===e.nodeType}))},Q.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(Q(e).filter(function(){for(t=0;i>t;t++)if(Q.contains(r[t],this))return!0}));for(t=0;i>t;t++)Q.find(e,r[t],n);return n=this.pushStack(i>1?Q.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&tt.test(e)?Q(e):e||[],!1).length}});var it,ot=e.document,at=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,st=Q.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:at.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||it).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Q?t[0]:t,Q.merge(this,Q.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ot,!0)),nt.test(n[1])&&Q.isPlainObject(t))for(n in t)Q.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=ot.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return it.find(e);this.length=1,this[0]=r}return this.context=ot,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?"undefined"!=typeof it.ready?it.ready(e):e(Q):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))};st.prototype=Q.fn,it=Q(ot);var lt=/^(?:parents|prev(?:Until|All))/,ut={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!Q(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Q.fn.extend({has:function(e){var t,n=Q(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(Q.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=tt.test(e)||"string"!=typeof e?Q(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(e){return e?"string"==typeof e?Q.inArray(this[0],Q(e)):Q.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Q.unique(Q.merge(this.get(),Q(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Q.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Q.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Q.dir(e,"previousSibling",n)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return Q.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(n,r){var i=Q.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Q.filter(r,i)),this.length>1&&(ut[e]||(i=Q.unique(i)),lt.test(e)&&(i=i.reverse())),this.pushStack(i)}});var ct=/\S+/g,dt={};Q.Callbacks=function(e){e="string"==typeof e?dt[e]||o(e):Q.extend({},e);var t,n,r,i,a,s,l=[],u=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=l.length,t=!0;l&&i>a;a++)if(l[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(u?u.length&&c(u.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var r=l.length;!function o(t){Q.each(t,function(t,n){var r=Q.type(n);"function"===r?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),t?i=l.length:n&&(s=r,c(n))}return this},remove:function(){return l&&Q.each(arguments,function(e,n){for(var r;(r=Q.inArray(n,l,r))>-1;)l.splice(r,1),t&&(i>=r&&i--,a>=r&&a--)}),this},has:function(e){return e?Q.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],i=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||d.disable(),this},locked:function(){return!u},fireWith:function(e,n){return!l||r&&!u||(n=n||[],n=[e,n.slice?n.slice():n],t?u.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(n){Q.each(t,function(t,o){var a=Q.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,r):r}},i={};return r.pipe=r.then,Q.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=U.call(arguments),a=o.length,s=1!==a||e&&Q.isFunction(e.promise)?a:0,l=1===s?e:Q.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?U.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&Q.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,t)):--s;return s||l.resolveWith(r,o),l.promise()}});var pt,ft="undefined";for(pt in Q(G))break;G.ownLast="0"!==pt,G.inlineBlockNeedsLayout=!1,Q(function(){var e,t,n,r;n=ot.getElementsByTagName("body")[0],n&&n.style&&(t=ot.createElement("div"),r=ot.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==ft&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",G.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=ot.createElement("div");if(null==G.deleteExpando){G.deleteExpando=!0;try{delete e.test}catch(t){G.deleteExpando=!1}}e=null}(),Q.acceptData=function(e){var t=Q.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var mt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ht=/([A-Z])/g;Q.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?Q.cache[e[Q.expando]]:e[Q.expando],!!e&&!s(e)},data:function(e,t,n){return l(e,t,n)},removeData:function(e,t){return u(e,t)},_data:function(e,t,n){return l(e,t,n,!0)},_removeData:function(e,t){return u(e,t,!0)}}),Q.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=Q.data(o),1===o.nodeType&&!Q._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=Q.camelCase(r.slice(5)),a(o,r,i[r])));Q._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Q.data(this,e)}):arguments.length>1?this.each(function(){Q.data(this,e,t)}):o?a(o,e,Q.data(o,e)):void 0},removeData:function(e){return this.each(function(){Q.removeData(this,e)})}}),Q.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=Q._data(e,t),n&&(!r||Q.isArray(n)?r=Q._data(e,t,Q.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Q.queue(e,t),r=n.length,i=n.shift(),o=Q._queueHooks(e,t),a=function(){Q.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q._data(e,n)||Q._data(e,n,{empty:Q.Callbacks("once memory").add(function(){Q._removeData(e,t+"queue"),Q._removeData(e,n)})})}}),Q.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Q.queue(this[0],e):void 0===t?this:this.each(function(){var n=Q.queue(this,e,t);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Q.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Q._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var gt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,vt=["Top","Right","Bottom","Left"],yt=function(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)},Et=Q.access=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===Q.type(n)){i=!0;for(s in n)Q.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,Q.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(Q(e),n)})),t))for(;l>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o},bt=/^(?:checkbox|radio)$/i;!function(){var e=ot.createElement("input"),t=ot.createElement("div"),n=ot.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",G.leadingWhitespace=3===t.firstChild.nodeType,G.tbody=!t.getElementsByTagName("tbody").length,G.htmlSerialize=!!t.getElementsByTagName("link").length,G.html5Clone="<:nav></:nav>"!==ot.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),G.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",G.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",G.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,G.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){G.noCloneEvent=!1}),t.cloneNode(!0).click()),null==G.deleteExpando){G.deleteExpando=!0;try{delete t.test}catch(r){G.deleteExpando=!1}}}(),function(){var t,n,r=ot.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(G[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),G[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var wt=/^(?:input|select|textarea)$/i,At=/^key/,xt=/^(?:mouse|pointer|contextmenu)|click/,Tt=/^(?:focusinfocus|focusoutblur)$/,_t=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,d,p,f,m,h,g=Q._data(e);if(g){for(n.handler&&(l=n,n=l.handler,i=l.selector),n.guid||(n.guid=Q.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof Q===ft||e&&Q.event.triggered===e.type?void 0:Q.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(ct)||[""],s=t.length;s--;)o=_t.exec(t[s])||[],f=h=o[1],m=(o[2]||"").split(".").sort(),f&&(u=Q.event.special[f]||{},f=(i?u.delegateType:u.bindType)||f,u=Q.event.special[f]||{},d=Q.extend({type:f,origType:h,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Q.expr.match.needsContext.test(i),namespace:m.join(".")},l),(p=a[f])||(p=a[f]=[],p.delegateCount=0,u.setup&&u.setup.call(e,r,m,c)!==!1||(e.addEventListener?e.addEventListener(f,c,!1):e.attachEvent&&e.attachEvent("on"+f,c))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,d):p.push(d),Q.event.global[f]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,d,p,f,m,h,g=Q.hasData(e)&&Q._data(e);if(g&&(c=g.events)){for(t=(t||"").match(ct)||[""],u=t.length;u--;)if(s=_t.exec(t[u])||[],f=h=s[1],m=(s[2]||"").split(".").sort(),f){for(d=Q.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,p=c[f]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=p.length;o--;)a=p[o],!i&&h!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(p.splice(o,1),a.selector&&p.delegateCount--,d.remove&&d.remove.call(e,a));l&&!p.length&&(d.teardown&&d.teardown.call(e,m,g.handle)!==!1||Q.removeEvent(e,f,g.handle),delete c[f])}else for(f in c)Q.event.remove(e,f+t[u],n,r,!0);Q.isEmptyObject(c)&&(delete g.handle,Q._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,l,u,c,d,p=[r||ot],f=z.call(t,"type")?t.type:t,m=z.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||ot,3!==r.nodeType&&8!==r.nodeType&&!Tt.test(f+Q.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),a=f.indexOf(":")<0&&"on"+f,t=t[Q.expando]?t:new Q.Event(f,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=m.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Q.makeArray(n,[t]),u=Q.event.special[f]||{},i||!u.trigger||u.trigger.apply(r,n)!==!1)){if(!i&&!u.noBubble&&!Q.isWindow(r)){for(l=u.delegateType||f,Tt.test(l+f)||(s=s.parentNode);s;s=s.parentNode)p.push(s),c=s;c===(r.ownerDocument||ot)&&p.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=p[d++])&&!t.isPropagationStopped();)t.type=d>1?l:u.bindType||f,o=(Q._data(s,"events")||{})[t.type]&&Q._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&Q.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=f,!i&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(p.pop(),n)===!1)&&Q.acceptData(r)&&a&&r[f]&&!Q.isWindow(r)){c=r[a],c&&(r[a]=null),Q.event.triggered=f;try{r[f]()}catch(h){}Q.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=Q.event.fix(e);var t,n,r,i,o,a=[],s=U.call(arguments),l=(Q._data(this,"events")||{})[e.type]||[],u=Q.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=Q.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((Q.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?Q(n,this).index(l)>=0:Q.find(n,this,null,[l]).length),i[n]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[Q.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=xt.test(i)?this.mouseHooks:At.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new Q.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||ot),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||ot,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return Q.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return Q.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=Q.extend(new Q.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Q.event.trigger(i,null,t):Q.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=ot.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===ft&&(e[r]=null),e.detachEvent(r,n))},Q.Event=function(e,t){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?c:d):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(e,t)},Q.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!Q.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),G.submitBubbles||(Q.event.special.submit={setup:function(){return Q.nodeName(this,"form")?!1:void Q.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=Q.nodeName(t,"input")||Q.nodeName(t,"button")?t.form:void 0;n&&!Q._data(n,"submitBubbles")&&(Q.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),Q._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Q.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return Q.nodeName(this,"form")?!1:void Q.event.remove(this,"._submit")}}),G.changeBubbles||(Q.event.special.change={setup:function(){return wt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Q.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Q.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Q.event.simulate("change",this,e,!0)})),!1):void Q.event.add(this,"beforeactivate._change",function(e){var t=e.target;wt.test(t.nodeName)&&!Q._data(t,"changeBubbles")&&(Q.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||Q.event.simulate("change",this.parentNode,e,!0)}),Q._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Q.event.remove(this,"._change"),!wt.test(this.nodeName)}}),G.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Q._data(r,t);i||r.addEventListener(e,n,!0),Q._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Q._data(r,t)-1;i?Q._data(r,t,i):(r.removeEventListener(e,n,!0),Q._removeData(r,t))}}}),Q.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=d;else if(!r)return this;return 1===i&&(a=r,r=function(e){return Q().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Q(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=d),this.each(function(){Q.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Q.event.trigger(e,t,n,!0):void 0}});var It="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",St=/ jQuery\d+="(?:null|\d+)"/g,Ct=new RegExp("<(?:"+It+")[\\s/>]","i"),Dt=/^\s+/,kt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Pt=/<([\w:]+)/,Nt=/<tbody/i,Lt=/<|&#?\w+;/,Ot=/<(?:script|style|link)/i,Rt=/checked\s*(?:[^=]|=\s*.checked.)/i,Vt=/^$|\/(?:java|ecma)script/i,Bt=/^true\/(.*)/,Ft=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Mt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:G.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ut=f(ot),Ht=Ut.appendChild(ot.createElement("div"));Mt.optgroup=Mt.option,Mt.tbody=Mt.tfoot=Mt.colgroup=Mt.caption=Mt.thead,Mt.th=Mt.td,Q.extend({clone:function(e,t,n){var r,i,o,a,s,l=Q.contains(e.ownerDocument,e);if(G.html5Clone||Q.isXMLDoc(e)||!Ct.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ht.innerHTML=e.outerHTML,Ht.removeChild(o=Ht.firstChild)),!(G.noCloneEvent&&G.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(r=m(o),s=m(e),a=0;null!=(i=s[a]);++a)r[a]&&w(i,r[a]);if(t)if(n)for(s=s||m(e),r=r||m(o),a=0;null!=(i=s[a]);a++)b(i,r[a]);else b(e,o);return r=m(o,"script"),r.length>0&&E(r,!l&&m(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c,d=e.length,p=f(t),g=[],v=0;d>v;v++)if(o=e[v],o||0===o)if("object"===Q.type(o))Q.merge(g,o.nodeType?[o]:o);else if(Lt.test(o)){for(s=s||p.appendChild(t.createElement("div")),l=(Pt.exec(o)||["",""])[1].toLowerCase(),c=Mt[l]||Mt._default,s.innerHTML=c[1]+o.replace(kt,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!G.leadingWhitespace&&Dt.test(o)&&g.push(t.createTextNode(Dt.exec(o)[0])),!G.tbody)for(o="table"!==l||Nt.test(o)?"<table>"!==c[1]||Nt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)Q.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(Q.merge(g,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else g.push(t.createTextNode(o));for(s&&p.removeChild(s),G.appendChecked||Q.grep(m(g,"input"),h),v=0;o=g[v++];)if((!r||-1===Q.inArray(o,r))&&(a=Q.contains(o.ownerDocument,o),s=m(p.appendChild(o),"script"),a&&E(s),n))for(i=0;o=s[i++];)Vt.test(o.type||"")&&n.push(o);return s=null,p},cleanData:function(e,t){for(var n,r,i,o,a=0,s=Q.expando,l=Q.cache,u=G.deleteExpando,c=Q.event.special;null!=(n=e[a]);a++)if((t||Q.acceptData(n))&&(i=n[s],o=i&&l[i])){if(o.events)for(r in o.events)c[r]?Q.event.remove(n,r):Q.removeEvent(n,r,o.handle);l[i]&&(delete l[i],u?delete n[s]:typeof n.removeAttribute!==ft?n.removeAttribute(s):n[s]=null,M.push(i))}}}),Q.fn.extend({text:function(e){return Et(this,function(e){return void 0===e?Q.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ot).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Q.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||Q.cleanData(m(n)),n.parentNode&&(t&&Q.contains(n.ownerDocument,n)&&E(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&Q.cleanData(m(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&Q.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return Et(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(St,""):void 0;if(!("string"!=typeof e||Ot.test(e)||!G.htmlSerialize&&Ct.test(e)||!G.leadingWhitespace&&Dt.test(e)||Mt[(Pt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(kt,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(Q.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Q.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=H.apply([],e);var n,r,i,o,a,s,l=0,u=this.length,c=this,d=u-1,p=e[0],f=Q.isFunction(p);if(f||u>1&&"string"==typeof p&&!G.checkClone&&Rt.test(p))return this.each(function(n){var r=c.eq(n);f&&(e[0]=p.call(this,n,r.html())),r.domManip(e,t)});if(u&&(s=Q.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=Q.map(m(s,"script"),v),i=o.length;u>l;l++)r=s,l!==d&&(r=Q.clone(r,!0,!0),i&&Q.merge(o,m(r,"script"))),t.call(this[l],r,l);if(i)for(a=o[o.length-1].ownerDocument,Q.map(o,y),l=0;i>l;l++)r=o[l],Vt.test(r.type||"")&&!Q._data(r,"globalEval")&&Q.contains(a,r)&&(r.src?Q._evalUrl&&Q._evalUrl(r.src):Q.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Ft,"")));s=n=null}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(e){for(var n,r=0,i=[],o=Q(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),Q(o[r])[t](n),j.apply(i,n.get());return this.pushStack(i)}});var jt,qt,Wt,$t={},zt=/^margin/,Gt=new RegExp("^("+gt+")(?!px)[a-z%]+$","i"),Xt=/^(top|right|bottom|left)$/;e.getComputedStyle?(qt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},Wt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||qt(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||Q.contains(e.ownerDocument,e)||(a=Q.style(e,t)),Gt.test(a)&&zt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):ot.documentElement.currentStyle&&(qt=function(e){return e.currentStyle},Wt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||qt(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),Gt.test(a)&&!Xt.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),!function(){function t(){var t,n,r,i;n=ot.getElementsByTagName("body")[0],n&&n.style&&(t=ot.createElement("div"),r=ot.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,l=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(ot.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))
}var n,r,i,o,a,s,l;n=ot.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],(r=i&&i.style)&&(r.cssText="float:left;opacity:.5",G.opacity="0.5"===r.opacity,G.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",G.clearCloneStyle="content-box"===n.style.backgroundClip,G.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,Q.extend(G,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==l&&t(),l}}))}(),Q.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var Qt=/alpha\([^)]*\)/i,Yt=/opacity\s*=\s*([^)]*)/,Kt=/^(none|table(?!-c[ea]).+)/,Jt=new RegExp("^("+gt+")(.*)$","i"),Zt=new RegExp("^([+-])=("+gt+")","i"),en={position:"absolute",visibility:"hidden",display:"block"},tn={letterSpacing:"0",fontWeight:"400"},nn=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":G.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=Q.camelCase(t),l=e.style;if(t=Q.cssProps[s]||(Q.cssProps[s]=_(l,s)),a=Q.cssHooks[t]||Q.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];if(o=typeof n,"string"===o&&(i=Zt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Q.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||Q.cssNumber[s]||(n+="px"),G.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{l[t]=n}catch(u){}}},css:function(e,t,n,r){var i,o,a,s=Q.camelCase(t);return t=Q.cssProps[s]||(Q.cssProps[s]=_(e.style,s)),a=Q.cssHooks[t]||Q.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=Wt(e,t,r)),"normal"===o&&t in tn&&(o=tn[t]),""===n||n?(i=parseFloat(o),n===!0||Q.isNumeric(i)?i||0:o):o}}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,n,r){return n?Kt.test(Q.css(e,"display"))&&0===e.offsetWidth?Q.swap(e,en,function(){return D(e,t,r)}):D(e,t,r):void 0},set:function(e,n,r){var i=r&&qt(e);return S(e,n,r?C(e,t,r,G.boxSizing&&"border-box"===Q.css(e,"boxSizing",!1,i),i):0)}}}),G.opacity||(Q.cssHooks.opacity={get:function(e,t){return Yt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=Q.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===Q.trim(o.replace(Qt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=Qt.test(o)?o.replace(Qt,i):o+" "+i)}}),Q.cssHooks.marginRight=T(G.reliableMarginRight,function(e,t){return t?Q.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+vt[r]+t]=o[r]||o[r-2]||o[0];return i}},zt.test(e)||(Q.cssHooks[e+t].set=S)}),Q.fn.extend({css:function(e,t){return Et(this,function(e,t,n){var r,i,o={},a=0;if(Q.isArray(t)){for(r=qt(e),i=t.length;i>a;a++)o[t[a]]=Q.css(e,t[a],!1,r);return o}return void 0!==n?Q.style(e,t,n):Q.css(e,t)},e,t,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){yt(this)?Q(this).show():Q(this).hide()})}}),Q.fn.delay=function(e,t){return e=Q.fx?Q.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=ot.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=ot.createElement("select"),i=n.appendChild(ot.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",G.getSetAttribute="t"!==t.className,G.style=/top/.test(r.getAttribute("style")),G.hrefNormalized="/a"===r.getAttribute("href"),G.checkOn=!!e.value,G.optSelected=i.selected,G.enctype=!!ot.createElement("form").enctype,n.disabled=!0,G.optDisabled=!i.disabled,e=ot.createElement("input"),e.setAttribute("value",""),G.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),G.radioValue="t"===e.value}();var rn=/\r/g;Q.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=Q.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Q(this).val()):e,null==i?i="":"number"==typeof i?i+="":Q.isArray(i)&&(i=Q.map(i,function(e){return null==e?"":e+""})),t=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=Q.valHooks[i.type]||Q.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(rn,""):null==n?"":n)):void 0}}),Q.extend({valHooks:{option:{get:function(e){var t=Q.find.attr(e,"value");return null!=t?t:Q.trim(Q.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(G.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Q.nodeName(n.parentNode,"optgroup"))){if(t=Q(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=Q.makeArray(t),a=i.length;a--;)if(r=i[a],Q.inArray(Q.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(e,t){return Q.isArray(t)?e.checked=Q.inArray(Q(e).val(),t)>=0:void 0}},G.checkOn||(Q.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var on,an,sn=Q.expr.attrHandle,ln=/^(?:checked|selected)$/i,un=G.getSetAttribute,cn=G.input;Q.fn.extend({attr:function(e,t){return Et(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})}}),Q.extend({attr:function(e,t,n){var r,i,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?typeof e.getAttribute===ft?Q.prop(e,t,n):(1===o&&Q.isXMLDoc(e)||(t=t.toLowerCase(),r=Q.attrHooks[t]||(Q.expr.match.bool.test(t)?an:on)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=Q.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Q.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(ct);if(o&&1===e.nodeType)for(;n=o[i++];)r=Q.propFix[n]||n,Q.expr.match.bool.test(n)?cn&&un||!ln.test(n)?e[r]=!1:e[Q.camelCase("default-"+n)]=e[r]=!1:Q.attr(e,n,""),e.removeAttribute(un?n:r)},attrHooks:{type:{set:function(e,t){if(!G.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),an={set:function(e,t,n){return t===!1?Q.removeAttr(e,n):cn&&un||!ln.test(n)?e.setAttribute(!un&&Q.propFix[n]||n,n):e[Q.camelCase("default-"+n)]=e[n]=!0,n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(e,t){var n=sn[t]||Q.find.attr;sn[t]=cn&&un||!ln.test(t)?function(e,t,r){var i,o;return r||(o=sn[t],sn[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,sn[t]=o),i}:function(e,t,n){return n?void 0:e[Q.camelCase("default-"+t)]?t.toLowerCase():null}}),cn&&un||(Q.attrHooks.value={set:function(e,t,n){return Q.nodeName(e,"input")?void(e.defaultValue=t):on&&on.set(e,t,n)}}),un||(on={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},sn.id=sn.name=sn.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},Q.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:on.set},Q.attrHooks.contenteditable={set:function(e,t,n){on.set(e,""===t?!1:t,n)}},Q.each(["width","height"],function(e,t){Q.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),G.style||(Q.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var dn=/^(?:input|select|textarea|button|object)$/i,pn=/^(?:a|area)$/i;Q.fn.extend({prop:function(e,t){return Et(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Q.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?(o=1!==a||!Q.isXMLDoc(e),o&&(t=Q.propFix[t]||t,i=Q.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=Q.find.attr(e,"tabindex");return t?parseInt(t,10):dn.test(e.nodeName)||pn.test(e.nodeName)&&e.href?0:-1}}}}),G.hrefNormalized||Q.each(["href","src"],function(e,t){Q.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),G.optSelected||(Q.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this}),G.enctype||(Q.propFix.enctype="encoding");var fn=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,l=this.length,u="string"==typeof e&&e;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ct)||[];l>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(fn," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=Q.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,l=this.length,u=0===arguments.length||"string"==typeof e&&e;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ct)||[];l>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(fn," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?Q.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(Q.isFunction(e)?function(n){Q(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=Q(this),o=e.match(ct)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===ft||"boolean"===n)&&(this.className&&Q._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Q._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(fn," ").indexOf(t)>=0)return!0;return!1}});var mn=Q.now(),hn=/\?/,gn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;Q.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=Q.trim(t+"");return i&&!Q.trim(i.replace(gn,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():Q.error("Invalid JSON: "+t)},Q.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||Q.error("Invalid XML: "+t),n};var vn,yn,En=/#.*$/,bn=/([?&])_=[^&]*/,wn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,An=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,xn=/^(?:GET|HEAD)$/,Tn=/^\/\//,_n=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,In={},Sn={},Cn="*/".concat("*");try{yn=location.href}catch(Dn){yn=ot.createElement("a"),yn.href="",yn=yn.href}vn=_n.exec(yn.toLowerCase())||[],Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:An.test(vn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Cn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?N(N(e,Q.ajaxSettings),t):N(Q.ajaxSettings,e)},ajaxPrefilter:k(In),ajaxTransport:k(Sn),ajax:function(e,t){function n(e,t,n,r){var i,c,v,y,b,A=t;2!==E&&(E=2,s&&clearTimeout(s),u=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=L(d,w,n)),y=O(d,y,w,i),i?(d.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(Q.lastModified[o]=b),b=w.getResponseHeader("etag"),b&&(Q.etag[o]=b)),204===e||"HEAD"===d.type?A="nocontent":304===e?A="notmodified":(A=y.state,c=y.data,v=y.error,i=!v)):(v=A,(e||!A)&&(A="error",0>e&&(e=0))),w.status=e,w.statusText=(t||A)+"",i?m.resolveWith(p,[c,A,w]):m.rejectWith(p,[w,A,v]),w.statusCode(g),g=void 0,l&&f.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:v]),h.fireWith(p,[w,A]),l&&(f.trigger("ajaxComplete",[w,d]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,l,u,c,d=Q.ajaxSetup({},t),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?Q(p):Q.event,m=Q.Deferred(),h=Q.Callbacks("once memory"),g=d.statusCode||{},v={},y={},E=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===E){if(!c)for(c={};t=wn.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===E?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return E||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return E||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>E)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return u&&u.abort(t),n(0,t),this}};if(m.promise(w).complete=h.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||yn)+"").replace(En,"").replace(Tn,vn[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=Q.trim(d.dataType||"*").toLowerCase().match(ct)||[""],null==d.crossDomain&&(r=_n.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===vn[1]&&r[2]===vn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(vn[3]||("http:"===vn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Q.param(d.data,d.traditional)),P(In,d,t,w),2===E)return w;l=Q.event&&d.global,l&&0===Q.active++&&Q.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!xn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(hn.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=bn.test(o)?o.replace(bn,"$1_="+mn++):o+(hn.test(o)?"&":"?")+"_="+mn++)),d.ifModified&&(Q.lastModified[o]&&w.setRequestHeader("If-Modified-Since",Q.lastModified[o]),Q.etag[o]&&w.setRequestHeader("If-None-Match",Q.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Cn+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(p,w,d)===!1||2===E))return w.abort();b="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(u=P(Sn,d,t,w)){w.readyState=1,l&&f.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{E=1,u.send(v,n)}catch(A){if(!(2>E))throw A;n(-1,A)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return Q.get(e,t,n,"json")},getScript:function(e,t){return Q.get(e,void 0,t,"script")}}),Q.each(["get","post"],function(e,t){Q[t]=function(e,n,r,i){return Q.isFunction(n)&&(i=i||r,r=n,n=void 0),Q.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),Q._evalUrl=function(e){return Q.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!G.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||Q.css(e,"display"))},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)};var kn=/%20/g,Pn=/\[\]$/,Nn=/\r?\n/g,Ln=/^(?:submit|button|image|reset|file)$/i,On=/^(?:input|select|textarea|keygen)/i;Q.param=function(e,t){var n,r=[],i=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){i(this.name,this.value)});else for(n in e)R(n,e[n],t,i);return r.join("&").replace(kn,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&On.test(this.nodeName)&&!Ln.test(e)&&(this.checked||!bt.test(e))}).map(function(e,t){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(e){return{name:t.name,value:e.replace(Nn,"\r\n")}}):{name:t.name,value:n.replace(Nn,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&V()||B()}:V;var Rn=0,Vn={},Bn=Q.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Vn)Vn[e](void 0,!0)}),G.cors=!!Bn&&"withCredentials"in Bn,Bn=G.ajax=!!Bn,Bn&&Q.ajaxTransport(function(e){if(!e.crossDomain||G.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Rn;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,l,u;if(t&&(i||4===o.readyState))if(delete Vn[a],t=void 0,o.onreadystatechange=Q.noop,i)4!==o.readyState&&o.abort();else{u={},s=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{l=o.statusText}catch(c){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=u.text?200:404}u&&r(s,l,u,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Vn[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),Q.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ot;var r=nt.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=Q.buildFragment([e],t,i),i&&i.length&&Q(i).remove(),Q.merge([],r.childNodes))},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Q.fn[t]=function(e){return this.on(t,e)}});var Fn=e.document.documentElement;return Q.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=Q.css(e,"position"),d=Q(e),p={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=Q.css(e,"top"),l=Q.css(e,"left"),u=("absolute"===c||"fixed"===c)&&Q.inArray("auto",[o,l])>-1,u?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),Q.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):d.css(p)}},Q.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(t=o.documentElement,Q.contains(t,i)?(typeof i.getBoundingClientRect!==ft&&(r=i.getBoundingClientRect()),n=F(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===Q.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Q.nodeName(e[0],"html")||(n=e.offset()),n.top+=Q.css(e[0],"borderTopWidth",!0),n.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-Q.css(r,"marginTop",!0),left:t.left-n.left-Q.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Fn;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||Fn})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);Q.fn[e]=function(r){return Et(this,function(e,r,i){var o=F(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?Q(o).scrollLeft():i,n?i:Q(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),Q.each(["top","left"],function(e,t){Q.cssHooks[t]=T(G.pixelPosition,function(e,n){return n?(n=Wt(e,t),Gt.test(n)?Q(e).position()[t]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(e,t){Q.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Q.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return Et(this,function(t,n,r){var i;return Q.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?Q.css(t,n,a):Q.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),"function"==typeof n&&n.amd&&n("jquery",[],function(){return Q}),Q.noConflict=function(){},Q}),n("lib/jquery/jQuery.XDomainRequest",["jquery"],function(e){if(!e.support.cors&&e.ajaxTransport&&window.XDomainRequest){var t=/^https?:\/\//i,n=/^get|post$/i,r=new RegExp("^"+location.protocol,"i"),i=/text\/html/i,o=/\/json/i,a=/\/xml/i;e.ajaxTransport("* text html xml json",function(s,l){if(s.crossDomain&&s.async&&n.test(s.type)&&t.test(s.url)&&r.test(s.url)){var u=null,c=(l.dataType||"").toLowerCase();return{send:function(t,n){u=new XDomainRequest,/^\d+$/.test(l.timeout)&&(u.timeout=l.timeout),u.ontimeout=function(){n(500,"timeout")},u.onload=function(){var t="Content-Length: "+u.responseText.length+"\r\nContent-Type: "+u.contentType,r={code:200,message:"success"},s={text:u.responseText};try{if("html"===c||i.test(u.contentType))s.html=u.responseText;else if("json"===c||"text"!==c&&o.test(u.contentType))try{s.json=e.parseJSON(u.responseText)}catch(l){r.code=500,r.message="parseerror"}else if("xml"===c||"text"!==c&&a.test(u.contentType)){var d=new ActiveXObject("Microsoft.XMLDOM");d.async=!1;try{d.loadXML(u.responseText)}catch(l){d=void 0}if(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)throw r.code=500,r.message="parseerror","Invalid XML: "+u.responseText;s.xml=d}}catch(p){throw p}finally{n(r.code,r.message,s,t)}},u.onprogress=function(){},u.onerror=function(){n(500,"error",{text:u.responseText})};var r="";l.data&&(r="string"===e.type(l.data)?l.data:e.param(l.data)),u.open(s.type,s.url),u.send(r)},abort:function(){u&&u.abort()}}}})}}),function(){n("dom/$",["require","jquery","lib/jquery/jQuery.XDomainRequest"],function(e){var t=e("jquery");return e("lib/jquery/jQuery.XDomainRequest"),t})}(),function(){n("util/each",["require","dom/$"],function(e){var t=e("dom/$");return function(){arguments[0]&&t.each.apply(t,arguments)}})}(this),function(e){n("dom/createElement",["require","util/defined","util/each"],function(t){var n=t("util/defined"),r=t("util/each"),i=function(t,i,o){var a,s;return o?e.document.createElementNS?a=e.document.createElementNS(null,t):n(e.ActiveXObject)&&(s=new e.ActiveXObject("Msxml2.DOMDocument.6.0"),a=s.createElement(t)):a=e.document.createElement(t),r(i,function(e,t){a.setAttribute(e,t)}),a};return i})}(this),n("dom/createElementFuseProtect",["require","dom/createElement","dom/$"],function(e){var t=e("dom/createElement"),n=e("dom/$"),r=function(){var e=t.apply(this,arguments);return n(e).addClass("gacdn"),n(e).addClass("123media"),e};return r}),function(){n("util/extend",["require","dom/$"],function(e){var t=e("dom/$");return t.extend})}(this),function(){n("util/isEmpty",["require","dom/$"],function(e){var t=e("dom/$");return t.isEmptyObject})}(this),function(){n("util/maybeDecodeURIComponent",[],function(){var e=function(e){var t=e;try{t=decodeURIComponent(e)}catch(n){}return t};return e})}(this),function(e){n("util/parseQueryString",["require","util/each","util/maybeDecodeURIComponent"],function(t){var n=t("util/each"),r=t("util/maybeDecodeURIComponent"),i=function(t){var i,o,a={};return 0===arguments.length&&(t=e.location.search),t&&(i=t.indexOf("?"),-1!==i&&(t=t.substring(i+1)),t=t.replace(/\+/g," "),o=t.split("&")),n(o,function(e,t){var n;t=t.split("="),t.length&&(n=r(t[0]),n&&(a[n]=r(t[1])))}),a};return i})}(this),function(){n("util/isPlainObject",["require","dom/$"],function(e){var t=e("dom/$");return t.isPlainObject})}(this),function(){n("dom/addEvent",[],function(){var e=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)};return e})}(this),function(e){n("core/console",["require"],function(){var t,n={},r=new Date,i=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"],o=function(e){var t=n.filter&&n.filter.exclude;return t&&(e=Array.prototype.slice.call(e),t.test(e.join(" ")))?!1:!0},a=function(e){var t=n.filter&&n.filter.include;return t?(e=Array.prototype.slice.call(e),t.test(e.join(" "))?!0:!1):!0},s=function(t){n[t]=function(){var n,i=e.console[t]||e.console.log;if(i&&("function"==typeof i||"object"==typeof i)){if(!o(arguments)||!a(arguments))return!1;n=Array.prototype.slice.call(arguments),"string"==typeof n[0]?n[0]="%s "+n[0]:n.unshift("%s"),n.splice(1,0,(new Date-r)/1e3),"object"==typeof i?e.console[t](n.join(" ")):e.console[t].apply(e.console,n)}}},l=function(){return null};return n.init=function(r){var o;for(o=0;o<i.length;o+=1)t=i[o],r&&e.console?s(t):n[t]=l},n.init(!1),n})}(this),function(){n("util/isNode",[],function(){var e=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName};return e})}(this),function(){n("util/isElement",[],function(){var e=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};return e})}(this),function(e){n("util/consoleOverride",["require","dom/createElement","dom/addEvent","core/console","util/isNode","util/isElement"],function(t){var n=t("dom/createElement"),r=t("dom/addEvent"),i=t("core/console"),o=t("util/isNode"),a=t("util/isElement"),s=function(){var t,s,l=new Date,u=n("div"),c=n("a",{href:"#"}),d=n("span"),p=n("a",{href:"#"}),f=n("div"),m=function(e,t){var n;for(n in t)if(t.hasOwnProperty(n)&&e===t[n])return!0;return!1},h=function(e,t){var n,r=[],i="";if("object"==typeof e){for(n in e)e.hasOwnProperty(n)&&(t||(t=[]),e[n]&&"object"==typeof e[n]&&m(e[n],t)?i="(recursion)":t.length>100?i="(too deep)":e[n]&&(o(e[n])||a(e[n]))?i="(dom)":(e[n]&&"object"==typeof e[n]&&(t=t.slice(0),t.push(e[n])),i=h(e[n],t)),r.push(n+": "+i));return"Object { "+r.join(", ")+" }"}return"function"==typeof e?"function":e},g=function(){var e,t,r=n("p"),i="",o=arguments,a=function(){return e+=1,h(o[e])};for(e=0;e<arguments.length;e+=1)t=arguments[e],i+="string"==typeof t?t.replace(/%[odisf]/g,a):h(t),i+=" ";r.innerText=r.textContent=i,r.style.margin="3px 0",r.style.borderBottom="1px solid #ccc",r.style.padding="5px",f.appendChild(r)},v=!0,y=function(t){return t||(t=e.event),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1),v?(f.style.display="none",p.style.display="none",c.innerText=c.textContent="Show console"):(f.style.display="block",p.style.display="inline",c.innerText=c.textContent="Hide console"),v=!v,!1},E=function(t){var n,r,i=e.document,o=f;t||(t=e.event),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1),i.body.createTextRange?(n=i.body.createTextRange(),n.moveToElementText(o),n.select()):e.getSelection&&(r=e.getSelection(),n=i.createRange(),n.selectNodeContents(o),r.removeAllRanges(),r.addRange(n))},b={},w=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"],A=function(e){return function(){var t;b[e].apply(i,arguments)!==!1&&(t=Array.prototype.slice.call(arguments),"string"==typeof t[0]?t[0]="%s "+t[0]:t.unshift("%s"),t.splice(1,0,(new Date-l)/1e3),g.apply(i,t))}};for(f.style.height="300px",f.style.width="600px",f.style.overflow="auto",f.style.border="1px solid black",f.style.font="14px/1 arial",d.innerText=d.textContent=" ",p.innerText=p.textContent="Select text",p.style.marginRight="10px",r(c,"click",y),r(p,"click",E),y(),u.appendChild(c),u.appendChild(d),u.appendChild(p),u.appendChild(f),e.document.body.appendChild(u),s=0;s<w.length;s+=1)t=w[s],b[t]=i[t],i[t]=A(t)};return s})}(this),function(e){n("dom/getElement",["require","util/isElement"],function(t){var n=t("util/isElement"),r=function(t){return t?n(t)?t:"string"==typeof t?e.document.getElementById(t):!1:!1};return r})}(this),function(e){n("dom/getScriptElement",["require","util/each","util/defined","util/parseQueryString"],function(t){var n=t("util/each"),r=t("util/defined"),i=t("util/parseQueryString"),o=r(e)?{"externalID":"6957","path":"\/JS_Syndiction\/scripts\/hiro_dynamic_player.js"}:"",a=function(){var t=e.document.getElementsByTagName("script"),r=0,a={},s=null,l=null,u=[];return n(t,function(e,t){u.unshift(t)}),t=u,"string"!=typeof o&&(n(o,function(e,t){r+=1,a[e]=t}),o.path&&(l=o.path,r-=1,delete a.path),r&&n(t,function(e,t){var r=i(t.src),o=!1;return n(a,function(e,t){return t!==r[e]?(o=!0,!0):void 0}),o?void 0:(s=t,!1)}),!s&&l&&n(t,function(e,t){return-1!==t.src.indexOf(l)?(s=t,!1):void 0})),s||(s=t[0]),s};return a})}(this),function(e){n("dom/getFlashVersion",["require","util/defined"],function(t){var n=t("util/defined"),r=function(){var t,r,i=-1;if(n(e.navigator.plugins)&&"object"==typeof e.navigator.plugins["Shockwave Flash"])t=e.navigator.plugins["Shockwave Flash"].description,t&&n(e.navigator.mimeTypes)&&e.navigator.mimeTypes["application/x-shockwave-flash"]&&e.navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=t.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),i=[],i[0]=parseInt(t.replace(/^(.*)\..*$/,"$1"),10),i[1]=parseInt(t.replace(/^.*\.(.*)\s.*$/,"$1"),10),i[2]=/[a-zA-Z]/.test(t)?parseInt(t.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(n(e.ActiveXObject))try{r=new e.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),r&&(t=r.GetVariable("$version"),t&&(t=t.split(" ")[1].split(","),i=[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)]))}catch(o){}return-1!==i&&(i=i.join(".")),i};return r})}(this),function(e){n("dom/isTransparent",[],function(){var t=function(){try{var t=e.top.location.href;if(t)return!0}catch(n){}return!1};return t})}(this),function(e,t){var r="0.7.9",i="",o="?",a="function",s="undefined",l="object",u="string",c="major",d="model",p="name",f="type",m="vendor",h="version",g="architecture",v="console",y="mobile",E="tablet",b="smarttv",w="wearable",A="embedded",x={extend:function(e,t){for(var n in t)-1!=="browser cpu device engine os".indexOf(n)&&0===t[n].length%2&&(e[n]=t[n].concat(e[n]));return e},has:function(e,t){return"string"==typeof e?-1!==t.toLowerCase().indexOf(e.toLowerCase()):!1
},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===u?e.split(".")[0]:t}},T={rgx:function(){for(var e,n,r,i,o,u,c,d=0,p=arguments;d<p.length&&!u;){var f=p[d],m=p[d+1];if(typeof e===s){e={};for(i in m)o=m[i],typeof o===l?e[o[0]]=t:e[o]=t}for(n=r=0;n<f.length&&!u;)if(u=f[n++].exec(this.getUA()))for(i=0;i<m.length;i++)c=u[++r],o=m[i],typeof o===l&&o.length>0?2==o.length?e[o[0]]=typeof o[1]==a?o[1].call(this,c):o[1]:3==o.length?e[o[0]]=typeof o[1]!==a||o[1].exec&&o[1].test?c?c.replace(o[1],o[2]):t:c?o[1].call(this,c,o[2]):t:4==o.length&&(e[o[0]]=c?o[3].call(this,c.replace(o[1],o[2])):t):e[o]=c?c:t;d+=2}return e},str:function(e,n){for(var r in n)if(typeof n[r]===l&&n[r].length>0){for(var i=0;i<n[r].length;i++)if(x.has(n[r][i],e))return r===o?t:r}else if(x.has(n[r],e))return r===o?t:r;return e}},_={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},I={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[p,h],[/\s(opr)\/([\w\.]+)/i],[[p,"Opera"],h],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium)\/([\w\.-]+)/i],[p,h],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[p,"IE"],h],[/(edge)\/((\d+)?[\w\.]+)/i],[p,h],[/(yabrowser)\/([\w\.]+)/i],[[p,"Yandex"],h],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],h],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[p,h],[/(dolfin)\/([\w\.]+)/i],[[p,"Dolphin"],h],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[p,"Chrome"],h],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[h,[p,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[h,[p,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[h,[p,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[h,[p,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[h,p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[p,[h,T.str,_.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[p,h],[/(navigator|netscape)\/([\w\.-]+)/i],[[p,"Netscape"],h],[/fxios\/([\w\.-]+)/i],[h,[p,"Firefox"]],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[p,h]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,x.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[g,/ower/,"",x.lowerize]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[g,x.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[d,m,[f,E]],[/applecoremedia\/[\w\.]+ \((ipad)/],[d,[m,"Apple"],[f,E]],[/(apple\s{0,1}tv)/i],[[d,"Apple TV"],[m,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[m,d,[f,E]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[d,[m,"Amazon"],[f,E]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[d,T.str,_.device.amazon.model],[m,"Amazon"],[f,y]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[d,m,[f,y]],[/\((ip[honed|\s\w*]+);/i],[d,[m,"Apple"],[f,y]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[m,d,[f,y]],[/\(bb10;\s(\w+)/i],[d,[m,"BlackBerry"],[f,y]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[d,[m,"Asus"],[f,E]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[m,"Sony"],[d,"Xperia Tablet"],[f,E]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[m,"Sony"],[d,"Xperia Phone"],[f,y]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[m,d,[f,v]],[/android.+;\s(shield)\sbuild/i],[d,[m,"Nvidia"],[f,v]],[/(playstation\s[3portablevi]+)/i],[d,[m,"Sony"],[f,v]],[/(sprint\s(\w+))/i],[[m,T.str,_.device.sprint.vendor],[d,T.str,_.device.sprint.model],[f,y]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[m,d,[f,E]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[m,[d,/_/g," "],[f,y]],[/(nexus\s9)/i],[d,[m,"HTC"],[f,E]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[d,[m,"Microsoft"],[f,v]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[m,"Microsoft"],[f,y]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i],[d,[m,"Motorola"],[f,y]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[d,[m,"Motorola"],[f,E]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[m,"Samsung"],d,[f,E]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[m,"Samsung"],d,[f,y]],[/(samsung);smarttv/i],[m,d,[f,b]],[/\(dtv[\);].+(aquos)/i],[d,[m,"Sharp"],[f,b]],[/sie-(\w+)*/i],[d,[m,"Siemens"],[f,y]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[m,"Nokia"],d,[f,y]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[d,[m,"Acer"],[f,E]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[m,"LG"],d,[f,E]],[/(lg) netcast\.tv/i],[m,d,[f,b]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[d,[m,"LG"],[f,y]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[d,[m,"Lenovo"],[f,E]],[/linux;.+((jolla));/i],[m,d,[f,y]],[/((pebble))app\/[\d\.]+\s/i],[m,d,[f,w]],[/android.+;\s(glass)\s\d/i],[d,[m,"Google"],[f,w]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[d,/_/g," "],[m,"Xiaomi"],[f,y]],[/(mobile|tablet);.+rv\:.+gecko\//i],[[f,x.lowerize],m,d]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[h,[p,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[p,h],[/rv\:([\w\.]+).*(gecko)/i],[h,p]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[p,h],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[p,[h,T.str,_.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[p,"Windows"],[h,T.str,_.os.windows.version]],[/\((bb)(10);/i],[[p,"BlackBerry"],h],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[p,h],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[p,"Symbian"],h],[/\((series40);/i],[p],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[p,"Firefox OS"],h],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[p,h],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[p,"Chromium OS"],h],[/(sunos)\s?([\w\.]+\d)*/i],[[p,"Solaris"],h],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[p,h],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[p,"iOS"],[h,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[p,"Mac OS"],[h,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[p,h]]},S=function(t,n){if(!(this instanceof S))return new S(t,n).getResult();var r=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:i),o=n?x.extend(I,n):I;return this.getBrowser=function(){var e=T.rgx.apply(this,o.browser);return e.major=x.major(e.version),e},this.getCPU=function(){return T.rgx.apply(this,o.cpu)},this.getDevice=function(){return T.rgx.apply(this,o.device)},this.getEngine=function(){return T.rgx.apply(this,o.engine)},this.getOS=function(){return T.rgx.apply(this,o.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this.setUA(r),this};S.VERSION=r,S.BROWSER={NAME:p,MAJOR:c,VERSION:h},S.CPU={ARCHITECTURE:g},S.DEVICE={MODEL:d,VENDOR:m,TYPE:f,CONSOLE:v,MOBILE:y,SMARTTV:b,TABLET:E,WEARABLE:w,EMBEDDED:A},S.ENGINE={NAME:p,VERSION:h},S.OS={NAME:p,VERSION:h},typeof exports!==s?(typeof module!==s&&module.exports&&(exports=module.exports=S),exports.UAParser=S):typeof n===a&&n.amd?n("lib/ua-parser/ua-parser",[],function(){return S}):e.UAParser=S;var C=e.jQuery||e.Zepto;if(typeof C!==s){var D=new S;C.ua=D.getResult(),C.ua.get=function(){return D.getUA()},C.ua.set=function(e){D.setUA(e);var t=D.getResult();for(var n in t)C.ua[n]=t[n]}}}("object"==typeof window?window:this),function(e){n("dom/browser",["require","util/parseQueryString","dom/getFlashVersion","dom/isTransparent","lib/ua-parser/ua-parser"],function(t){var n=t("util/parseQueryString"),r=t("dom/getFlashVersion"),i=t("dom/isTransparent"),o=t("lib/ua-parser/ua-parser"),a={init:function(t){var a,s;t&&(e=t),a=new o(e.navigator.userAgent),s=a.getResult(),this.device=s.device,this.os=s.os.name,this.osVersion=s.os.version,this.userAgent=e.navigator.userAgent,this.name=s.browser.name+"_"+s.browser.version,this.query=n(),this.isFrame=e.self!==e.top,this.isTransparent=i(),this.height=e.innerHeight||e.document.documentElement.clientHeight||e.document.body.offsetHeight,this.width=e.innerWidth||e.document.documentElement.clientWidth||e.document.body.offsetWidth,this.flashversion=r()},isTabVisible:function(){var e=!document.hasFocus();return void 0!==document.hidden?e=document.hidden:void 0!==document.mozHidden?e=document.mozHidden:void 0!==document.msHidden?e=document.msHidden:void 0!==document.webkitHidden&&(e=document.webkitHidden),!e}};return a.init(),a})}(this),function(){n("util/buildQueryString",["require","util/each","util/defined"],function(e){var t=e("util/each"),n=e("util/defined"),r=function(e,r){var i=[];return n(r)||(r="&"),t(e,function(e,t){i.push([encodeURIComponent(e),encodeURIComponent(t)].join("="))}),i.join(r)};return r})}(this),function(e){var t=function(e,n,r){return 1===arguments.length?t.get(e):t.set(e,n,r)};t._document=document,t._navigator=navigator,t.defaults={path:"/"},t.get=function(e){return t._cachedDocumentCookie!==t._document.cookie&&t._renewCache(),t._cache[e]},t.set=function(n,r,i){return i=t._getExtendedOptions(i),i.expires=t._getExpiresDate(r===e?-1:i.expires),t._document.cookie=t._generateCookieString(n,r,i),t},t.expire=function(n,r){return t.set(n,e,r)},t._getExtendedOptions=function(n){return{path:n&&n.path||t.defaults.path,domain:n&&n.domain||t.defaults.domain,expires:n&&n.expires||t.defaults.expires,secure:n&&n.secure!==e?n.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){switch(n=n||new Date,typeof e){case"number":e=new Date(n.getTime()+1e3*e);break;case"string":e=new Date(e)}if(e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){e=encodeURIComponent(e),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var r=e+"="+t;return r+=n.path?";path="+n.path:"",r+=n.domain?";domain="+n.domain:"",r+=n.expires?";expires="+n.expires.toGMTString():"",r+=n.secure?";secure":""},t._getCookieObjectFromString=function(n){for(var r={},i=n?n.split("; "):[],o=0;o<i.length;o++){var a=t._getKeyValuePairFromCookieString(i[o]);r[a.key]===e&&(r[a.key]=a.value)}return r},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("="),n="",r="";t=0>t?e.length:t;try{n=decodeURIComponent(e.substr(0,t))}catch(i){}try{r=decodeURIComponent(e.substr(t+1))}catch(i){}return{key:n,value:r}},t._renewCache=function(){t._cache=t._getCookieObjectFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){return t._navigator.cookieEnabled||"1"===t.set("cookies.js",1).get("cookies.js")},t.enabled=t._areEnabled(),"function"==typeof n&&n.amd?n("lib/cookies/cookies",[],function(){return t}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.Cookies=t):window.Cookies=t}(),function(){n("util/randomInt",["require"],function(){var e=function(e,t){return t||(t=e,e=0),Math.floor(Math.random()*(t-e))+e};return e})}(this),function(){n("player/Session",["require","util/each","util/extend","util/defined","util/parseQueryString","util/buildQueryString","core/console","lib/cookies/cookies","util/randomInt"],function(e){var t=e("util/each"),n=e("util/extend"),r=e("util/defined"),i=e("util/parseQueryString"),o=e("util/buildQueryString"),a=e("core/console"),s=e("lib/cookies/cookies"),l=e("util/randomInt"),u="HIRO_COOKIE",c=6e5,d=12,p=(new Date).getTime(),f=function(e){var t,n,r="";for(t=0;e>t;t+=1)n=l(10),r+=n.toString();return r},m=function(e,n){var o,a=this,l=s(u);r(n)&&(c=1e3*60*n),a.session=i(l)||{},a.expired()&&(a.session.data="",a.session.id=""),a.session.data=i(a.session.data)||{},t(a.session.data,function(e,t){"false"===t&&(t=!1),"true"===t&&(t=!0),parseInt(t,10).toString()===t&&(t=parseInt(t,10)),a.session.data[e]=t}),a.session.id?a.session.newSession=!1:(a.session.newSession=!0,o=f(d),a.session.id=e?"1"+o:"2"+o,a.session.timestamp=p),l&&!a.expired()&&(a.session.timestamp=p,a.set())};return m.prototype.set=function(e){var t=this,r={};a.log("Session: set()",arguments),n(!0,t.session.data,e),n(!0,r,t.session),r.data=o(r.data),s(u,o(r),{expires:31536e3})},m.prototype.expired=function(){var e=this,t=e.session.timestamp,n=c;return n=r(e.session.data)&&r(e.session.data[n])?e.session.data[n]:c,t&&p-t>=n},m.prototype.get=function(){var e=this,t=e.session.data;return a.log("Session: get()",arguments),t=n(!0,{},t,{sessionID:e.session.id})},m.prototype.getId=function(){var e=this;return a.log("Session: getId()",arguments),e.session.id},m.prototype.isNew=function(){var e=this;return a.log("Session: isNew()",arguments),e.session.newSession},m})}(this),function(){n("util/isNumber",[],function(){var e=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};return e})}(this),function(){n("player/getPlacementCost",["require","util/isNumber"],function(e){var t=e("util/isNumber"),n=function(e){var n=0,r=t(e.placementCostDiscrepancy)?e.placementCostDiscrepancy:0,i=t(e.placementCostCommission)?e.placementCostCommission:0;return t(e.pc_s)?n=1e3*e.pc_s*(100+r)*(100+i)/1e4:t(e.placementCost)?n=e.placementCost*(100+r)*(100+i)/1e4:e.placementCostFromServer&&t(e.serverPlacementCost)&&(n=e.serverPlacementCost*(100+r)*(100+i)/1e4),n};return n})}(this),function(){function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e,t){K[j]=e,K[j+1]=t,j+=2,2===j&&W()}function a(){var e=process.nextTick,t=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(t)&&"0"===t[1]&&"10"===t[2]&&(e=setImmediate),function(){e(d)}}function s(){return function(){q(d)}}function l(){var e=0,t=new X(d),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function u(){var e=new MessageChannel;return e.port1.onmessage=d,function(){e.port2.postMessage(0)}}function c(){return function(){setTimeout(d,1)}}function d(){for(var e=0;j>e;e+=2){var t=K[e],n=K[e+1];t(n),K[e]=void 0,K[e+1]=void 0}j=0}function p(){try{var e=t,n=e("vertx");return q=n.runOnLoop||n.runOnContext,s()}catch(r){return c()}}function f(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function g(e){try{return e.then}catch(t){return tt.error=t,tt}}function v(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function y(e,t,n){$(function(e){var r=!1,i=v(n,t,function(n){r||(r=!0,t!==n?w(e,n):x(e,n))},function(t){r||(r=!0,T(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,T(e,i))},e)}function E(e,t){t._state===Z?x(e,t._result):t._state===et?T(e,t._result):_(t,void 0,function(t){w(e,t)},function(t){T(e,t)})}function b(e,t){if(t.constructor===e.constructor)E(e,t);else{var n=g(t);n===tt?T(e,tt.error):void 0===n?x(e,t):r(n)?y(e,t,n):x(e,t)}}function w(t,n){t===n?T(t,m()):e(n)?b(t,n):x(t,n)}function A(e){e._onerror&&e._onerror(e._result),I(e)}function x(e,t){e._state===J&&(e._result=t,e._state=Z,0!==e._subscribers.length&&$(I,e))}function T(e,t){e._state===J&&(e._state=et,e._result=t,$(A,e))}function _(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+Z]=n,i[o+et]=r,0===o&&e._state&&$(I,e)}function I(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?D(n,r,i,o):i(o);e._subscribers.length=0}}function S(){this.error=null}function C(e,t){try{return e(t)}catch(n){return nt.error=n,nt}}function D(e,t,n,i){var o,a,s,l,u=r(n);if(u){if(o=C(n,i),o===nt?(l=!0,a=o.error,o=null):s=!0,t===o)return T(t,h()),void 0}else o=i,s=!0;t._state!==J||(u&&s?w(t,o):l?T(t,a):e===Z?x(t,o):e===et&&T(t,o))}function k(e,t){try{t(function(t){w(e,t)},function(t){T(e,t)})}catch(n){T(e,n)}}function P(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(f),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?x(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&x(n.promise,n._result))):T(n.promise,n._validationError())}function N(e){return new rt(this,e).promise}function L(e){function t(e){w(i,e)}function n(e){T(i,e)}var r=this,i=new r(f);if(!H(e))return T(i,new TypeError("You must pass an array to race.")),i;for(var o=e.length,a=0;i._state===J&&o>a;a++)_(r.resolve(e[a]),void 0,t,n);return i}function O(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(f);return w(n,e),n}function R(e){var t=this,n=new t(f);return T(n,e),n}function V(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function B(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function F(e){this._id=lt++,this._state=void 0,this._result=void 0,this._subscribers=[],f!==e&&(r(e)||V(),this instanceof F||B(),k(this,e))}function M(){var e;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=ut)}var U;U=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var H=U,j=0;({}).toString;var q,W,$=o,z="undefined"!=typeof window?window:void 0,G=z||{},X=G.MutationObserver||G.WebKitMutationObserver,Q="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Y="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,K=new Array(1e3);W=Q?a():X?l():Y?u():void 0===z&&"function"==typeof t?p():c();var J=void 0,Z=1,et=2,tt=new S,nt=new S;P.prototype._validateInput=function(e){return H(e)},P.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},P.prototype._init=function(){this._result=new Array(this.length)};var rt=P;P.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,i=0;n._state===J&&t>i;i++)e._eachEntry(r[i],i)},P.prototype._eachEntry=function(e,t){var n=this,r=n._instanceConstructor;i(e)?e.constructor===r&&e._state!==J?(e._onerror=null,n._settledAt(e._state,t,e._result)):n._willSettleAt(r.resolve(e),t):(n._remaining--,n._result[t]=e)},P.prototype._settledAt=function(e,t,n){var r=this,i=r.promise;i._state===J&&(r._remaining--,e===et?T(i,n):r._result[t]=n),0===r._remaining&&x(i,r._result)},P.prototype._willSettleAt=function(e,t){var n=this;_(e,void 0,function(e){n._settledAt(Z,t,e)},function(e){n._settledAt(et,t,e)})};var it=N,ot=L,at=O,st=R,lt=0,ut=F;F.all=it,F.race=ot,F.resolve=at,F.reject=st,F.prototype={constructor:F,then:function(e,t){var n=this,r=n._state;if(r===Z&&!e||r===et&&!t)return this;var i=new this.constructor(f),o=n._result;if(r){var a=arguments[r-1];$(function(){D(r,i,a,o)})}else _(n,i,e,t);return i},"catch":function(e){return this.then(null,e)}};var ct=M,dt={Promise:ut,polyfill:ct};"function"==typeof n&&n.amd?n("lib/es6-promise/es6-promise",[],function(){return dt}):"undefined"!=typeof module&&module.exports?module.exports=dt:"undefined"!=typeof this&&(this.ES6Promise=dt),ct()}.call(this),function(e){function t(e,n){n=n||{},this._id=t._generateUUID(),this._promise=n.promise||Promise,this._frameId=n.frameId||"CrossStorageClient-"+this._id,this._origin=t._getOrigin(e),this._requests={},this._connected=!1,this._closed=!1,this._count=0,this._timeout=n.timeout||3e3,this._listener=null,this._installListener();var r;n.frameId&&(r=document.getElementById(n.frameId)),r&&this._poll(),r=r||this._createFrame(e),this._hub=r.contentWindow}t.frameStyle={display:"none",position:"absolute",top:"-999px",left:"-999px"},t._getOrigin=function(e){var t,n,r;return t=document.createElement("a"),t.href=e,t.host||(t=window.location),n=t.protocol&&":"!==t.protocol?t.protocol:window.location.protocol,r=n+"//"+t.host,r=r.replace(/:80$|:443$/,"")},t._generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),n="x"==e?t:8|3&t;return n.toString(16)})},t.prototype.onConnect=function(){var e=this;return this._connected?this._promise.resolve():this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):(this._requests.connect||(this._requests.connect=[]),new this._promise(function(t,n){var r=setTimeout(function(){n(new Error("CrossStorageClient could not connect"))},e._timeout);e._requests.connect.push(function(e){return clearTimeout(r),e?n(e):(t(),void 0)})}))},t.prototype.set=function(e,t,n){return this._request("set",{key:e,value:t,ttl:n})},t.prototype.get=function(){var e=Array.prototype.slice.call(arguments);return this._request("get",{keys:e})},t.prototype.del=function(){var e=Array.prototype.slice.call(arguments);return this._request("del",{keys:e})},t.prototype.clear=function(){return this._request("clear")},t.prototype.getKeys=function(){return this._request("getKeys")},t.prototype.close=function(){var e=document.getElementById(this._frameId);e&&e.parentNode.removeChild(e),window.removeEventListener?window.removeEventListener("message",this._listener,!1):window.detachEvent("onmessage",this._listener),this._connected=!1,this._closed=!0},t.prototype._installListener=function(){var e=this;this._listener=function(t){var n,r,i;if(!e._closed&&t.origin===e._origin)if("cross-storage:unavailable"!==t.data){if(-1!==t.data.indexOf("cross-storage:")&&!e._connected){if(e._connected=!0,!e._requests.connect)return;for(n=0;n<e._requests.connect.length;n++)e._requests.connect[n](r);delete e._requests.connect}if("cross-storage:ready"!==t.data){try{i=JSON.parse(t.data)}catch(o){return}i.id&&e._requests[i.id]&&e._requests[i.id](i.error,i.result)}}else{if(e._closed||e.close(),!e._requests.connect)return;for(r=new Error("Closing client. Could not access localStorage in hub."),n=0;n<e._requests.connect.length;n++)e._requests.connect[n](r)}},window.addEventListener?window.addEventListener("message",this._listener,!1):window.attachEvent("onmessage",this._listener)},t.prototype._poll=function(){var e,t;e=this,t=setInterval(function(){return e._connected?clearInterval(t):(e._hub&&e._hub.postMessage("cross-storage:poll",e._origin),void 0)},1e3)},t.prototype._createFrame=function(e){var n,r;n=window.document.createElement("iframe"),n.id=this._frameId;for(r in t.frameStyle)t.frameStyle.hasOwnProperty(r)&&(n.style[r]=t.frameStyle[r]);return window.document.body.appendChild(n),n.src=e,n},t.prototype._request=function(e,t){var n,r;return this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):(r=this,r._count++,n={id:this._id+":"+r._count,method:"cross-storage:"+e,params:t},new this._promise(function(e,t){var i,o;i=setTimeout(function(){r._requests[n.id]&&(delete r._requests[n.id],t(new Error("Timeout: could not perform "+n.method)))},r._timeout),r._requests[n.id]=function(n,r){return clearTimeout(i),n?t(new Error(n)):(e(r),void 0)},Array.prototype.toJSON&&(o=Array.prototype.toJSON,Array.prototype.toJSON=null),r._hub.postMessage(JSON.stringify(n),r._origin),o&&(Array.prototype.toJSON=o)}))},"undefined"!=typeof module&&module.exports?module.exports=t:"undefined"!=typeof exports?exports.CrossStorageClient=t:"function"==typeof n&&n.amd?n("CrossStorageClient",[],function(){return t}):e.CrossStorageClient=t}(this),function(){n("player/defaultConfig",[],function(){return{appEngineDomain:"hiroservers.appspot.com",geoRistrictionImg:"http://software.hiro.tv/geo_unavailable/geo_unavailable.png",playImg:"http://software.hiro.tv/User_initiate/play_large.png",playList:[{customProperties:{}}],isPremiumSite:!1,blockOnFraud:!1,enableAutomaicOptimization:!1,automaticallyOptimizeWaterfall:!1,sendMovieLog:!1,sendMovieLogUrl:"//hevents.elasticbeanstalk.com",experimentId:"",fallBack:{},bannerAd:{},provider:"psuedo",externalViewLogServlet:"",moatTrackingCode:"hiromediavideo681732093",consoleServer:"es1.appserver.tv",adScienceId:6961,onHoverDelay:2,extDynamicParam1:"",extDynamicParam2:"",defaultClientID:-1,persistVolumeLevel:!1,losFirstinBreak:!1,shuffleAdNetworksPerc:1,movieViewLogSampling:1,persistentPreroll:!1,persistentPrerollLoop:1,rotoscopeDefaultPrefixUrl:"http://rotoscope.hiro.tv/rotoads/ads/json?origin_url=",rotoscopeUrl:"http://rotoscope.hiro.tv/rotoads/VpaidLinearRotoscope/VpaidLinearRotoscope.min.js",forceNoAutoplay:!1,movieBumperEnabled:!1,publisherId:-1,httpProtocol:"https",externalPlayerUrl:"PlayerWrapper.js",externalPlayerCss:["video-js.css"],additionalScripts:[],networkEventMode:0,adTypePreference:"application/javascript",internalAdIdLength:500,maxBleeps:10,maxBleepsjs:3,useDynamicTimeout:!1,dynamicTimeoutSuccessEventPerc:1,DIRECT_SYNDICATION:{extraBlockedUrls:[]},initNumberOfSnap:4,adOptions:{bidDelay:1e4,domValidators:{volumeValidator:{options:{maxBleeps:3}}}},blankMovieUrl:"https://hrsecsynd-a.akamaihd.net/Assets/blank.mp4",xdc:{},hfdConf:{hiro_debug:!0,publisherEventsPerc:100,placementEventsPerc:100,networkEventsPerc:100,networkRequestEventsPerc:100},browserQueryConfigWhitelist:["externalID","consoleLogToNetwork","hiro_label"]}})}(this),function(){n("player/configOverride",[],function(){return{ku:{onHoverDelay:3},ku_mm:{scale_start:1e-5,onHoverEnabled:!1,onHoverDelay:0,oneAdInBreak:!0}}})}(this),function(){n("util/percentChance",["require","util/randomInt"],function(e){var t=e("util/randomInt"),n=function(e){return t(100)<e};return n})}(this),function(){n("util/isArray",["require","dom/$"],function(e){var t=e("dom/$");return t.isArray})}(this),function(){n("util/stringToBoolean",["require","util/each","util/isPlainObject","util/isArray"],function(e){var t=e("util/each"),n=e("util/isPlainObject"),r=e("util/isArray"),i=function(e){return"false"===e?!1:"true"===e?!0:e},o=function(e){var a=n(e)||r(e);return a?(t(e,function(t,n){e[t]=o(n)}),e):i(e)};return o})}(this),function(){n("util/abTesting",["require","core/console","util/each","util/extend","util/randomInt"],function(e){var t=e("core/console"),n=e("util/each"),r=e("util/extend"),i=e("util/randomInt"),o=function(e){var t=this;t.abTesting=r(!0,{},e)};return o.prototype.getAffiliateId=function(){var e=this,t="";return e.abWinner&&(t="ab_"+e.abWinner),t},o.prototype.getAbConfig=function(){var e=this,t="";return e.abConfig&&(t=e.abConfig),t},o.prototype.init=function(){var e=this,r=i(0,100),o=e.abTesting,a=0;t.log("in abTesting ",o),n(o,function(n,i){return a+=i.percentage,a>r?(e.abWinner=i.testName,e.abConfig=i.config,t.log("abTesting ab test winner is "+e.abWinner),!1):void 0})},o})}(this),function(){n("util/buildUrl",["require","util/buildQueryString"],function(e){var t=e("util/buildQueryString"),n=function(e,n){var r=e,i="?",o=t(n);return o?(-1!==e.indexOf("?")&&(i="&"),r+=i+o):r};return n})}(this),function(e){n("dom/beacon",["require","util/extend","util/buildUrl"],function(t){var n=t("util/extend"),r=t("util/buildUrl"),i=function(t,i,o){var a;t&&(a=new e.Image,o||(i=n(!0,{cb:(new Date).getTime()},i)),t=r(t,i),a.src=t)};return i})}(this),n("util/pick",["require","util/isArray","util/each"],function(e){var t=e("util/isArray"),n=e("util/each"),r=function(e,r){var i={};return t(r)||(r=[r]),n(r,function(t,n){i[n]=e[n]}),i};return r}),function(){n("player/getConfig",["require","util/each","util/extend","util/isEmpty","dom/browser","core/console","player/Session","util/defined","player/getPlacementCost","lib/cookies/cookies","lib/es6-promise/es6-promise","CrossStorageClient","player/defaultConfig","player/configOverride","util/randomInt","util/percentChance","util/stringToBoolean","util/abTesting","dom/beacon","util/pick"],function(e){var t=e("util/each"),n=e("util/extend"),r=e("util/isEmpty"),i=e("dom/browser"),o=e("core/console"),a=e("player/Session"),s=e("util/defined"),l=e("player/getPlacementCost"),u=e("lib/cookies/cookies"),c=e("lib/es6-promise/es6-promise").Promise,d=e("CrossStorageClient"),p=e("player/defaultConfig"),f=e("player/configOverride"),m=e("util/randomInt"),h=e("util/percentChance"),g=e("util/stringToBoolean"),v=e("util/abTesting"),y=e("dom/beacon"),E=e("util/pick"),b=function(e){var n={};return e&&"object"==typeof e&&t(e,function(e,t){var r=e.replace("window.hiroConfig.","").replace("window.","");n[r]=t}),n},w=function(e){var n,i=e,o=!1;return!r(e)&&s(e.playList)&&e.playList!=[]&&(n=e.playList,t(n,function(e,t){o=s(t.url)&&""!=t.url&&s(t.customProperties)&&!r(t.customProperties)&&s(t.customProperties.videoTitle)&&""!=t.customProperties.videoTitle}),o=o&&s(e.placeholderImage)&&""!=e.placeholderImage),o||(i={}),i},A=function(e,t){var r=e,i={0:"PREMIUM",1:"SYNDICATION",2:"SUPPLY_PARTNER",3:"MOBILE",4:"DIRECT_SYNDICATION"},o=(t||0===t)&&i[t]?i[t]:"";return e[o]&&(r=n(e,e[o])),r},x=function(e,t){var r,i=e;return t&&e.AFFILIATE_MANAGER_SETTINGS&&(r=e.AFFILIATE_MANAGER_SETTINGS[t],r&&(r.splashImg=e.placeholderImage,i=n(e,r))),i},T=function(){var e="",t=m(1e12),n="HIRO_CLIENT_ID";return(e=u(n))?e:(u.set(n,t),t)},_=function(e,t){var r=new a(e,t.sessionTimeOut);t.sessionID=r.getId(),r.isNew()&&!e&&r.set(),t.isLpSession=!1,e?(t.userInitiate=!1,t.isLpSession=!0,t.isInSecondClick=!1,n(t,t.session),r.set(n(!0,t.session,{externalID:t.externalID+(t.noScSuffix?"":"_sc"),subExternalID:t.subExternalID,eventDiceRoll:t.eventDiceRoll,publisherEventsPerc:t.publisherEventsPerc,placementEventsPerc:t.placementEventsPerc,networkEventsPerc:t.networkEventsPerc,networkRequestEventsPerc:t.networkRequestEventsPerc,sessionTimeOut:t.sessionTimeOut,isInSecondClick:!0,isLpSession:!0}))):n(!0,t,r.get())
},I=12,S=function(e){var t,n,r="";for(t=0;e>t;t+=1)n=m(10),r+=n.toString();return r},C=function(e){var t,n=new d(e.url,{promise:c,timeout:e.timeout||1e4});return o.log("getConfig: loadXdcUserId()"),n.onConnect().then(function(){return o.log("getConfig: loadXdcUserId() connected"),n.get("userId")}).then(function(r){return o.log("getConfig: loadXdcUserId() userId",r),r?(t=r,void 0):(t=S(I),n.set("userId",t,e.ttl))}).then(function(){return n.close(),t})["catch"](function(e){n.close(),o.log("getConfig: loadXdcUserId() error",e)})},D=function(e){var t=Number(e.maxLoopRotations);switch(isNaN(t)||t){case!0:case-1:t=Number.MAX_VALUE;break;case 0:t=1}return t},k=function(e){return i.query.hfd&&e.hfdConf&&n(!0,e,e.hfdConf),e},P=function(e,t,a,s,u){var c,d,P,N,L,O,R,V,B,F="1"===i.query.lp,M={
  splashImg: 'https://hrsecsynd-a.akamaihd.net/Assets/splash_image_default.png',
  splashImageFit: true,
  splashImageMaintainProportion: false,
  muteButton: 'https://hrsecsynd-a.akamaihd.net/Assets/on.png'
,
geoRistrictionImg: 'https://hrsecsynd-a.akamaihd.net/Assets/geo_unavailable.png',
playImg: 'https://hrsecsynd-a.akamaihd.net/Assets/play_large.png',
 
  playList: [
    {
      customProperties: {
        
      }
    }
  ],
  customControls: {
    zIndex: 2,
    autoHide: {
      enabled: false,
      fullscreenOnly: false,
      hideStyle: 'none'
    },
    stop: true,
    play: true,
    scrubber: true,
    time: true,
    mute: true,
    volume: true,
    fullscreen: true,
    timeColor: '#9e9fad',
    borderRadius: '0px',
    sliderGradient: 'none',
    backgroundColor: '#242424',
    backgroundGradient: 'none',
    sliderBorder: '1px solid rgba(128, 128, 128, 0.7)',
    volumeSliderColor: '#9a97ba',
    bufferColor: '#a0a3d0',
    buttonColor: '#a3a3a3',
    tooltipColor: '#000000',
    volumeSliderGradient: 'none',
    tooltipTextColor: '#ffffff',
    progressGradient: 'none',
    progressColor: '#3d4bf5',
    volumeBorder: '1px solid rgba(128, 128, 128, 0.7)',
    bufferGradient: 'none',
    timeSeparator: ' ',
    durationColor: '#706f7c',
    callType: 'default',
    sliderColor: '#a3a3a3',
    disabledWidgetColor: '#555555',
    buttonOverColor: '#9aa7f4',
    timeBgColor: 'rgb(0, 0, 0, 0)',
    volumeColor: '#353afd',
    buttonOffColor: 'rgba(130,130,130,1)',
    timeBorder: '0px solid rgba(0, 0, 0, 0.3)',
    height: 20,
    opacity: 1.0
  },
  width: 300,
  height: 250,
  noPrerollUserInitiate: false,
  userInitiate: false,
  userInitiateAfterPreroll: false,
  isSynchCacheLayer: 100,
  useJbossIframeSettings: true,
  publisherEventsPerc: 1,
  placementEventsPerc: 10,
  networkEventsPerc: 1,
  networkRequestEventsPerc: 10,
  pauseOnAdClick: false,
  enableAutomaicOptimization: true,
  automaticallyOptimizeWaterfall: false,
  allowPrerollsOnLoop: false,
  blockBlacklistedDomains: false,
  blockIP: true,
  AFFILIATE_MANAGER_SETTINGS: 
			{

				'11': 
					{ 
						persistentPreroll: false,
						userInitiateAfterPreroll: true
					},
					'27':  
					{ 
						persistentPreroll: false,
						userInitiateAfterPreroll: true
				}
			},

  
  DIRECT_SYNDICATION: {                     
extraBlockedUrls : [], 
blockBlacklistedDomains : false,
blockedSelectedDomains:[],
	approvedVendorUrls: [
		"zentrick.com",
		"coullmedia.com",
		"spotxcdn.com",
		"adsafeprotected.com",
		"hiro.tv",
		"v.adsrvr.org",
		"dashbida.com",
		"innovid.com",
		"tubemogul.com",
		"btrll.com",
		"cdn.optimatic.com",
		"vindicosuite.com",
		"tremormedia.com",
		"tidaltv.com",
		"yumenetworks.com",
		"telemetryverification.net",
		"lijit.com",
		"angsrvr",
		"serving-sys.com",
		"provenpixel.com",
		"vizu.com",
		"liverail.com",
		"videologygroup.com",
		"SyndPlugins",
		"adform.net",
		"c1.rfihub.net",
		"flashtalking.com",
		"usweb.dotomi.com",
		"d2f8tie0ouoft.cloudfront.net",
		"bsl-sf.voicefive.com",
		"d1lcq4x153aesu.cloudfront.net",
		"adyapper.com",
		"betrad.com",
		"chibis.adotube.com",
		"dx4atryjnj8gb.cloudfront.net",
		"playercdn.jivox.com",
		"cdn.amgdgt.com",
		"d5frjulruv2gm.cloudfront.net",
		"spongecell.com",
		"liquidustv.com",
		"pubmatic.com",
		"pointroll.com",
		"ddddemkrpfu23.cloudfront.net",
		"doubleverify.com",
		"collective-media.net",
		"measuread.com",
		"2mdn.net/ads/richmedia/studio",
		"videoplaza.tv",
		"admedia.com",
		"d3h8av4a0dy1g.cloudfront.net",
		"vidible.tv",
		"springserve.com",
		"adforge",
		"ANGPassbackSelector",
		"osmf.swf"
  
	],

	approvedVendorClasses: [
		"VastSC",
		"com.yahoo",
		"com.altitude",
		"tv.adap",
		"com.spotxchange",
		"com.google",
		"com.liverail",
		"com.integralads",
		"com.telemetry",
		"MoatWrapper",
		"com.eastvisionsystems",
		"com.bigpondmedia",
		"tv.reelfeed",
		"zentrick",
		"VGSBSAP",
		"vpaidSS",
		"com.tubemogul",
		"org.osmf",
		"com.adotube",
		"com.dotomi.VPAID",
		"com.visiblemeasures.advertising",
		"com.jivox",
		"com.spongecell.ad",
		"tdi.ads::VPAIDBase",
		"com.optimatici",
		"com.pubmatic",
		"AdK2AdsEngine",
		"com.adk2",
		"parent_fla::MainTimeline",
		"com.comscore.vce",
		"parent_fla",
		"VPAIDWrapper",
		"MasterVPAID",
		"com.pictela.vpaid",
		"com.fuiszmedia",
		"ANGPassbackSelector"
	]
},
  
 	macroLookup: {

        macros: [ {
           app_name: 'Batanga',
           DEV_OS: 'Android',
           bundle_id: 'com.batanga',
           appstore_url: 'https://play.google.com/store/apps/details?id=com.batanga&hl=en',
           developer_url: 'http://radio.batanga.com/'
        }, {
           app_name: 'Batanga',
           DEV_OS: 'iOS',
           bundle_id: '369754237',
            appstore_url: 'https://itunes.apple.com/us/app/free-music-batanga-radio/id369754237?mt=8',
           developer_url: 'http://radio.batanga.com/'
        }, {
           app_name: [ 'Meet Me', 'MeetMe-Top', 'MeetMe-Remenenet' ],
           DEV_OS: 'Android',
           bundle_id: 'com.myyearbook.m',
           appstore_url: 'https://play.google.com/store/apps/details?id=com.myyearbook.m&hl=en',
           developer_url: 'http://www.meetme.com/'
        }, {
           app_name: [ 'Meet Me', /^Meet\s?Me/ ],
           DEV_OS: 'iOS',
           bundle_id: '372648912',
           appstore_url: 'https://itunes.apple.com/il/app/meetme-chat-meet-new-people/id372648912?mt=8',
           developer_url: 'http://www.meetme.com/'
        } ]

    },
  
	approvedVendorUrls:
	[ 
		"zentrick.com",
		"coullmedia.com",
		"spotxcdn.com",
		"adsafeprotected.com",
		"hiro.tv",
		"v.adsrvr.org",
		"dashbida.com",
		"innovid.com",
		"tubemogul.com",
		"btrll.com",
		"cdn.optimatic.com",
		"vindicosuite.com",
		"tremormedia.com",
		"tidaltv.com",
		"yumenetworks.com",
		"telemetryverification.net",
		"lijit.com",
		"angsrvr",
		"serving-sys.com",
		"provenpixel.com",
		"vizu.com",
		"liverail.com",
		"videologygroup.com",
		"SyndPlugins",
		"adform.net",
		"c1.rfihub.net",
		"flashtalking.com",
		"usweb.dotomi.com",
		"d2f8tie0ouoft.cloudfront.net",
		"bsl-sf.voicefive.com",
		"d1lcq4x153aesu.cloudfront.net",
		"adyapper.com",
		"betrad.com",
		"chibis.adotube.com",
		"dx4atryjnj8gb.cloudfront.net",
		"playercdn.jivox.com",
		"cdn.amgdgt.com",
		"d5frjulruv2gm.cloudfront.net",
		"spongecell.com",
		"liquidustv.com",
		"tlvmedia.com",
		"pubmatic.com",
		"pointroll.com",
		"mixpo.com",
		"ddddemkrpfu23.cloudfront.net",
		"doubleverify.com",
		"collective-media.net",
		"measuread.com",
		"2mdn.net/ads/richmedia/studio",
		"videoplaza.tv",
		"admedia.com",
		"d3h8av4a0dy1g.cloudfront.net",
		"vidible.tv",
		"springserve.com",
		"adforge",
		"ANGPassbackSelector",
		"osmf.swf"
	],
  
	approvedVendorClasses:
	[ 
		"VastSC",
		"com.yahoo",
		"com.altitude",
		"tv.adap",
		"com.spotxchange",
		"com.google",
		"com.liverail",
		"com.integralads",
		"com.telemetry",
		"MoatWrapper",
		"com.eastvisionsystems",
		"com.bigpondmedia",
		"tv.reelfeed",
		"zentrick",
		"VGSBSAP",
		"vpaidSS",
		"com.tubemogul",
		"org.osmf",
		"com.adotube",
		"com.dotomi.VPAID",
		"com.visiblemeasures.advertising",
		"com.jivox",
		"com.spongecell.ad",
		"tdi.ads::VPAIDBase",
		"com.optimatic",
		"com.pubmatic",
		"AdK2AdsEngine",
		"com.adk2",
		"com.clearstream.vpaid.actionscript::VPAIDWrapper",
		"parent_fla::MainTimeline",
		"com.comscore.vce",
		"parent_fla",
		"VPAIDWrapper",
		"MasterVPAID",
		"com.pictela.vpaid",
		"com.fuiszmedia",
		"ANGPassbackSelector"
	],
  
  blackVendorExceptions:[],
  monitoredVendors: [
  "fuse-client.mirra"
  ],

  transparencyLowerMarks: [
  'ads.ondemandkorea',
  'ad.burstdirectads',
  'ads.avazu',
  'us-ads.openx',
  'javascript:window',
    '101system',
    'afy11',
    'sitescout',
    'fastclick',
    'realmedia',
    'undefined',
    'pubmatic',
    'openx',
    'doubleclick',
    'adnxs',
    'burstdirectads',
    'rubiconproject',
    'yieldmanager',
    'jeetyetmedia',
    'crtinv',
    'da-ads',
    'redirect.ad-feeds.com',
    'xtendmedia',
    'software.hiro.tv',
    'vindicosuite',
    'lijit',
    'porn',
    'google',
    '{',
    'bing',
    'srv744',
    'primesite',
    'rtbfy',
    '%%',
    'clearpier.com',
    'feiwei.tv',
    'prime-site-1',
    'premium-site-38.com',
    'yahoonetplus.com',
    'd341y4dudrfjax.cloudfront.net'	
],
  extraBlockedUrls: [
    'boyofthemonth',
    'cock',
    'twink',
    'oral',
    'fuck',
    'suck',
    'sex',
    'adult',
    'porn',
    'slut',
    'dyke',
    'horny',
    'bitch',
    'pussy',
    'xxx',
    'nude',
    'naked',
    'hump',
    'screwed',
    'chick',
    'mature',
    'milf',
    'dirty',
    'tits',
    'shemale'
  ],
  scale_start: 0.00001,
  lob_start: 0.8,
  onClickEnabled: false,
  session: {
    scale_start: 0.000001,
    lob_start: 0.8,
    userInitiate: false,
    onClickEnabled: false
  },
  blockedSelectedDomains: ["Youtube.com" 
  ],
  addToBlockedSelectedDomains: [  
  ],
  sendMovieLog: false,
  sendMovieLogUrl: "//hevents.elasticbeanstalk.com",
  appEngineSynchMode: false,
  allowCookies: 1,
  IAS_percentage: 0,
  DV_percentage : 5,
  adScienceMonitorPixel: false,
  moatPercentage: 0,
  moatTrackingCode: 'hiromediavideo681732093',
  placementCostFromServer: true,
  adScienceId: 6961,
  blockOnIASFraud: false,
  startTimerSecs: 33,
  initTimerSecs: 33,
  useEventsServer: false,
  serverTrafficSplit: false,
  useCmsSettings: false,
  logoUrl: "",
  blockBleepOnChanel:true,
  persistentPreroll: true,
  persistentPrerollLoop :3,
  blockUnknownVendor: true,
  maxBleeps:3,
  adOptions: {
		useDomValidator: false,
		blockingDomValidators: []
		},

	// preffering SWF-vpaid over JS-vpaid
   mediaTypeSortPreferences: function( a, b ) {
                              
    var calculateWeight = function (media) {
                                                                                          
                              var result = 10;
                              if (media.src && media.type) {
                                             switch( media.type ) {
                                                            case 'video/mp4': 
                                                                           result = 0;
                                                                           break;
                                                            case 'video/webm':
                                                                           result = 1;
                                                                           break;
                                                            case 'video/x-flv':
                                                                           result = 2;
                                                                           break;
                                                            case 'application/x-shockwave-flash':
                                                                           result = 3;
                                                                           break;
                                                            case 'application/javascript':
                                                                           result = 4;
                                                                           break;
                                                            default:
                                                                           result = 5;
                                                                           break;
                                             }
                              }
                              return result;
               },
               weight_a = calculateWeight(a),
               weight_b = calculateWeight(b);

               return weight_a - weight_b;

},
  downloaderOpts: {
 forceUseDomains: [
  'btrll.com'
 ]
}
 
}
,U=0,H={"window.hiroConfig.onHoverEnabled":"false","window.hiroConfig.IAS_percentage":"4","placementCostDiscrepancy":15,"themes":"OS-SurfLifeHawaii","window.hiroConfig.noPrerollUserInitiate":"false","window.hiroConfig.onClickEnabled":"true","window.clipURL":"https:\/\/thefutoncritic-electricsheep.netdna-ssl.com\/VE_Library_250p\/VE_LibraryNetflix_In_Numbers.mp4","window.hiroConfig.blockOnIASFraud":"false","affiliateManagerId":573760187,"window.hiroConfig.scale_start":"0","serverPlacementCost":2.65,"window.hiroConfig.splashImg":"https:\/\/fashiononesec-a.akamaihd.net\/\/Poster\/poster_kate.jpg","window.hiroConfig.movieLinkUrl":"http:\/\/beststreaming.tv\/","window.hiroConfig.startVolume":"0","window.hiroConfig.userInitiate":"false","window.hiroConfig.videoTitle":"BestStreaming","affiliateManagerType":1,"window.hiroConfig.userInitiateAfterPreroll":"false","publisherId":23431,"window.hiroConfig.volumeLocationOnBar":"0.8","window.hiroConfig.lob_start":"0.8","window.hiroConfig.offHoverEnabled":"false","window.hiroConfig.placeholderImage":"https:\/\/futonsec-a.akamaihd.net\/Poster\/Online-Shows-poster.jpg","window.hiroConfig.maxLoopRotations":"15","window.hiroConfig.allowPrerollsOnLoop":"false","window.hiroConfig.abTesting":[{"testName":"ab_publishersplit_DEMAND_TEST","percentage":5,"config":{"externalID":"TOS-GT-Demand-Viewability-DNT"}},{"testName":"ab_permutationOpt","percentage":7.5},{}],"serverExecutionTime":9,"placementCostCommission":12,"themeConfig":{"movieLinkUrl":"http:\/\/surflifehawaii.com\/","playList":[{"url":"https:\/\/surflifehawaii-electricsheep.netdna-ssl.com\/nautical_250\/OS_surflifehawaii_sv.mp4","customProperties":{"videoTitle":"Surfing in Hawaii","videoDescription":"Triple Crown Sweeps Hawaii","videoKeyWords":"","videoDurationSecs":"","isDefault":"","geoInclude":[],"geoExclude":[]}}],"placeholderImage":"http:\/\/tos-a.akamaihd.net\/Poster\/surfspothawaii_poster_300_250.jpg","movieBumper":"","movieBumperPosition":"","message":"","logoUrl":"http:\/\/tos-a.akamaihd.net\/Logo\/surfspothawaii_logo1.png"}};o.log("getConfig: getConfig()"),d=n(!0,{},p,M),d=n(!0,d,e),H&&"object"==typeof H&&(d=A(d,H.affiliateManagerType)),P=d,d.useJbossIframeSettings&&(O=b({"window.hiroConfig.onHoverEnabled":"false","window.hiroConfig.IAS_percentage":"4","placementCostDiscrepancy":15,"themes":"OS-SurfLifeHawaii","window.hiroConfig.noPrerollUserInitiate":"false","window.hiroConfig.onClickEnabled":"true","window.clipURL":"https:\/\/thefutoncritic-electricsheep.netdna-ssl.com\/VE_Library_250p\/VE_LibraryNetflix_In_Numbers.mp4","window.hiroConfig.blockOnIASFraud":"false","affiliateManagerId":573760187,"window.hiroConfig.scale_start":"0","serverPlacementCost":2.65,"window.hiroConfig.splashImg":"https:\/\/fashiononesec-a.akamaihd.net\/\/Poster\/poster_kate.jpg","window.hiroConfig.movieLinkUrl":"http:\/\/beststreaming.tv\/","window.hiroConfig.startVolume":"0","window.hiroConfig.userInitiate":"false","window.hiroConfig.videoTitle":"BestStreaming","affiliateManagerType":1,"window.hiroConfig.userInitiateAfterPreroll":"false","publisherId":23431,"window.hiroConfig.volumeLocationOnBar":"0.8","window.hiroConfig.lob_start":"0.8","window.hiroConfig.offHoverEnabled":"false","window.hiroConfig.placeholderImage":"https:\/\/futonsec-a.akamaihd.net\/Poster\/Online-Shows-poster.jpg","window.hiroConfig.maxLoopRotations":"15","window.hiroConfig.allowPrerollsOnLoop":"false","window.hiroConfig.abTesting":[{"testName":"ab_publishersplit_DEMAND_TEST","percentage":5,"config":{"externalID":"TOS-GT-Demand-Viewability-DNT"}},{"testName":"ab_permutationOpt","percentage":7.5},{}],"serverExecutionTime":9,"placementCostCommission":12,"themeConfig":{"movieLinkUrl":"http:\/\/surflifehawaii.com\/","playList":[{"url":"https:\/\/surflifehawaii-electricsheep.netdna-ssl.com\/nautical_250\/OS_surflifehawaii_sv.mp4","customProperties":{"videoTitle":"Surfing in Hawaii","videoDescription":"Triple Crown Sweeps Hawaii","videoKeyWords":"","videoDurationSecs":"","isDefault":"","geoInclude":[],"geoExclude":[]}}],"placeholderImage":"http:\/\/tos-a.akamaihd.net\/Poster\/surfspothawaii_poster_300_250.jpg","movieBumper":"","movieBumperPosition":"","message":"","logoUrl":"http:\/\/tos-a.akamaihd.net\/Logo\/surfspothawaii_logo1.png"}}),r(O)||(O.blockedSelectedDomains&&(O.blockedSelectedDomains=O.blockedSelectedDomains.concat(d.blockedSelectedDomains)),O.abTesting&&d.abTesting&&(O.abTesting=d.abTesting.concat(O.abTesting)),B={url:O.clipURL,customProperties:{videoDescription:O.videoDescription,videoTitle:O.videoTitle,videoTags:O.videoTags,videoKeyWords:O.videoKeyWords,videoDurationSecs:O.videoDurationSecs}},O.playList=[B],d.useCmsSettings&&(o.log("getConfig: Using theme config from CMS"),L=w(O.themeConfig),n(!0,O,L),delete O.themeConfig),delete O.clipURL,delete O.videoDescription,delete O.videoTitle,delete O.videoTags,delete O.videoKeyWords,delete O.videoDurationSecs,n(!0,d,O))),H&&(d=x(d,d.affiliateManagerId)),n(!0,d,t);try{n(!0,d,JSON.parse(i.query.hiro_config))}catch(j){}if(n(!0,d,a),n(!0,d,u),R=E(i.query,d.browserQueryConfigWhitelist),n(!0,d,R),d=k(d),N=n({},p,e,P,O,t,a,u,R),f[d.trafficSrc]&&(n(!0,d,f[d.trafficSrc]),n(N,f[d.trafficSrc])),d.extraBlockedUrls=N.extraBlockedUrls,d.server&&(c=d.server[m(d.server.length)]),d.consoleID=d.consoleID?d.consoleID:d.accountID,d.cms_co=d.cms_co?d.cms_co:d.consoleID,c||(c=d.consoleID.toLowerCase()+".hiro.tv"),d.serverUsed=c,d.SynchCache=h(d.isSynchCacheLayer),d.eventDiceRoll=m(100),d.httpProtocol||(d.httpProtocol=location.protocol.replace(/:/g,"")),d=g(d),d.allowCookies>0&&(_(F,d),d.site_user_id=T()),d.sessionID=S(I),d.isLpSession&&d.secondaryPlayer&&(d.userInitiate=!0),s&&(d.version=s),d.scale_start>.5?d.onHoverEnabled=d.offHoverEnabled=!1:d.scale_start<.5&&(d.scale_start=0),d.scale_hover<=.1&&(d.onHoverEnabled=!1),d.onHoverEnabled&&(d.onClickEnabled=!0),(d.iframe||d.inFrame)&&(d.version+="-iframe"),1===U&&(d.experimentId="tf-"+d.version,d.localTrafficSplit&&(d.folderName=d.localTrafficSplit)),d.defaultOptimizationAbTest&&d.enableAutomaicOptimization){var q=[{testName:d.defaultOptimizationAbTest,percentage:10}];d.abTesting=q.concat(d.abTesting)}if(d.abTesting){var W=d.externalId,$=new v(d.abTesting);$.init(),d.abTesting=$.getAffiliateId(),d.abTesting&&(d.experimentId=d.abTesting),"ab_NE_CDN"===$.getAffiliateId()&&d.alternateClipURL&&(o.log("NE_CDN: "+d.alternateClipURL),d.playList.length>0?d.playList[0].url=d.alternateClipURL:d.playList.url=d.alternateClipURL),n(!0,d,$.getAbConfig()),"ab_demandLab"===$.getAffiliateId()&&(d.placementCostFromServer=!0,d.subExternalID=W)}return d.movieLinkUrl=d.movieClickPrefix&&-1!=d.movieClickPrefix.indexOf("http")?d.movieClickPrefix+d.movieLinkUrl:d.movieLinkUrl,d.maxLoopRotations=D(d),d.calculatedPlacementCost=l(d),d.xdc&&d.xdc.url&&C(d.xdc).then(function(e){V=e}),d.getUserId=function(){return V},o.log("getConfig: getConfig(), Finished building base config object: ",d),d.consoleLogToNetwork&&y("https://events.appserver.tv",{data:d.version}),d};return P})}(this),function(){n("player/PlayerCollection",["require","util/each","util/defined","util/isNumber","dom/getElement"],function(e){var t=e("util/each"),n=e("util/defined"),r=e("util/isNumber"),i=e("dom/getElement"),o=function(){var e=this;e.players={},e.count=0,e.firstPlayerApi=!1};return o.prototype.add=function(e,t){var n=this,r=n.players;r[e]=t,n.count+=1},o.prototype.remove=function(e){var t=this,n=t.players;delete n[e],t.count-=1},o.prototype.get=function(e){var t=this;return t.players[e]},o.prototype.find=function(e){var o,a=this,s=!1,l=0,u=a.players;return n(e)||(e=0),"string"!=typeof e&&e[0]&&(e=e[0]),o=i(e),r(e)||o?(e=parseInt(e,10),t(u,function(t,n){return o&&n.element===o||!o&&l===e?(s=n,!1):(l+=1,void 0)}),s):!1},o})}(this),function(){n("util/cssDimension",["require","util/isNumber"],function(e){var t=e("util/isNumber"),n=function(e){return t(e)&&0!==e?e+"px":e};return n})}(this),function(){n("dom/emptyElement",[],function(){var e=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)};return e})}(this),function(){n("core/Event",["require","core/console"],function(e){var t=e("core/console"),n=function(){return this};return n.prototype={trigger:function(e){var n,r,i,o,a,s=e.split("."),l=s.shift(),u="";if(this.events&&this.events[l])for(r=this.events[l].slice(0),o=0;o<r.length;o+=1){if(i=r[o],u="."+(i.namespaces||[]).join("."),n=null,s.length){for(a=0;a<s.length;a+=1)if(-1!==u.indexOf("."+s[a])){n=i.callback;break}}else n=i.callback;n&&(t.log("Event: Triggered event %s, calling: %o",e,n),n.apply(i.context||this,[l].concat(Array.prototype.slice.call(arguments,1))))}this.propagateTo&&this.propagateTo!==this&&this.propagateTo.trigger&&(t.log("Event: Propagating event %s, to: %o",e,this.propagateTo),this.propagateTo.trigger.apply(this.propagateTo,arguments))},on:function(e,t,n){var r,i,o,a,s=e.split(" ");if(this.events=this.events||{},"function"==typeof t)for(a=0;a<s.length;a+=1)r=s[a],i=r.split("."),o=i.shift(),this.events[o]=this.events[o]||[],this.events[o].push({callback:t,namespaces:i,context:n})},off:function(e,n){var r,i,o,a,s,l,u,c,d=e&&e.split(" "),p=!1;if(d){if(this.events)for(l=0;l<d.length;l+=1){if(r=d[l],a=r.split("."),s=a.shift(),!s)for(s in this.events)this.events.hasOwnProperty(s)&&this.off(s+d[l],n);if(!a.length&&!n)return delete this.events[s],t.log("Event: Removed callbacks for event %s",r),void 0;if(this.events&&this.events[s])for(u=0;u<this.events[s].length;u+=1){if(i=this.events[s][u],o="."+(i.namespaces||[]).join("."),p=!1,a.length){for(c=0;c<a.length;c+=1)if(-1!==o.indexOf("."+a[c])){p=!0;break}}else p=!0;n&&i.callback!==n||!p||(this.events[s].splice(u,1),u-=1)}}}else for(s in this.events)this.events.hasOwnProperty(s)&&this.off(s)},one:function(e,n){var r=this,i=function(){"function"==typeof n&&n.apply(this,arguments),r.off(e,i)};t.log("Event:one() called with event(s) %s and callback %o",e,n),r.on(e,i)},propagateEventsTo:function(e){e instanceof n&&(this.propagateTo=e)},cancelPropagate:function(){this.propagateTo=!1}},n})}(this),function(e){n("core/registerFlashTrigger",["require","core/console"],function(t){var n=t("core/console"),r=function(t,i){var o=r.triggers[t];"vpaidEvent"!==i&&n.log("flashTrigger()",arguments);try{return o&&o.apply(o,Array.prototype.slice.call(arguments,1))}catch(a){e.setTimeout(function(){throw n.log("flashTrigger() exception",a),a},0)}},i=function(t,i){var o;return n.log("registerFlashTrigger()",i),i||(i=e),i.hiro||(i.hiro={}),i.hiro._trigger?r=i.hiro._trigger:i.hiro._trigger=r,r.triggers||(r.triggers=[]),o=r.triggers,o.push(t),o.length-1};return i})}(this),function(){n("util/prepareUrls",["require","util/each","util/defined"],function(e){var t=e("util/each"),n=(e("util/defined"),function(e,n){var r={};return t(n,function(t,n){r[t]=e+"/"+n}),r});return n})}(this),!function(){function e(e){console.log("$f.fireEvent",[].slice.call(e))}function t(e){if(!e||"object"!=typeof e)return e;var n=new e.constructor;for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function n(e,t){if(e){var n,r=0,i=e.length;if(void 0===i){for(n in e)if(t.call(e[n],n,e[n])===!1)break}else for(var o=e[0];i>r&&t.call(o,r,o)!==!1;o=e[++r]);return e}}function r(e){return document.getElementById(e)}function i(e,t,r){return"object"!=typeof t?e:(e&&t&&n(t,function(t,n){r&&"function"==typeof n||(e[t]=n)}),e)}function o(e){var t=e.indexOf(".");if(-1!=t){var r=e.slice(0,t)||"*",i=e.slice(t+1,e.length),o=[];return n(document.getElementsByTagName(r),function(){this.className&&-1!=this.className.indexOf(i)&&o.push(this)}),o}}function a(e){return e=e||window.event,e.preventDefault?(e.stopPropagation(),e.preventDefault()):(e.returnValue=!1,e.cancelBubble=!0),!1}function s(e,t,n){e[t]=e[t]||[],e[t].push(n)}function l(e){return e.replace(/&amp;/g,"%26").replace(/&/g,"%26").replace(/=/g,"%3D")}function u(){return"_"+(""+Math.random()).slice(2,10)}function c(o,c,d){function h(){function e(e){return!/iPad|iPhone|iPod/i.test(navigator.userAgent)||/.flv$/i.test(S[0].url)||t()?(T.isLoaded()||T._fireEvent("onBeforeClick")===!1||T.load(),a(e)):!0}function t(){return T.hasiPadSupport&&T.hasiPadSupport()}function r(){""!==g.replace(/\s/g,"")?o.addEventListener?o.addEventListener("click",e,!1):o.attachEvent&&o.attachEvent("onclick",e):(o.addEventListener&&!t()&&o.addEventListener("click",a,!1),T.load())}$f(o)?($f(o).getParent().innerHTML="",b=$f(o).getIndex(),m[b]=T):(m.push(T),b=m.length-1),x=parseInt(o.style.height,10)||o.clientHeight,y=o.id||"fp"+u(),E=c.id||y+"_api",c.id=E,g=o.innerHTML,"string"==typeof d&&(d={clip:{url:d}}),d.playerId=y,d.clip=d.clip||{},o.getAttribute("href",2)&&!d.clip.url&&(d.clip.url=o.getAttribute("href",2)),d.clip.url&&(d.clip.url=l(d.clip.url)),v=new p(d.clip,-1,T),d.playlist=d.playlist||[d.clip];var i=0;n(d.playlist,function(){var e=this;"object"==typeof e&&e.length&&(e={url:""+e}),e.url&&(e.url=l(e.url)),n(d.clip,function(t,n){void 0!==n&&void 0===e[t]&&"function"!=typeof n&&(e[t]=n)}),d.playlist[i]=e,e=new p(e,i,T),S.push(e),i++}),n(d,function(e,t){"function"==typeof t&&(v[e]?v[e](t):s(D,e,t),delete d[e])}),n(d.plugins,function(e,t){t&&(C[e]=new f(e,t,T))}),d.plugins&&void 0!==d.plugins.controls||(C.controls=new f("controls",null,T)),C.canvas=new f("canvas",null,T),g=o.innerHTML,setTimeout(r,0)}var g,v,y,E,b,w,A,x,T=this,_=null,I=!1,S=[],C={},D={};if(i(T,{id:function(){return y},isLoaded:function(){return null!==_&&void 0!==_.fp_play&&!I},getParent:function(){return o},hide:function(e){return e&&(o.style.height="0px"),T.isLoaded()&&(_.style.height="0px"),T},show:function(){return o.style.height=x+"px",T.isLoaded()&&(_.style.height=A+"px"),T},isHidden:function(){return T.isLoaded()&&0===parseInt(_.style.height,10)},load:function(e){if(!T.isLoaded()&&T._fireEvent("onBeforeLoad")!==!1){var t=function(){g&&!flashembed.isSupported(c.version)&&(o.innerHTML=""),e&&(e.cached=!0,s(D,"onLoad",e)),flashembed(o,c,{config:d})},r=0;n(m,function(){this.unload(function(){++r==m.length&&t()})})}return T},unload:function(e){if(""!==g.replace(/\s/g,"")){if(T._fireEvent("onBeforeUnload")===!1)return e&&e(!1),T;I=!0;try{_&&(_.fp_isFullscreen()&&_.fp_toggleFullscreen(),_.fp_close(),T._fireEvent("onUnload"))}catch(t){}var n=function(){_=null,o.innerHTML=g,I=!1,e&&e(!0)};/WebKit/i.test(navigator.userAgent)&&!/Chrome/i.test(navigator.userAgent)?setTimeout(n,0):n()}else e&&e(!1);return T},getClip:function(e){return void 0===e&&(e=w),S[e]},getCommonClip:function(){return v},getPlaylist:function(){return S},getPlugin:function(e){var t=C[e];if(!t&&T.isLoaded()){var n=T._api().fp_getPlugin(e);n&&(t=new f(e,n,T),C[e]=t)}return t},getScreen:function(){return T.getPlugin("screen")},getControls:function(){return T.getPlugin("controls")._fireEvent("onUpdate")},getLogo:function(){try{return T.getPlugin("logo")._fireEvent("onUpdate")}catch(e){}},getPlay:function(){return T.getPlugin("play")._fireEvent("onUpdate")},getConfig:function(e){return e?t(d):d},getFlashParams:function(){return c},loadPlugin:function(e,t,n,r){"function"==typeof n&&(r=n,n={});var i=r?u():"_";T._api().fp_loadPlugin(e,t,n,i);var o={};o[i]=r;var a=new f(e,null,T,o);return C[e]=a,a},getState:function(){return T.isLoaded()?_.fp_getState():-1},play:function(e,t){var n=function(){void 0!==e?T._api().fp_play(e,t):T._api().fp_play()};return T.isLoaded()?n():I?setTimeout(function(){T.play(e,t)},50):T.load(function(){n()}),T},getVersion:function(){var e="flowplayer.js 3.2.12";if(T.isLoaded()){var t=_.fp_getVersion();return t.push(e),t}return e},_api:function(){if(!T.isLoaded())throw"Flowplayer "+T.id()+" not loaded when calling an API method";return _},setClip:function(e){return n(e,function(t,n){"function"==typeof n?(s(D,t,n),delete e[t]):"onCuepoint"==t&&$f(o).getCommonClip().onCuepoint(e[t][0],e[t][1])}),T.setPlaylist([e]),T},getIndex:function(){return b},bufferAnimate:function(e){return _.fp_bufferAnimate(void 0===e||e),T},_swfHeight:function(){return _.clientHeight}}),n("Click*,Load*,Unload*,Keypress*,Volume*,Mute*,Unmute*,PlaylistReplace,ClipAdd,Fullscreen*,FullscreenExit,Error,MouseOver,MouseOut".split(","),function(){var e="on"+this;if(-1!=e.indexOf("*")){e=e.slice(0,e.length-1);var t="onBefore"+e.slice(2);T[t]=function(e){return s(D,t,e),T}}T[e]=function(t){return s(D,e,t),T}}),n("pause,resume,mute,unmute,stop,toggle,seek,getStatus,getVolume,setVolume,getTime,isPaused,isPlaying,startBuffering,stopBuffering,isFullscreen,toggleFullscreen,reset,close,setPlaylist,addClip,playFeed,setKeyboardShortcutsEnabled,isKeyboardShortcutsEnabled".split(","),function(){var e=this;T[e]=function(t,n){if(!T.isLoaded())return T;var r=null;return r=void 0!==t&&void 0!==n?_["fp_"+e](t,n):void 0===t?_["fp_"+e]():_["fp_"+e](t),"undefined"===r||void 0===r?T:r}}),T._fireEvent=function(t){"string"==typeof t&&(t=[t]);var i=t[0],o=t[1],a=t[2],s=t[3],l=0;if(d.debug&&e(t),T.isLoaded()||"onLoad"!=i||"player"!=o||(_=_||r(E),A=T._swfHeight(),n(S,function(){this._fireEvent("onLoad")}),n(C,function(e,t){t._fireEvent("onUpdate")}),v._fireEvent("onLoad")),"onLoad"!=i||"player"==o){if("onError"==i&&("string"==typeof o||"number"==typeof o&&"number"==typeof a)&&(o=a,a=s),"onContextMenu"==i)return n(d.contextMenu[o],function(e,t){t.call(T)}),void 0;if("onPluginEvent"!=i&&"onBeforePluginEvent"!=i){if("onPlaylistReplace"==i){S=[];var u=0;n(o,function(){S.push(new p(this,u++,T))})}if("onClipAdd"==i){if(o.isInStream)return;for(o=new p(o,a,T),S.splice(a,0,o),l=a+1;l<S.length;l++)S[l].index++}var c=!0;if("number"==typeof o&&o<S.length){w=o;var f=S[o];f&&(c=f._fireEvent(i,a,s)),f&&c===!1||(c=v._fireEvent(i,a,s,f))}return n(D[i],function(){return c=this.call(T,o,a),this.cached&&D[i].splice(l,1),c===!1?!1:(l++,void 0)}),c}var m=o.name||o,h=C[m];if(h)return h._fireEvent("onUpdate",o),h._fireEvent(a,t.slice(3))}},"string"==typeof o){var k=r(o);if(!k)throw"Flowplayer cannot access element: "+o;o=k,h()}else h()}function d(e){this.length=e.length,this.each=function(t){n(e,t)},this.size=function(){return e.length};var t=this;for(name in c.prototype)t[name]=function(){var e=arguments;t.each(function(){this[name].apply(this,e)})}}var p=function(e,t,r){var o=this,a={},l={};if(o.index=t,"string"==typeof e&&(e={url:e}),i(this,e,!0),n("Begin*,Start,Pause*,Resume*,Seek*,Stop*,Finish*,LastSecond,Update,BufferFull,BufferEmpty,BufferStop".split(","),function(){var e="on"+this;if(-1!=e.indexOf("*")){e=e.slice(0,e.length-1);var n="onBefore"+e.slice(2);o[n]=function(e){return s(l,n,e),o}}o[e]=function(t){return s(l,e,t),o},-1==t&&(o[n]&&(r[n]=o[n]),o[e]&&(r[e]=o[e]))}),i(this,{onCuepoint:function(e,n){if(1==arguments.length)return a.embedded=[null,e],o;"number"==typeof e&&(e=[e]);var i=u();return a[i]=[e,n],r.isLoaded()&&r._api().fp_addCuepoints(e,t,i),o},update:function(e){i(o,e),r.isLoaded()&&r._api().fp_updateClip(e,t);var n=r.getConfig(),a=-1==t?n.clip:n.playlist[t];i(a,e,!0)},_fireEvent:function(e,s,u,c){if("onLoad"==e)return n(a,function(e,n){n[0]&&r._api().fp_addCuepoints(n[0],t,e)}),!1;if(c=c||o,"onCuepoint"==e){var d=a[s];if(d)return d[1].call(r,c,u)}s&&-1!="onBeforeBegin,onMetaData,onStart,onUpdate,onResume".indexOf(e)&&(i(c,s),s.metaData&&(c.duration?c.fullDuration=s.metaData.duration:c.duration=s.metaData.duration));var p=!0;return n(l[e],function(){p=this.call(r,c,s,u)}),p}}),e.onCuepoint){var c=e.onCuepoint;o.onCuepoint.apply(o,"function"==typeof c?[c]:c),delete e.onCuepoint}n(e,function(t,n){"function"==typeof n&&(s(l,t,n),delete e[t])}),-1==t&&(r.onCuepoint=this.onCuepoint)},f=function(e,t,r,o){var a=this,s={},l=!1;o&&i(s,o),n(t,function(e,n){"function"==typeof n&&(s[e]=n,delete t[e])}),i(this,{animate:function(n,i,o){if(!n)return a;if("function"==typeof i&&(o=i,i=500),"string"==typeof n){var l=n;n={},n[l]=i,i=500}if(o){var c=u();s[c]=o}return void 0===i&&(i=500),t=r._api().fp_animate(e,n,i,c),a},css:function(n,o){if(void 0!==o){var s={};s[n]=o,n=s}return t=r._api().fp_css(e,n),i(a,t),a},show:function(){return this.display="block",r._api().fp_showPlugin(e),a},hide:function(){return this.display="none",r._api().fp_hidePlugin(e),a},toggle:function(){return this.display=r._api().fp_togglePlugin(e),a},fadeTo:function(t,n,i){if("function"==typeof n&&(i=n,n=500),i){var o=u();s[o]=i}return this.display=r._api().fp_fadeTo(e,t,n,o),this.opacity=t,a},fadeIn:function(e,t){return a.fadeTo(1,e,t)},fadeOut:function(e,t){return a.fadeTo(0,e,t)},getName:function(){return e},getPlayer:function(){return r},_fireEvent:function(t,o){if("onUpdate"==t){var u=r._api().fp_getPlugin(e);if(!u)return;i(a,u),delete a.methods,l||(n(u.methods,function(){var t=""+this;a[t]=function(){var n=[].slice.call(arguments),i=r._api().fp_invoke(e,t,n);return"undefined"===i||void 0===i?a:i}}),l=!0)}var c=s[t];if(c){var d=c.apply(a,o);return"_"==t.slice(0,1)&&delete s[t],d}return a}})},m=[];window.flowplayer=window.$f=function(){var e=null,a=arguments[0];if(!arguments.length)return n(m,function(){return this.isLoaded()?(e=this,!1):void 0}),e||m[0];if(1==arguments.length)return"number"==typeof a?m[a]:"*"==a?new d(m):(n(m,function(){return this.id()==a.id||this.id()==a||this.getParent()==a?(e=this,!1):void 0}),e);if(arguments.length>1){var s=arguments[1],l=3==arguments.length?arguments[2]:{};if("string"==typeof s&&(s={src:s}),s=i({bgcolor:"#000000",version:[10,1],expressInstall:"http://releases.flowplayer.org/swf/expressinstall.swf",cachebusting:!1},s),"string"==typeof a){if(-1!=a.indexOf(".")){var u=[];return n(o(a),function(){u.push(new c(this,t(s),t(l)))}),new d(u)}var p=r(a);return new c(null!==p?p:t(a),t(s),t(l))}if(a)return new c(a,t(s),t(l))}return null},i(window.$f,{fireEvent:function(){var e=[].slice.call(arguments),t=$f(e[0]);return t?t._fireEvent(e.slice(1)):null},addPlugin:function(e,t){return c.prototype[e]=t,$f},each:n,extend:i}),"function"==typeof jQuery&&(jQuery.fn.flowplayer=function(e,n){if(!arguments.length||"number"==typeof arguments[0]){var r=[];return this.each(function(){var e=$f(this);e&&r.push(e)}),arguments.length?r[arguments[0]]:new d(r)}return this.each(function(){$f(this,t(e),n?t(n):{})})})}(),!function(){function e(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function t(e,t){var n=[];for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function n(t,n,o){if(l.isSupported(n.version))t.innerHTML=l.getHTML(n,o);else if(n.expressInstall&&l.isSupported([6,65]))t.innerHTML=l.getHTML(e(n,{src:n.expressInstall}),{MMredirectURL:encodeURIComponent(location.href),MMplayerType:"PlugIn",MMdoctitle:document.title});else if(t.innerHTML.replace(/\s/g,"")||(t.innerHTML="<h2>Flash version "+n.version+" or greater is required</h2><h3>"+(u[0]>0?"Your version is "+u:"You have no flash plugin installed")+"</h3>"+("A"==t.tagName?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+i+"'>here</a></p>"),("A"==t.tagName||"DIV"==t.tagName)&&(t.onclick=function(){location.href=i})),n.onFail){var a=n.onFail.call(this);"string"==typeof a&&(t.innerHTML=a)}r&&(window[n.id]=document.getElementById(n.id)),e(this,{getRoot:function(){return t},getOptions:function(){return n},getConf:function(){return o},getApi:function(){return t.firstChild}})}var r=document.all,i="http://get.adobe.com/flashplayer",o="function"==typeof jQuery,a=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,s={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:!0,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:!1,cachebusting:!1};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){}}),window.flashembed=function(t,r,i){return"string"==typeof t&&(t=document.getElementById(t.replace("#",""))),t?("string"==typeof r&&(r={src:r}),new n(t,e(e({},s),r),i)):void 0};var l=e(window.flashembed,{conf:s,getVersion:function(){var e,t;try{t=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(n){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),t=e&&e.GetVariable("$version")}catch(r){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),t=e&&e.GetVariable("$version")}catch(i){}}}return t=a.exec(t),t?[1*t[1],1*1*t[1*t[1]>9?2:3]]:[0,0]},asString:function(e){if(null===e||void 0===e)return null;var n=typeof e;switch("object"==n&&e.push&&(n="array"),n){case"string":return e=e.replace(new RegExp('(["\\\\])',"g"),"\\$1"),e=e.replace(/^\s?(\d+\.?\d*)%/,"$1pct"),'"'+e+'"';case"array":return"["+t(e,function(e){return l.asString(e)}).join(",")+"]";case"function":return'"function()"';case"object":var r=[];for(var i in e)e.hasOwnProperty(i)&&r.push('"'+i+'":'+l.asString(e[i]));return"{"+r.join(",")+"}"}return String(e).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(t,n){t=e({},t);var i='<object width="'+t.width+'" height="'+t.height+'" id="'+t.id+'" name="'+t.id+'"';t.cachebusting&&(t.src+=(-1!=t.src.indexOf("?")?"&":"?")+Math.random()),i+=t.w3c||!r?' data="'+t.src+'" type="application/x-shockwave-flash"':' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"',i+=">",(t.w3c||r)&&(i+='<param name="movie" value="'+t.src+'" />'),t.width=t.height=t.id=t.w3c=t.src=null,t.onFail=t.version=t.expressInstall=null;for(var o in t)t[o]&&(i+='<param name="'+o+'" value="'+t[o]+'" />');var a="";if(n){for(var s in n)if(n[s]){var u=n[s];a+=s+"="+(/function|object/.test(typeof u)?l.asString(u):u)+"&"}a=a.slice(0,-1),i+='<param name="flashvars" value=\''+a+"' />"}return i+="</object>"},isSupported:function(e){return u[0]>e[0]||u[0]==e[0]&&u[1]>=e[1]}}),u=l.getVersion();o&&(jQuery.tools=jQuery.tools||{version:"3.2.12"},jQuery.tools.flashembed={conf:s},jQuery.fn.flashembed=function(e,t){return this.each(function(){$(this).data("flashembed",flashembed(this,e,t))})})}(),n("lib/flowplayer/flowplayer",function(e){return function(){var t,n;return n=function(){var e=this;return e.hiro_flowplayer?(e.flowplayer=e.hiro_flowplayer.flowplayer,e.$f=e.hiro_flowplayer.$f):e.hiro_flowplayer={flowplayer:e.flowplayer,$f:e.$f},{flowplayer:flowplayer,flashembed:flashembed}},t=n.apply(e,arguments)}}(this)),function(){n("util/escapeHtmlEntities",["require","util/extend"],function(e){var t=e("util/extend"),n=function(e,n){return n=t(!0,{},n),e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n.escapeSingleQuotes&&(e=e.replace(/'/g,"&#39;")),e};return n})}(this),function(){n("dom/fixedFlowplayer",["require","lib/flowplayer/flowplayer","util/escapeHtmlEntities"],function(e){var t=e("lib/flowplayer/flowplayer"),n=e("util/escapeHtmlEntities"),r=t.flashembed,i=r.asString,o=function(e){var t=JSON.stringify(e);return t=t.replace(/'/g,"â"),t=encodeURIComponent(t),t=n(t,{escapeSingleQuotes:!0})},a=function(e){var t=i;return e&&e.useFixedAsString&&(t=o),t.apply(this,arguments)};return a.isFixed=!0,r.asString.isFixed||(r.asString=a),t})}(this),n("util/createPrototype",["require","util/extend"],function(e){var t=e("util/extend"),n=function(e,n){var r=function(){return this},i=e.base,o=function(){i&&i.apply(this,arguments)};return i&&i.prototype&&(r.prototype=i.prototype),e.hasOwnProperty("constructor")&&(o=e.constructor),o.prototype=new r,t(!0,o.prototype,e),n&&t(!0,o,n),o};return n}),function(e){n("util/FlashDownloader",["require","dom/$","core/Event","core/registerFlashTrigger","dom/getFlashVersion","core/console","util/extend","util/prepareUrls","util/buildQueryString","dom/browser","dom/fixedFlowplayer","util/createPrototype"],function(t){var n,r,i=t("dom/$"),o=t("core/Event"),a=t("core/registerFlashTrigger"),s=t("dom/getFlashVersion"),l=s(),u=t("core/console"),c=t("util/extend"),d=t("util/prepareUrls"),p=t("util/buildQueryString"),f=t("dom/browser"),m=t("dom/fixedFlowplayer"),h=m.flashembed,g={},v=0,y=i.Deferred(),E=!1,b=1,w=t("util/createPrototype"),A=function(){var e;E&&(e=["[downloader]"].concat(Array.prototype.slice.call(arguments)),u.log.apply(u,e))},x=function(e){var t,n,r={};return r["@HsqH@"]="'",r["@HescdqH@"]='\\"',r["@HquestH@"]="?",r["@HltH@"]="<",r["@HgtH@"]=">",r["@HampH@"]="&",r["@HnumsignH@"]="#",t=new RegExp(Object.keys(r).join("|"),"g"),n=e.replace(t,function(e){return r[e]})},T=function(e){var t,n=b;return b+=1,t={eventWrapperId:n,triggerFlashDownloaderEvent:function(t){var r,i=[];i.push("tab is "+(f.isTabVisible()?"visible":"invisible")),i.push("evId: "+n),i.push(Array.prototype.slice.call(arguments,1)),r=i.join("; "),A('trigger "'+t+'"',r),e.trigger(t,r)}}},_=function(t){var n,o=this,s=function(){var e=o.config;e.htmlContainerId&&(i("#"+e.htmlContainerId).remove(),e.flashDownloaderApiObj=null,e.htmlContainerId=null)},u=function(e){var t,n,l,u,c=function(){return o.trigger.apply(o,arguments)};e.flashObjectId=a(c),e.htmlContainerId="hiro-afd-"+e.flashObjectId,l=i("<div/>").attr("id",e.htmlContainerId).css("width","0px").css("height","0px").appendTo(e.container).get(0),u=d(e.folderName,{flashDownloaderUrl:"FlashDownloader.swf"}),A("swfFilePath",u),n={objectId:e.flashObjectId,isDebug:e.isDebug},t={src:u.flashDownloaderUrl,id:e.htmlContainerId,allowscriptaccess:"always",flashvars:p(n),onFail:function(){o.flashDownloaderPublisherEventsWrapper.triggerFlashDownloaderEvent("PE_FLASH_DOWNLOADER_NOT_AVAILABLE","Failed to embed FlashDownloader",_()),s()}},r=new Date,e.flashDownloaderApiObj=h(l,t)},f=function(){return o.config.flashDownloaderApiObj&&o.config.flashDownloaderApiObj.getApi()},m=function(){var e=(o.config,f());e&&e.ping()},b=function(t){o.config,e.setTimeout(function(){var e;A("Trying Flash download of url:",t.url),t.flashDownloaderNetworkEventsWrapper.triggerFlashDownloaderEvent("NE_FLASH_DOWNLOADER_DOWNLOAD",w(t.requestId)),e=f(),e?e.downloadRequest({targetURL:t.url,requestId:t.requestId}):n(t.requestId,"NE_FLASH_DOWNLOADER_NOT_AVAILABLE")},0)},w=function(e){return"requestId: "+e},_=function(){return"Flash version: "+l},I=function(e){var t,n=o.config,r=e.flashDownloaderNetworkEventsWrapper;return t="fd"+n.flashObjectId+"-"+v,v+=1,g[t]={url:e.url,requestId:t,flashDownloaderNetworkEventsWrapper:r,success:function(n){r.triggerFlashDownloaderEvent("NE_FLASH_DOWNLOADER_DOWNLOAD_SUCCESS",w(t)),e.success(n)},error:function(n,i){r.triggerFlashDownloaderEvent(n,w(t),i),e.error(i||"error")}},g[t]},S=function(e){var t=g[e];return delete g[e],t},C=function(e){var t=(o.config,I(e)),n=e.flashDownloaderReasonEvent||"NE_FLASH_DOWNLOADER_REQUEST_FORCED";t.flashDownloaderNetworkEventsWrapper.triggerFlashDownloaderEvent(n,w(t.requestId),_()),y.then(function(){b(t)})};n=function(e,t){var n=S(e);n.error(t)},o.config=c({},t),E=o.config.isDebug,o.performDownload=C,o.requestPing=m,o.destroyHtmlContainer=s,o.flashDownloaderPublisherEventsWrapper=T(o.config.flashDownloaderPublisherEvents),o.flashDownloaderPublisherEventsWrapper.triggerFlashDownloaderEvent("PE_FLASH_DOWNLOADER_INIT",_()),o.on("ready",function(){var e=(o.config,new Date),t=(e.getTime()-r.getTime())/1e3;o.flashDownloaderPublisherEventsWrapper.triggerFlashDownloaderEvent("PE_FLASH_DOWNLOADER_READY","FlashDownloader ready after "+t+" seconds",_()),y.resolve()}),o.on("downloadResponse",function(e,t,n){var r,a,s,l,u=(o.config,null);if(r=JSON.parse(t),a=x(n),s=S(r.requestId),A("downloadResponse",r,a),"COMPLETE"===r.code)try{l=i.parseXML(a)}catch(c){u="XML parse exception: "+c.message.substring(0,100)+"; ",a=null}else u="Download error";null===u?s.success(l):(u+="; Result: "+t,a&&"string"==typeof a&&(u+="; Error: "+a.substring(0,100)),A(u),s.error("NE_FLASH_DOWNLOADER_DOWNLOAD_ERROR",u))}),o.on("traceToConsole",function(e,t){A(t)}),u(o.config)};return n=w({base:o,constructor:_,download:function(e){var t=this;t.performDownload({url:e.url,success:e.success,error:e.error,flashDownloaderReasonEvent:e.flashDownloaderReasonEvent,flashDownloaderNetworkEventsWrapper:e.flashDownloaderNetworkEventsWrapper})},ping:function(){var e=this;e.requestPing()},destroy:function(){var e=this;e.destroyHtmlContainer()},createFlashDownloaderEventsWrapper:T},{getListenerNetworkEventIdsArray:function(){return["NE_FLASH_DOWNLOADER_ENABLED","NE_FLASH_DOWNLOADER_AJAX","NE_FLASH_DOWNLOADER_AJAX_SUCCESS","NE_FLASH_DOWNLOADER_REQUEST_HTTPS","NE_FLASH_DOWNLOADER_REQUEST_CORS","NE_FLASH_DOWNLOADER_REQUEST_CONFIG","NE_FLASH_DOWNLOADER_REQUEST_DOMAIN","NE_FLASH_DOWNLOADER_REQUEST_FORCED","NE_FLASH_DOWNLOADER_NOT_AVAILABLE","NE_FLASH_DOWNLOADER_DOWNLOAD","NE_FLASH_DOWNLOADER_DOWNLOAD_ERROR","NE_FLASH_DOWNLOADER_DOWNLOAD_SUCCESS"]}})})}(this),function(){n("util/extractDomainFromUrl",["require","util/maybeDecodeURIComponent"],function(e){var t=e("util/maybeDecodeURIComponent"),n=function(e){var n="",e=t(e);return n=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0],n=n.split(":")[0]};return n})}(this),function(e){n("dom/installFlashDownloader",["require","util/extend","util/FlashDownloader","dom/$","core/Event","util/extractDomainFromUrl"],function(t){var n=t("util/extend"),r=t("util/FlashDownloader"),i=t("dom/$"),o=t("core/Event"),a=t("util/extractDomainFromUrl"),s=function(t){var s,l=5e3,u=t.raisePublisherEvent,c=t.downloaderOpts&&t.downloaderOpts.forceUseDomains,d=function(){var n,i,a=new o,c=function(t,r){u(t,r),"PE_FLASH_DOWNLOADER_READY"===t&&(i=!1,s.on("pong",function(){i=!1}),n=e.setInterval(function(){return i?(e.clearInterval(n),s.destroy(),d(),void 0):(i=!0,s.ping(),void 0)},l))};a.one("PE_FLASH_DOWNLOADER_INIT",c),a.one("PE_FLASH_DOWNLOADER_READY PE_FLASH_DOWNLOADER_NOT_AVAILABLE",c),s=new r({folderName:t.folderName,isDebug:t.isDebug,flashDownloaderPublisherEvents:a,container:t.container})},p=function(e,t){e.forceUseFlashDownloader=!0,e.flashDownloaderReasonEvent||(e.flashDownloaderReasonEvent=t)},f=function(e){var t,n=a(e);if(n&&c)for(t=0;t<c.length;t++)if(n.indexOf(c[t])>-1)return!0;return!1};d(),i.ajaxPrefilter("*",function(e,r,o){var a=i.Deferred();e.useFlashDownloaderFallback&&(e.fdFirstTime||(e.flashDownloaderNetworkEventsWrapper=s.createFlashDownloaderEventsWrapper(e.flashDownloaderNetworkEvents),e.flashDownloaderNetworkEventsWrapper.triggerFlashDownloaderEvent("NE_FLASH_DOWNLOADER_ENABLED"),e.fdFirstTime=!0),t.forceUseFlashDownloader?p(e,"NE_FLASH_DOWNLOADER_REQUEST_CONFIG"):f(e.url)?p(e,"NE_FLASH_DOWNLOADER_REQUEST_DOMAIN"):0===window.location.protocol.indexOf("https:")&&0===e.url.indexOf("http:")&&p(e,"NE_FLASH_DOWNLOADER_REQUEST_HTTPS"),e.forceUseFlashDownloader||(e.flashDownloaderNetworkEventsWrapper.triggerFlashDownloaderEvent("NE_FLASH_DOWNLOADER_AJAX"),o.done(function(t,n,r){e.flashDownloaderNetworkEventsWrapper.triggerFlashDownloaderEvent("NE_FLASH_DOWNLOADER_AJAX_SUCCESS"),a.resolve(t,n,r)}),o.fail(function(){var t=n(!0,{fdFirstTime:e.fdFirstTime,flashDownloaderNetworkEventsWrapper:e.flashDownloaderNetworkEventsWrapper},r);p(t,"NE_FLASH_DOWNLOADER_REQUEST_CORS"),i.ajax(t).then(a.resolve,a.reject)}),a.promise(o)))}),i.ajaxTransport("+*",function(e){return e.forceUseFlashDownloader?{send:function(t,r){s.download(n(!0,{},e,{success:function(e){r(200,"success",{xml:e})},error:function(e){r(500,e)}}))},abort:function(){}}:void 0})};return s})}(this),function(e,t){"function"==typeof n&&n.amd?n("lib/iab/adblockDetector",[],t):"object"==typeof module&&module.exports?module.exports=t():e.adblockDetector=t()}(this,function(){return function(e){function t(e){var t,n;try{t=JSON.parse(e)}catch(r){try{n=new Function("return "+e),t=n()}catch(r){o("Failed secondary JSON parse",!0)}}return t}function n(e){return"function"==typeof e
}function r(e,t){var n,r,i=t,o=document;if(r=o.createElement(e),i)for(n in i)i.hasOwnProperty(n)&&r.setAttribute(n,i[n]);return r}function i(e,t,n){y?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)}function o(t,n){(E.debug||n)&&e.console&&e.console.log&&(n?console.error("[ABD] "+t):console.log("[ABD] "+t))}function a(e){o("start beginTest"),1!=S&&(v=!0,s(e),I.quick="testing",C.test=setTimeout(function(){l(e,1)},5))}function s(e){var t,n,i=document,a=i.body,s="width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;";if(null==e||"string"==typeof e)return o("invalid bait being cast"),void 0;for(null!=e.style&&(s+=e.style),A=r("div",{"class":e.cssClass,style:s}),o("adding bait node to DOM"),a.appendChild(A),t=0;t<T.nullProps.length;t++)n=A[T.nullProps[t]];for(t=0;t<T.zeroProps.length;t++)n=A[T.zeroProps[t]]}function l(e,t){var n,r=document.body,i=!1;if(null==A&&(o("recast bait"),s(e||x)),"string"==typeof e)return o("invalid bait used",!0),u()&&setTimeout(function(){v=!1},5),void 0;for(C.test>0&&(clearTimeout(C.test),C.test=0),null!==r.getAttribute("abp")&&(o("found adblock body attribute"),i=!0),n=0;n<T.nullProps.length;n++){if(null==A[T.nullProps[n]]){i=!0,o("found adblock null attr: "+T.nullProps[n]);break}if(1==i)break}for(n=0;n<T.zeroProps.length&&1!=i;n++)0==A[T.zeroProps[n]]&&(i=!0,o("found adblock zero attr: "+T.zeroProps[n]));if(void 0!==window.getComputedStyle){var a=window.getComputedStyle(A,null);("none"==a.getPropertyValue("display")||"hidden"==a.getPropertyValue("visibility"))&&(i=!0,o("found adblock computedStyle indicator"))}g=!0,i||t++>=E.maxLoop?(S=i,o("exiting test loop - value: "+S),c(),u()&&setTimeout(function(){v=!1},5)):C.test=setTimeout(function(){l(e,t)},E.loopDelay)}function u(){if(null===A)return!0;try{n(A.remove)&&A.remove(),document.body.removeChild(A)}catch(e){}return A=null,!0}function c(){var e,t;if(null!==S)for(e=0;e<w.length;e++){t=w[e];try{null!=t&&(n(t.complete)&&t.complete(S),S&&n(t.found)?t.found():S===!1&&n(t.notfound)&&t.notfound())}catch(r){o("Failure in notify listeners "+r.Message,!0)}}}function d(){var t,n=!1;document.readyState&&"complete"==document.readyState&&(n=!0),t=function(){a(x,!1)},n?t():i(e,"load",t)}var p="1.0",f="offset",m="client",h=function(){},g=!1,v=!1,y=void 0===e.addEventListener,E={loopDelay:50,maxLoop:5,debug:!0,found:h,notfound:h,complete:h},b=function(){var e={};this.addUrl=function(t){return e[t]={url:t,state:"pending",format:null,data:null,result:null},e[t]},this.setResult=function(n,r,i){var o=e[n];if(null==o&&(o=this.addUrl(n)),o.state=r,null==i)return o.result=null,void 0;if("string"==typeof i)try{i=t(i),o.format="json"}catch(a){o.format="easylist"}return o.data=i,o}},w=[],A=null,x={cssClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"},T={nullProps:[f+"Parent"],zeroProps:[]};T.zeroProps=[f+"Height",f+"Left",f+"Top",f+"Width",f+"Height",m+"Height",m+"Width"];var _,I={quick:null,remote:null},S=null,C={test:0,download:0},D={version:p,init:function(e){var t,n;if(e){n={complete:h,found:h,notfound:h};for(t in e)e.hasOwnProperty(t)&&("complete"==t||"found"==t||"notFound"==t?n[t.toLowerCase()]=e[t]:E[t]=e[t]);w.push(n),_=new b,d()}}};return D}}),function(e){n("dom/serializeXml",["require","util/defined"],function(t){var n=t("util/defined"),r=function(t){return t.xml||n(e.XMLSerializer)&&(new e.XMLSerializer).serializeToString(t)};return r})}(this),function(){n("dom/xmlString",["require","dom/createElement","dom/serializeXml"],function(e){var t=e("dom/createElement"),n=e("dom/serializeXml"),r=function(e,r){var i=t(e,r,!0);return n(i)};return r})}(this),function(){n("dom/beaconPost",["require","util/extend","util/buildUrl","dom/xmlString","dom/$"],function(e){var t=(e("util/extend"),e("util/buildUrl")),n=e("dom/xmlString"),r=e("dom/$"),i=function(e){var i,o=e.url,a=e.xmlRootElementName||null,s=e.sendAsXml===!0;i=s&&a?{request:n(a,e.postData)}:e.postData,e.getData&&(o=t(o,e.getData)),r.ajax({url:o,data:i,method:"POST"})};return i})}(this),function(e){n("beacons/PublisherEvents",["require","util/extend","util/defined","dom/beaconPost","dom/browser","core/console"],function(t){var n=t("util/extend"),r=t("util/defined"),i=t("dom/beaconPost"),o=t("dom/browser"),a=t("core/console"),s={},l=0,u=0,c=0,d=function(e){var t=this;if(r(e.eventDiceRoll))var i=e.eventDiceRoll;else a.log("Error : diceRoll is empty!!");e=t.config=n(!0,{},s,e),t.sendPublisherEventsFlag=i<e.publisherEventsPerc,t.sendPlacementEventsFlag=i<e.placementEventsPerc,a.log("PublisherEvents: PublisherEvents(), sendPlacementEventsFlag: "+t.sendPlacementEventsFlag+", sendPublisherEventsFlag: "+t.sendPublisherEventsFlag)};return d.PLACEMENT_REFERENCE=1,d.PLACEMENT_LOADED=11,d.PLACEMENT_MULTIBURN=21,d.INTEGRAL_AD_SAFE_BLOCK=2200,d.PLACEMENT_BLOCKED_PLACEMENT_DOMAIN=2201,d.PLACEMENT_BLOCKED_DIV_NOT_EMPTY=2202,d.PLACEMENT_BLOCKED_SELECTED_DOMAINS=2203,d.PLACEMENT_BLOCKED_EXTRA_BLOCKED_URLS=2204,d.PLACEMENT_BLOCKED_NO_MY_ELEMENT=2206,d.PLACEMENT_BLOCKED_MOVIE_GEO=2207,d.PLACEMENT_NOT_TRANSPARENT=300,d.NO_PREROLL=3,d.HAS_PREROLL=4,d.SYNC_SUCCESS=6,d.SYNC_EMPTY=63,d.SYNC_APP_ENGINE_EMPTY_RESPONSE=64,d.SYNC_UNKOWN_ERROR=69,d.PREROLL_BID_START=7,d.FLOWPLAYER_LOADING=71,d.AD_BREAK_COMPLETE=72,d.AD_BREAK_EVENT_ERROR=73,d.PE_FLASH_DOWNLOADER_INIT=80,d.PE_FLASH_DOWNLOADER_NOT_AVAILABLE=81,d.PE_FLASH_DOWNLOADER_READY=82,d.AD_BLOCKER_DETECTED=90,d.AD_BLOCKER_NOT_DETECTED=91,d.SNAP_PRE_INIT_SUCCESS=150,d.SNAP_REQUEST_FOR_NEW_OBJECT=151,d.FIRST_PREROLL_IMPRESSION=10,d.INTEGRAL_AD_SAFE_RANK=500,d.INTEGRAL_AD_SAFE_VIEWABILITY=501,d.SAFE_FRAME_DETECTED=600,d.CLICK_THROUGH_POSTER=3001,d.CLICK_THROUGH_CONTENT=3002,d.CLICK_THROUGH_LOGO=3003,d.CLICK_THROUGH_OVERLAY=3004,d.BIDDING_OPPORTUNITY=40,d.BIDDING_SUCCESS=41,d.BIDDING_FAILURE=42,d.getRoll=function(){return diceRoll},d.prototype.send=function(t,r,s){var p,f,m,h,g=this,v=g.config,y=11===t,E=1===t,b=100===t,w=t===d.BIDDING_OPPORTUNITY,A=t===d.BIDDING_SUCCESS||t===d.BIDDING_FAILURE,x=y?e.document.referrer:"";s=n(!0,{},s),p=new Date,E&&(u=p,c=p),y&&(l=p),w&&(p=s.eventStartTime),A&&(l=s.eventStartTime),(s.force||(!y||g.sendPlacementEventsFlag)&&(y||g.sendPublisherEventsFlag))&&(null===r&&(r=""),A?f=p-l:b?(f=p-c,c=p):f=p-u,(0>f||y)&&(f=0),m=y?v.placementEventsPerc:v.publisherEventsPerc,s.samplingValue&&(m=s.samplingValue),a.log("PublisherEvents: send(), sending: ",arguments),h={"event-type":t,"account-id":v.consoleID,data:r,"external-id":v.externalID,samplingPerc:m,os:o.os+" "+o.osVersion,scriptVersion:v.version,site_user_id:v.getUserId(),referrer:x,extDynamicParam1:v.extDynamicParam1,extDynamicParam2:v.extDynamicParam2,experimentId:v.experimentId,freePlacement:v.isInSecondClick&&v.isLpSession?!0:!1,userAgent:o.userAgent,flash:o.flashversion,browser:o.name,affiliateId:v.subExternalID,url:v.domain,userDate:(new Date).toString(),sessionID:v.sessionID,delay_from_previous_in_sec:f/1e3,"UTF-8":!0},v.calculatedPlacementCost&&(h.placementCost=v.calculatedPlacementCost),i({url:v.httpProtocol+"://"+v.serverUsed+(v.useEventsServer?"/hiro-events":"/hiro")+"/HiroServlet/PublisherEventServlet",sendAsXml:!0,xmlRootElementName:"publish-event-request",postData:h,getData:{"event-type":h["event-type"],"UTF-8":h["UTF-8"]}}))},d})}(this),function(){n("util/extractFilenameFromUrl",["require","util/maybeDecodeURIComponent"],function(e){var t=e("util/maybeDecodeURIComponent"),n=function(e,n){var r="",i=t(e),o=i.split("/");return o.length>0&&(r=o[o.length-1]),n||(r=r.split(".")[0]),r};return n})}(this),function(){n("beacons/ViewLog",["require","util/extend","dom/beacon","dom/browser","core/console","util/percentChance","util/extractFilenameFromUrl"],function(e){var t=e("util/extend"),n=e("dom/beacon"),r=e("dom/browser"),i=e("core/console"),o=e("util/percentChance"),a=e("util/extractFilenameFromUrl"),s={},l=function(e){var n=this;n.config=t(!0,{},s,e)};return l.prototype.log=function(e){var t=this,s=t.config,l=a(e),u={farmId:s.farmId,mediaSellerId:s.mediaSellerId,publisherId:s.publisherId,externalMovieId:l,eventType:0,domain:s.domain,url:s.url,browser:r.name,operatingSys:r.os+" "+r.osVersion,samplingPerc:s.movieViewLogSampling,affiliateId:s.subExternalID,experimentId:s.experimentId,sessionID:s.sessionID,siteUserId:s.site_user_id,scriptVersion:s.version,type:"movie"};s.sendMovieLog&&o(s.movieViewLogSampling)&&(i.log("ViewLog: log()"),n(s.sendMovieLogUrl,{payload:JSON.stringify(u)}))},l})}(this),function(){n("util/stripEmailParameters",[],function(){var e=function(e){return e=e.replace(/=[^&]+(@|%40)[^&]*/gi,"="),e.replace(/([?&](username|name)=)([^&]*)/gi,"")};return e})}(this),function(e){n("player/extractParentURL",["require","util/stripEmailParameters"],function(t){var n=t("util/stripEmailParameters"),r=["xurl","referrer","referrer1","ref","ref1","ref2","rf","loc","pub_url"],i="",o="",a=function(e){var t=e;try{t=decodeURIComponent(e)}catch(n){}return t},s=function(e){var t,n,r="",i=a(e);return i=a(i),t=0===i.indexOf("http://")?7:0===i.indexOf("https://")?8:0,n=i.substring(t).search(/[\/?}&$]/),-1===n&&(n=i.length),r=i.substring(t,t+n)},l=function(e){var t="";return t=s(e),t=0===t.indexOf("www.")?t.substring(4,t.length):t},u=10,c=function(e,t){var n,r=u,i=s(e),o=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/;if(u+=1,null===e||""===e||"source_url_enc_hidden"===e||"undefined"===e||""===i||"["===e.charAt(0)||"%5B"===e.substr(0,3)||"{"===e.charAt(0)||"%7B"===e.substr(0,3))r-=1e3;else{for(i=i.toLowerCase(),n=0;n<t.length;n+=1)-1!==i.indexOf(t[n].toLowerCase())&&(r-=10+n);o.test(i)&&(r-=30),-1===e.indexOf(".")&&(r-=20)}return r},d=function(e){var t="",n=e.indexOf("?"),r="";return-1!==n&&(e=e.substr(n),e=a(e),n=e.indexOf("http://"),r=e.indexOf("&",n),r=-1!==r?r:e.length,-1!==n&&(t=e.substring(n,r))),t},p=function(t,n){var r="";r+=";;isPremiumSite="+t,r+=";;tag_url="+n,r+=";;top.location.href=";try{r+=e.top.location.href}catch(o){}r+=";;Window.location.href=";try{r+=e.location.href}catch(o){}r+=";;document.referrer=";try{r+=i=e.document.referrer}catch(o){}r+=";;Window.parent.location.href=";try{r+=e.parent.location.href}catch(o){}return r=r.substr(0,2e3)},f={},m=function(e,t){var n,r,i,o,a=e.indexOf("?");if(!f[e]&&(f[e]={},-1!==a))for(n=e.substring(a+1,e.length),r=n.split("&"),o=0;o<r.length;o+=1)i=r[o].split("="),f[e][i[0]]=i[1];return void 0!==f[e][t]?f[e][t]:""},h=function(t){var n,i,s,l=[],u=["","","",""];if(t)u[0]=t;else{try{u[0]=e.location.href.toString()}catch(c){}try{u[1]=e.parent.location.href.toString()}catch(c){}try{u[2]=e.document.referrer}catch(c){}}for(n=0;n<u.length;n+=1)for(i=0;i<r.length;i+=1)s=m(u[n],r[i]),""!==s&&(l.push(a(s)),0==n&&4==i&&(o=s));return l},g=function(e,t){var n,r,i,o,a,s="";for(r=0;r<e.length;r+=1){if(n=e[r].url.toLowerCase(),o=n.indexOf("?"),a=n.indexOf("%3F"),-1!==o&&(n=n.substr(0,o)),-1!==a&&(n=n.substr(0,a)),void 0===t)return s;for(i=0;i<t.length;i+=1)if(""!==t[i]&&-1!==n.indexOf(t[i].toLowerCase())){s="ebl:"+t[i]+":"+e[r].url;break}}return s},v=function(t){var r,i,a,u,f,v,y,E,b,w,A=[],x="",T="",_="",I="",S=!1;if(t.root&&(e=t.root),a=e.location.href.toString(),t.useSourceParam&&(w=m(t.scriptUrl,t.useSourceParam===!0?"ref1":t.useSourceParam),w&&(a=w)),!t.isPremiumSite&&!w){r=a,A.push({url:a,mark:c(a,t.transparencyLowerMarks)});try{x=e.top.location.href.toString()}catch(C){}S=!!x;try{T=e.parent.location.href.toString()}catch(C){}try{_=e.document.referrer}catch(C){}if(A.push({url:T,mark:c(T,t.transparencyLowerMarks)}),y=h(),y.length>0)for(E=0;E<y.length;E+=1)A.push({url:y[E],mark:c(y[E],t.transparencyLowerMarks)});if(u=d(r),""===u&&(r=_,u=d(r)),""!==u&&(r=u,u=d(r),""!==u&&(r=u),f=r.indexOf(","),-1!==f&&(r=r.substring(0,f)),a=r,A.push({url:a,mark:c(a,t.transparencyLowerMarks)})),b={url:_,mark:c(_,t.transparencyLowerMarks)},S||A.push(b),y=h(t.scriptUrl),y.length>0)for(E=0;E<y.length;E+=1)A.push({url:y[E],mark:c(y[E],t.transparencyLowerMarks)});S&&A.push({url:x,mark:c(x,t.transparencyLowerMarks)}),I=g(A,t.extraBlockedUrls),S&&A.push(b),A.sort(function(e,t){return t.mark-e.mark}),a=A[0].url}return v=n(a),i=l(_)===l(o)?_:s(v),a={url:v,domain:s(v),data:"selectedParent="+i+p(t.isPremiumSite,t.scriptUrl),blockedDomainString:I,isBlocked:""!==I}};return v})}(this),function(e){n("player/Placement",["require","util/each","util/extend","util/buildQueryString","dom/browser","dom/getElement","core/console","beacons/PublisherEvents","player/extractParentURL"],function(t){var n=t("util/each"),r=t("util/extend"),i=t("util/buildQueryString"),o=t("dom/browser"),a=t("dom/getElement"),s=t("core/console"),l=t("beacons/PublisherEvents"),u=t("player/extractParentURL"),c=function(e){var t=/^(?:(?:2[0-4]\d|25[0-5]|1\d{2}|[1-9]?\d)\.){3}(?:2[0-4]\d|25[0-5]|1\d{2}|[1-9]?\d)(?:\:(?:\d|[1-9]\d{1,3}|[1-5]\d{4}|6[0-4]\d{3}|65[0-4]\d{2}|655[0-2]\d|6553[0-5]))?$/,n=/(^127\.0\.0\.1)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)|(^192\.168\.)/;return t.test(e)&&!n.test(e)},d=function(e,t,r){var i="";return s.log("Placement: checkBlockedDomain()",arguments),e=e.toLowerCase(),r&&c(e)?"bl: IP :"+e:(n(t,function(t,n){return""===n?!0:-1!==e.indexOf(n.toLowerCase())?(i="bl:"+n+":"+e,!1):void 0}),i)},p=function(e,t){var r=new l(e),i="tab is "+(o.isTabVisible()?"visible;":"invisible;");return r.send(l.PLACEMENT_LOADED,t.referrer),r.send(l.PLACEMENT_REFERENCE,i+t.parentUrlData),t.isTransparent||r.send(l.PLACEMENT_NOT_TRANSPARENT,null),t.blockedReason.length&&n(t.blockedReason,function(e,t){r.send(t.id,t.data)}),r},f=function(e){var t=e&&e.parentNode,n=t&&t.parentNode,r=n||t,i=r&&r.innerHTML||"N/A";return i.replace(/\s/g," ")},m=function(e){var t=this;t.config=r(!0,{},e)};return m.prototype.init=function(){var t=this,n=t.config,r=u({isPremiumSite:n.isPremiumSite,extraBlockedUrls:n.extraBlockedUrls||[],transparencyLowerMarks:n.transparencyLowerMarks||[],scriptUrl:n.scriptUrl,useSourceParam:n.useSourceParam}),c=n.player&&a(n.player),m=[],h=o.query.qaDomain||r.domain,g=d(h,n.blockedSelectedDomains,n.blockIP);return s.log("Placement: init()"),g?m=[{id:l.PLACEMENT_BLOCKED_SELECTED_DOMAINS,data:g}]:r.isBlocked&&(m=[{id:l.PLACEMENT_BLOCKED_EXTRA_BLOCKED_URLS,data:r.blockedDomainString}]),n.skipScriptCheck||-1!==n.scriptUrl.indexOf("hiro")||(m=[{id:l.PLACEMENT_BLOCKED_NO_MY_ELEMENT,data:n.scriptUrl}]),c&&c.children.length>0&&(m=[{id:l.PLACEMENT_BLOCKED_DIV_NOT_EMPTY,data:"Player: "+n.player+" innerHTML: "+f(n.scriptElement)},{id:l.PLACEMENT_MULTIBURN,data:"PLAYER_DIV_NOT_EMPTY"}]),n.url=r.url,n.domain=h,s.log(" blockedReason "+m),p(n,{referer:e.document.referrer,parentUrlData:r.data+";;macros="+i(n.macros),isTransparent:o.isTransparent,blockedReason:m}),{url:n.url,domain:n.domain,blockedReason:m}},m})}(this),function(){n("player/HiroPlayerPlaylist",["require","util/each","util/extend","core/console"],function(e){var t=e("util/each"),n=e("util/extend"),r=e("core/console"),i=function(e){var t=this,r=e.playlist;r||(r=[]),t.length=r.length,t.currentIndex=0,t.loopFinished=!1,t.playedMovies=0,t.first=!0,t.maxLoopRotations=e.maxLoopRotations,t.adCounters=e.adCounters,n(!0,t,r)};return i.prototype.next=function(){var e=this;return e.first=!1,e.currentIndex+=1,e.playedMovies+=1,e.adCounters.incRotationIndex(),r.log("HiroPlayerPlaylist: next() ",e),e.finished()&&e.loop(),e.currentIndex},i.prototype.add=function(e){var n=this,i=n.length;r.log("HiroPlayerPlaylist: add() ",arguments),e.length&&"string"!=typeof e||(e=[e]),t(e,function(e,t){n[e+i]=t}),n.length+=e.length},i.prototype.reset=function(){var e=this;e.currentIndex=0,e.playedMovies=0,e.loopFinished=!1},i.prototype.clear=function(){var e=this,t=0;for(r.log("HiroPlayerPlaylist: clear() ",e),t=0;t<e.length;t+=1)delete e[t];e.reset(),e.length=0},i.prototype.loop=function(){var e=this;return e.playedMovies>=e.maxLoopRotations&&(e.loopFinished=!0,e.playedMovies=0),e.currentIndex=0,r.log("HiroPlayerPlaylist: loop() ",e),e.loopFinished},i.prototype.finished=function(){var e=this;return r.log("HiroPlayerPlaylist: finished() ",e),e.currentIndex>=e.length||e.playedMovies>=e.maxLoopRotations},i.prototype.current=function(){var e=this;return r.log("HiroPlayerPlaylist: current() ",e),e[e.currentIndex]},i.prototype.index=function(){var e=this;return r.log("HiroPlayerPlaylist: index() ",e),e.currentIndex},i.prototype.isFirst=function(){var e=this;return r.log("HiroPlayerPlaylist: index() ",e),e.first},i})}(this),function(){n("player/ApiBase",[],function(){var e=function(e){return e&&"function"==typeof e?function(t){e.call(this,{type:t})}:void 0},t=[],n=[],r=function(e){var t=this;t.apiEvents=e};return r.prototype.on=function(r,i,o){var a=this,s=e(i);return n.push(s),t.push(i),a.apiEvents.on(r,s,o),a},r.prototype.one=function(r,i,o){var a=this,s=e(i);return n.push(s),t.push(i),a.apiEvents.one(r,s,o),a},r.prototype.off=function(e,r,i){var o,a=this,s=0;if(r){for(;t[s]&&t[s]!==r;)s+=1;o=n[s]}return a.apiEvents.off(e,o,i),a},r})}(this),function(){n("util/rejectedPromise",["require","dom/$"],function(e){var t=e("dom/$"),n=function(e){var n=t.Deferred();return n.reject(e),n.promise()};return n})}(this),n("player/StageManager",["require","dom/$","core/console","util/extend","util/rejectedPromise"],function(e){var t=e("dom/$"),n=e("core/console"),r=e("util/extend"),i=e("util/rejectedPromise"),o=t.when,a={show:t.noop,hide:t.noop},s={placeholder:a,showPlaceholderOnInit:!0},l=function(e){var t=this;t.options=r(!0,{},s,e),t.options.showPlaceholderOnInit&&t.options.placeholder.show()};return l.prototype.enter=function(e){var t=this,r=t.options,a=r.placeholder,s=function(){return e.show()},l=function(){t.currentActor=e};return n.log("StageManager: enter()",arguments),t.currentActor===e?(n.log("StageManager: enter(), actor already on stage, ignoring"),void 0):e&&!t.currentActor?(n.log("StageManager: enter(), showing actor"),o(a.hide()).then(s).then(l)):(n.log("StageManager: enter(), stage not available, rejecting"),i())},l.prototype.exit=function(e){var t=this,r=t.options,a=r.placeholder,s=function(){return a.show()},l=function(){t.currentActor=!1};return n.log("StageManager: exit()",arguments),e&&e===t.currentActor?(n.log("StageManager: exit(), hiding actor"),o(e.hide()).then(s).then(l)):(n.log("StageManager: exit(), actor not on stage, rejecting"),i())},l.prototype.current=function(){var e=this;return n.log("StageManager: current()"),e.currentActor},l}),n("player/playAdBreak",["require","dom/$","core/console"],function(e){var t=e("dom/$"),n=e("core/console"),r=function(e,r){var i,o,a=t.Deferred(),s=a.promise(),l=0,u=0,c=0,d=t.Deferred(),p=r.persistentPreroll,f=0===r.persistentPrerollLoop?99:r.persistentPrerollLoop,m=function(e){var r=t.Deferred();return n.log("playAdBreak()/waitUntilAdComplete()",o),e||(e=i),t.when(i&&i.atEnd()).always(r.resolve),r.promise()},h=function(e){var i=function(){return n.log("playAdBreak()/waitUntilCanPlayAd()/returnNextAd()",o),e};return n.log("playAdBreak()/waitUntilCanPlayAd()",o,d.state()),"pending"===d.state()&&(r.startAfter?r.startAfter(e).then(d.resolve,d.reject):d.resolve()),t.when(m(),d.promise()).then(i,i)},g=function(e){var t=function(){return e.play()},a=function(){return n.log("playAdBreak()/startNextAd()/returnAd()",o),e},s=function(){return e&&e.destroy(),r.stageManager.exit(e)},l=function(){var t=function(){m(e).then(s)};return r.stageManager.enter(e).then(t)};return i&&i.destroy(),i=e,n.log("playAdBreak()/startNextAd()",o),l().then(t).then(a,a)},v=function(e){var t=function(){return n.log("playAdBreak()/waitUntilBidTime()/returnNextAd()",o),e};return n.log("playAdBreak()/waitUntilBidTime()",o),i.atBidTime?i.atBidTime().then(t,t):i.atEnd(r.adBreakBufferTime).then(t,t)},y=function(){r.adBreakProgress&&r.adBreakProgress.apply(e,arguments)},E=function(e){var t=e&&e.options&&e.options.parallelBid;n.log("playAdBreak()/handleBidEnd()",o),t||(l+=1)},b=function(e){return n.log("playAdBreak()/removeFailedAd()",o),i===e&&(i=!1),e.destroy(),r.stageManager.current()===e?r.stageManager.exit(e):void 0},w=function(){m().then(a.resolve)},A=function(){n.log("playAdBreak()/biddingSuccess()",o),c=0,y("biddingsuccess")},x=function(){n.log("playAdBreak()/biddingFailure()",o),c+=1,y("biddingfailure")},T=function(){var t=!1;return o=[e.productFullName,e.insertionPoint,l],n.log("playAdBreak()/bidForNextAd()",o,d.state(),e.destroyed),l<e.maxAdsPerBreak&&"rejected"!==d.state()&&!e.destroyed?t=!0:0===e.insertionPoint&&c>0&&"rejected"!==d.state()&&!e.destroyed&&p&&f>u&&c>=e.maxAdsPerBreak&&(t=!0,l=0,c=0,u+=1,n.log("playAdBreak()/bidForNextAd() will be reset",o,d.state(),u)),t?e.bid().progress(y).done(A).fail(x).always(E).then(h).then(g).then(v).then(null,b).always(T):(n.log("playAdBreak() no more ads",o,e.maxAdsPerBreak),w(),void 0)};return n.log("playAdBreak()",arguments),e?T():a.resolve(),s.done(function(){y("done")}).fail(function(){y("fail")}).always(function(){e&&e.log("ad break complete"),y("complete")}),s};return r}),function(){n("player/PlaylistHandler",["require","dom/$","core/console","util/each","util/extend","util/rejectedPromise","player/playAdBreak"],function(e){var t=e("dom/$"),n=e("core/console"),r=e("util/each"),i=e("util/extend"),o=e("util/rejectedPromise"),a=e("player/playAdBreak"),s=10,l={startClipAfter:t.noop,onClipPlay:t.noop,maxLoopRotations:1/0},u=function(e){var t=this;i(t,l,e)};return u.prototype.startPlaylist=function(){var e,i,l,u,c=this,d=c.playlist,p=c.startClipAfter,f=c.onClipPlay,m=c.stageManager,h=c.injectFallback,g=c.allowPrerollsOnLoop,v=function(e){return c.adBreaks.sync(e)},y=function(e){var u,d,p=e.syncError,f=i.atEnd();return n.log("PlaylistHandler: prepareAdBreaks()",arguments),p?void 0:(r(e,function(e,r){var p,h=c.createAdBreak(r),g=h.insertionPoint/1e3,v=-s,y=t.Deferred(),E=function(){return"pending"!==f.state()},b=function(){return E()?o():void 0},w=function(){n.log("PlaylistHandler: prepareAdBreaks()/cleanupAdBreak()",h.insertionPoint),h.destroy()},A=function(){n.log("PlaylistHandler: prepareAdBreaks()/cleanupAdBreakImmediately()",h.insertionPoint),h.destroy(0)},x=function(){var e=a(h,{startAfter:function(){var t=function(){return m.exit(i)},r=function(){return E()?o():m.enter(i)},a=function(){return i.resume()};return n.log("PlaylistHandler: playAdBreakWhenReady()/startAfter()",h.insertionPoint),h.isPostroll()?f:(n.log("PlaylistHandler: playAdBreakWhenReady()/startAfter() resolving",h.insertionPoint),e.then(r).then(a),i.pause().then(t))},adBreakProgress:c.adBreakProgress,adBreakBufferTime:s,stageManager:m}),t=function(){return"pending"!==e.state()?o():void 0};return h.isPostroll()||(n.log("PlaylistHandler: prepareAdBreaks()/playAdBreakWhenReady() is midroll",h.insertionPoint),f.then(t).then(A)),n.log("PlaylistHandler: prepareAdBreaks()/playAdBreakWhenReady()",h.insertionPoint),e};h.isPostroll()||(v=g-s,0>v&&(v=0)),h.isPreroll()?u=h:(n.log("PlaylistHandler: startPlaylist()/prepareAdBreaks(), preparing hook at",v),h.isPostroll()||(p=t.when(d).then(b)),t.when(i.at(v),p).then(x).then(w).always(y.resolve),d=y.promise(),h.isPostroll()&&(l=y.promise(),l.then(function(){l=null})))}),u)},E=function(r){var i=function(){return n.log("PlaylistHandler: startPlaylist()/waitUntilCanPlayClip()/currentClipComplete()",e),e?e.atEnd():void 0},o=function(){return n.log("PlaylistHandler: startPlaylist()/waitUntilCanPlayClip()/canPlayClip()"),t.when(p(r),i())},s=d.isFirst(),l=s||g,u=function(){var e=t.Deferred(),n=e.promise(),i=r&&r.hadImpressions(),o=!i;return s&&o&&h()?e.reject():e.resolve(),n},f=function(){r&&(r.destroy(),r=null)};return n.log("PlaylistHandler: startPlaylist()/waitUntilCanPlayClip()"),l||(r=null),a(r,{startAfter:o,adBreakProgress:c.adBreakProgress,stageManager:m,persistentPreroll:c.persistentPreroll,persistentPrerollLoop:c.persistentPrerollLoop}).then(u).always(f).then(o)},b=function(){var t=function(){return i.play()},r=function(){return m.exit(i)},o=function(){var e=function(){i.atEnd().then(r)};return m.enter(i).then(e)};return n.log("PlaylistHandler: startPlaylist()/playPreparedClip()"),e=i,o().then(t).then(f)},w=function(){if(c.movieBumperEnabled&&c.movieBumper){var e=c.createClip(c.movieBumper),r=function(){return e.play()},i=function(){return m.exit(e)},o=function(){var t=function(){e.atEnd().then(i)};return m.enter(e).then(t)},a=function(){return n.log("PlaylistHandler: startPlaylist()/waitUntilBumperEnd()"),e.atEnd()};return e.volume(c.initialClipVolume),e.hide(),n.log("PlaylistHandler: startPlaylist()/playBumperClip()"),o().then(r).then(a)}return t.Deferred().resolve()},A=function(){return n.log("PlaylistHandler: startPlaylist()/waitUntilClipEnd()"),t.when(l,e.atEnd())},x=function(){n.log("PlaylistHandler: startPlaylist()/playNextClip()"),m.exit(e),d.next(),u()};return u=function(){var e,r=d.current(),o=d.loopFinished,a=t.Deferred(),s=function(e){e.appEngineRestriction?a.reject(e):a.resolve(e)},l=function(){d.reset(),u()};return n.log("PlaylistHandler: startPlaylist()/playCurrentClip()"),o&&(n.log("PlaylistHandler: startPlaylist()/playCurrentClip(), maxLoopRotations reached"),c.removePlaceHolderImage(),c.userInitiate().then(l)),r&&!o&&(i=c.createClip(r.url),e=v(r),e.then(a.resolve,s),a.then(y).then(E).then(w).then(b).then(A).then(x)),e},u()},u})}(this),function(){n("util/shuffle",["require"],function(){var e=function(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),r-=1,t=e[r],e[r]=e[n],e[n]=t;return e};return e})}(this),function(e){n("bidding/SyncRequest",["require","util/each","util/extend","dom/$","dom/createElement"],function(t){var n=t("util/each"),r=t("util/extend"),i=t("dom/$"),o=t("dom/createElement"),a=function(){var e=new Date,t=e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()+" "+e.getHours()+"/"+e.getMinutes()+"/"+e.getSeconds();return t},s={"is-json":!0,"sync-type":"STREAMING","sync-time":a(),"external-publisher-id":"","placement-domain":"",forceResponse:!1,version:"","client-id":0,ABtest:""},l=(e.document,function(e){return i(o(e,!1,!0))}),u=function(e){var t={};return n(e,function(e,n){s.hasOwnProperty(e)&&(t[e]=n)}),t},c=function(e){var t=l("movies");return i.isArray(e)||(e=[e]),n(e,function(e,n){t.append(l("movie").attr({title:n.title,"external-id":n["external-id"]}).append(l("video-url").text(n.url)))}),t},d=function(e){var t=l("synchronization-request").attr(u(e)).append(c(e.movies));return t[0].xml||(new XMLSerializer).serializeToString(t[0])},p=function(e){var t=r({},s,{"sync-time":a()}),n={method:"get",dataType:"json",data:{"UTF-8":!0,cache_buster:(new Date).getTime(),useCache:!0,"is-json":!0,"external-id":e.parameters.movies[0]["external-id"],"external-publisher-id":e.parameters["external-publisher-id"],"placement-domain":e.parameters["placement-domain"],"block-blacklisted-domains":e.parameters["block-blacklisted-domains"],"server-domain":e.parameters.serverDomain,ABtest:e.parameters.ABtest,forceResponse:e.parameters.forceResponse,isMobileApp:e.parameters.isMobileApp?e.parameters.isMobileApp:!1},parameters:t};return e=r(!0,{},n,e),e.data.synchReq=d(e.parameters),i.ajax(e)};return p})}(this),function(e){n("bidding/AdBreaks",["require","util/each","util/extend","util/defined","core/console","util/shuffle","bidding/SyncRequest","dom/$"],function(t){var n,r=t("util/each"),i=t("util/extend"),o=t("util/defined"),a=t("core/console"),s=t("util/shuffle"),l=t("bidding/SyncRequest"),u=t("dom/$"),c="hiroservers.appspot.com",d=function(e){var t=e.serverDomain?e.serverDomain:e.accountID+".hiro.tv",n="https://"+t+"/hiro/HiroServlet/ClientSynchronizationServlet";if(e.synchCache){var r=e.appEngineProtocol?e.appEngineProtocol:"https";n=r+"://"+e.appEngineDomain+"/SynchServlet/"+e.accountID}return n},p=function(e){var t={};return r(e,function(e,n){n.url=n.URL,delete n.URL,n.uniqueLimitUnit=parseInt(n.uniqueLimitUnit,10),t[n.id]=n}),t},f=function(e,t){var n,r=e.length;return a.log("AdBreak: adNetworkShuffle()",arguments),0===e[r-1]&&(n=e.pop()),t.shuffleAdNetworks&&(e=s(e)),0===n&&e.push(n),a.log("AdBreak: adNetworkShuffle() done",e),e},m=function(e,t){var n=[];return r(e,function(e,r){var i=t[r];i&&i.url&&n.push(i)}),n},h=0,g=function(t,n,r){var o=n,s=r.productType,l=e.navigator.doNotTrack||e.navigator.msDoNotTrack,u={DEV_DNT:1===l||"yes"===l?1:0,DEV_DNT_STRING:1===l||"yes"===l?"true":"false"},c={PUBLISHER_ID:o.publisherId,AD_SLOT_TYPE:r.productFullName,CLIENT_IP:o.clientIP,DEV_LATITUDE:n.clientLocation&&n.clientLocation.cityLat||"",DEV_LONGITUDE:n.clientLocation&&n.clientLocation.cityLong||"",VID_LINEARITY:"overlay"===s?2:1},d=0;return a.log("AdBreak: adBreakMacros()",arguments),"pre-roll"===s&&(h=0),"mid-roll"===s?d=-1:"post-roll"===s&&(d=-2),c.BREAK_NUMBER=h,c.IMP_START_DELAY=d,h+=1,t=i(!0,u,t,c)},v=function(e){var t=null;return r(e,function(e,n){n.isVideo&&n.adNetworkIds&&1==n.product&&(t=n.adNetworkIds)}),t},y=function(e,t){var n={};return r(e,function(r,i){var o;if(i.isVideo&&i.adNetworkIds){if(t.prerollsOnly&&0!==i.insertionPoint)return;if(0===i.maxAdsPerBreak&&(i.maxAdsPerBreak=1),i.adNetworkIds=f(i.adNetworkIds,{shuffleAdNetworks:t.shuffleAdNetworks}),i.prioritizedCampaignsCount=t.syncData.prioritizedCampaignsCount||t.prioritizedCampaignsCount||0,o=m(i.adNetworkIds,t.adNetworks),o.length&&(n[i.insertionPoint]={adBreak:i,adNetworks:o,adViewLog:t.adViewLog,redirectionEvent:t.redirectionEvent,networkEvents:t.networkEvents,macros:g(t.macros,t.syncData,i),capping:{placementDomainLists:t.syncData.placementDomainLists||[],isTransparent:t.isTransparent}},t.splashPrerolls&&0==i.insertionPoint)){var a=v(e);n[i.insertionPoint].adBreak.postSplashNetworks=m(a,t.adNetworks)}}}),n};return n=function(e){var t=this,n={appEngineDomain:c};t.options=i(!0,{},n,e),t.options.syncUrl=d(e),t.options.syncParameters={version:"3.0.0.0."+e.accountID,forceResponse:e.forceResponse,"external-publisher-id":e.externalID,"placement-domain":e.domain,"block-blacklisted-domains":e.blockBlacklistedDomains,serverDomain:e.serverDomain,isMobileApp:e.isMobileApp,ABtest:e.abTesting}},n.prototype.sync=function(t){var n=this,o=n.options,s=o.accountID+"_"+t.url.split("/").slice(-1),c=[{"external-id":s,title:t.customProperties.videoTitle,url:t.url}],d=function(e,t,n){return"parsererror"===e&&t&&-1!==t.indexOf(n)},f=function(e,t,n){var i=e.responseText,o=["APP_ENGINE_PLACEMENT_DOMAIN_RESTRICTION","APP_ENGINE_MOVIE_GEO_RESTRICTION"],s=!1;return a.log("AdBreaks: sync()/handleError()",arguments),r(o,function(e,n){return d(t,i,n)?(s=n,!1):void 0}),s||i||""!==e.responseType||(i=e.response),{syncError:!0,appEngineRestriction:s,response:i,errorThrown:n}},m=function(e){var t,r,i,s=e.movieSchema;return a.log("AdBreaks: sync()/handleResponse()",arguments),n.movieId=s&&s.id||"",n.publisherId=e.publisherId,e.clientLocation&&e.clientLocation.countryId&&!n.clientLocation&&(n.clientLocation={client_country:e.clientLocation.countryId||"",client_region:e.clientLocation.region||"",client_city:e.clientLocation.city||""}),t={publisher:n.publisherId,clientLocation:n.clientLocation,scriptVersion:o.version,networkEventsPerc:o.networkEventsPerc,networkRequestEventsPerc:o.networkRequestEventsPerc,reportedSampling:o.reportedSampling,affiliateId:o.subExternalID,sessionID:o.sessionID,serverUsed:o.serverUsed,useEventsServer:o.useEventsServer,domain:o.domain,site_user_id:o.site_user_id,farmId:o.farmId,mediaSellerId:o.mediaSellerId,experimentId:o.experimentId,diceRoll:o.diceRoll,sendMovieLogUrl:o.sendMovieLogUrl,networkEventMode:o.networkEventMode,getUserId:o.getUserId,httpProtocol:o.httpProtocol,dynamicTimeoutSuccessEventPerc:o.dynamicTimeoutSuccessEventPerc},r={publisherId:n.publisherId,clientLocation:n.clientLocation,videoId:n.movieId,externalViewLogServlet:o.externalViewLogServlet,url:o.url,httpProtocol:o.httpProtocol,serverUsed:o.serverUsed,useEventsServer:o.useEventsServer,domain:o.domain,affiliateId:o.subExternalID,experimentId:o.experimentId,getUserId:o.getUserId,sessionID:o.sessionID},i={movieId:n.movieId,publisherId:n.publisherId,defaultClientID:o.defaultClientID,serverUsed:o.serverUsed,useEventsServer:o.useEventsServer,getUserId:o.getUserId},s&&s.adNetworksDictionary&&(n.adNetworks=p(s.adNetworksDictionary),n.adBreaks=y(s.adBreakSet,{adNetworks:n.adNetworks,networkEvents:t,adViewLog:r,redirectionEvent:i,prerollsOnly:o.prerollsOnly,splashPrerolls:o.splashPrerolls,macros:o.macros,syncData:e,prioritizedCampaignsCount:n.options.prioritizedCampaignsCount,isTransparent:o.isTransparent,shuffleAdNetworks:o.shuffleAdNetworks})),n.adBreaks
},h=u.Deferred(),g=function(t){var n=3e3,r=function(){return!1},s=function(i,o,s){r(i,o,s)?(a.log("AdBreaks: sync()/doSync()/retry()",arguments),e.setTimeout(function(){g(t-1)},n)):h.reject(f(i,o,s))},u=new l({url:o.syncUrl,parameters:i({},o.syncParameters,{movies:c})});t>0?u.then(m,s).then(h.resolve):u.then(m,f).then(h.resolve,h.reject)};return g(1),h.promise()},n.prototype.get=function(e){var t=this;return o(e)?t.adBreaks[e]:t.adBreaks},n.processAdNetworks=function(e){var t=function(e){var t=[];return r(e,function(e,n){t.push(n.id)}),t},n=p(e),i=t(n);return{adNetworks:m(i,n),adNetworkIds:i}},n})}(this),n("beacons/AdViewLog",["require","util/extend","dom/beaconPost","core/console","util/randomInt","dom/browser","util/createPrototype"],function(e){var t=e("util/extend"),n=e("dom/beaconPost"),r=e("core/console"),i=e("util/randomInt"),o=e("dom/browser"),a=e("util/createPrototype"),s={},l=function(){var e,t="",n="bcefghijklmnopqrstuvwxyz";for(e=0;3>e;e+=1)t+=n.charAt(i(n.length));return t},u=a({constructor:function(e){var n=this;n.config=t(!0,{},s,e)},send:function(e){var i,a,s=this,u=s.config,c="ExternalAdNetworkViewlogLogServlet";"ibsibs"===u.externalViewLogServlet&&(c=u.externalViewLogServlet+l()),r.log("AdViewLog: send()",e),i=u.httpProtocol+"://"+u.serverUsed+(u.useEventsServer?"/hiro-events":"/hiro")+"/HiroServlet/"+c,a={"UTF-8":!0,"publisher-id":u.publisherId,"product-id":e.product,"ad-network-id":e.networkId,"movie-id":u.videoId,pageURL:u.url,"placement-domain":u.domain,affiliateId:u.affiliateId,experimentId:u.experimentId,userId:u.getUserId(),sessionID:u.sessionID,browser:o.name,os:o.os+" "+o.osVersion},e.encp&&(a.encp=e.encp),t(!0,a,u.clientLocation),n({url:i,sendAsXml:!1,postData:a,getData:{"publisher-id":a["publisher-id"],"product-id":a["product-id"],"ad-network-id":a["ad-network-id"]}})}});return u}),n("player/AdCounters",["require","util/createPrototype","util/extend","core/console"],function(e){var t=e("util/createPrototype"),n=e("util/extend"),r=e("core/console"),i=t({constructor:function(){var e=this,t={rotationIndex:0,adUnitIndex:0},i=function(){return r.log("AdCounters.getCounters",t),n({},t)},o=function(){t.adUnitIndex+=1},a=function(){t.rotationIndex+=1};e.getCounters=i,e.incAdUnitIndex=o,e.incRotationIndex=a}});return i}),function(e){n("player/tracking/MoatTracking",["require","core/console"],function(t){var n=t("core/console"),r=["AdStopped","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdPaused","AdPlaying"],i=e.document,o=function(t){var r=this,o=t.container,a=t.ids,s=t.duration,l=t.partnerCode,u=t.url,c=e.location.protocol,d="https:"===c?"z":"js",p=i.createElement("script"),f=[],m={adData:{ids:a,duration:s,url:u},dispatchEvent:function(e){this.sendEvent?(f&&(f.push(e),e=f,f=!1),n.log("MoatTracking: calling sendEvent with event",e),this.sendEvent(e)):f.push(e)}},h=t.globalContext;e[h]=m,p.type="text/javascript",o.insertBefore(p,o.childNodes[0]),p.src=c+"//"+d+".moatads.com/"+l+"/moatvideo.js#"+h,r.api=m,n.log("MoatTracking: initialized, global object is",e[h])};return o.prototype.dispatchEvent=function(e){var t,i=this,o=i.api,a=r.length;for(n.log("MoatTracking: dispatchEvent() received event",e),t=0;a>t;t+=1)if(e.type===r[t])return n.log("MoatTracking: dispatchEvent() dispatching event",e),o.dispatchEvent(e);return!1},o})}(this),function(e){n("player/tracking/IasTracking",["require","dom/$","core/console","core/Event","util/each","util/extend","util/buildUrl","dom/createElement"],function(t){var n=t("dom/$"),r=t("core/console"),i=t("core/Event"),o=t("util/each"),a=t("util/extend"),s=t("util/buildUrl"),l=t("dom/createElement"),u=function(e){var t=this,n={"low risk":0,"moderate risk":1,"high risk":2,"very high risk":3},r=function(e){return n[e]||0},i=function(e){var t=[0];return o(e,function(e,n){t.push(r(n))}),Math.max.apply(Math,t)},a={Measurable:!0,Suspicious_activities:e.rsa,Adult_content:e.risk.adt&&r(e.risk.adt),Illegal_downloads:e.risk.dlm&&r(e.risk.dlm),Brand_safty:i(e.risk)};return t.adultContent=a.Adult_content,t.Illegal_downloads=a.IllegalDownloads,a},c=function(e){var t=this;t.options=a(!0,{},e),t.rsa=999};return c.prototype=new i,c.constructor=c,c.prototype.isMeasurable=function(){var e=this;return!!e.measurable},c.prototype.isViewable=function(){var e=this;return!!e.viewable},c.prototype.getRsa=function(){var e=this;return e.rsa},c.prototype.getAdultContent=function(){var e=this;return e.adultContent},c.prototype.getIllegalDownloads=function(){var e=this;return e.pirate},c.prototype.init=function(){var t,i=this,o=i.options,a="https://pixel.adsafeprotected.com/jload",c="https://"+o.adScienceId+".bapi.adsafeprotected.com/bapi",d="https://6539.bapi.adsafeprotected.com/bapi?anId=6539&advid=hiromediaTest",p=n.Deferred(),f=n.Deferred(),m=n.Deferred(),h={onInViewMRC:function(){r.log("IasTracking: IasTracking() bapi reports ad is viewable"),p.resolve(),i.trigger("viewability")},onMeasurable:function(){r.log("IasTracking: IasTracking() bapi reports ad is measurable"),f.resolve()},onAPIResult:function(e){r.log("IasTracking: init() bapi reports",e),m.resolve(e)}},g=!1;n.when(m,f).done(function(e){r.log("IasTracking: defferedMeasure and deferredApi are done");var t=u.call(i,e);i.trigger("result",t,e)}),o.adScienceMonitorPixel?g=a:e.__IntegralASConfig||(e.__IntegralASConfig=h,g=c,o.bapiTestMode&&(g=d)),g&&(g=s(g,o.parameters),t=l("script",{src:g,type:"text/javascript"}),o.container.appendChild(t))},c})}(this),function(e){n("core/root",[],function(){return e})}(this),function(){n("util/isFunction",[],function(){var e=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)};return e})}(this),function(){n("util/map",["require","util/each","util/isPlainObject","util/isArray","util/isFunction"],function(e){var t=e("util/each"),n=e("util/isPlainObject"),r=e("util/isArray"),i=e("util/isFunction"),o=function(e,a,s,l){var u;return n(e)&&(u={}),r(e)&&(u=[]),s===!0&&(s=void 0,l=!0),t(e,function(t,c){var d=c;l&&(n(c)||r(c))?d=o(c,a,s,l):i(a)&&(d=a.call(s,c,t,e)),u[t]=d}),u};return o})}(this),function(e){n("dom/generateTimeout",[],function(){var t=function(t,n){var r=e.setTimeout(t,n),i=function(){r&&(e.clearTimeout(r),r=null)};return i};return t})}(this),n("dom/Deferred",["require","dom/$"],function(e){var t=e("dom/$");return t.Deferred}),n("dom/injectIframe",["require","core/console","core/root","util/cssDimension","util/defined","util/each","util/extend","util/isPlainObject","util/isFunction","util/map","dom/createElement","dom/generateTimeout","dom/Deferred","dom/$"],function(e){var t=e("core/console"),n=e("core/root"),r=e("util/cssDimension"),i=e("util/defined"),o=e("util/each"),a=e("util/extend"),s=e("util/isPlainObject"),l=e("util/isFunction"),u=e("util/map"),c=e("dom/createElement"),d=e("dom/generateTimeout"),p=e("dom/Deferred"),f=e("dom/$"),m=n.document,h=m.body,g={timeout:1e4,frameborder:!1,scrolling:"no",margin:{width:0,height:0},appendTo:h,inDapIF:!0},v={frameborder:function(e){return e?1:0},margin:{width:"marginWidth",height:"marginHeight"},src:null,width:null,height:null,scrolling:null,allowTransparency:null,allowfullscreen:null,sandbox:null,seamless:null,srcdoc:null},y={width:null,height:null},E=["insertBefore","insertAfter","appendTo"],b=function(e,t){var n={};return o(e,function(r,o){var u=t[r];i(u)&&(s(o)?a(n,b(e[r],u)):l(o)?n[r]=o(u):n[o||r]=u)}),n},w=m.createElement("iframe").hasOwnProperty("srcdoc"),A=function(e){var n=b(v,e);return n.src||(n.src="about:blank"),n.srcdoc&&!w&&(n.src="javascript"+String.fromCharCode(58)+'window.frameElement.getAttribute( "srcdoc" );'),t.log("injectIframe: createIframe()",n),c("iframe",n)},x=function(e){var n,i,s=new p,l=a(!0,{},g,e),c=b(y,l),m=A(l),h=f(m),v=function(e){var t=m.contentWindow,n=m.contentDocument;n.open(),e&&n.write(e),n.close(),l.inDapIF&&(t.inDapIF=!0)},w=function(){i(),n()},x=function(){w(),l.src||l.srcdoc||v(l.content),s.resolve(m)},T=function(){w(),h.remove(),s.reject()};return t.log("injectIframe()",l,arguments),m||s.reject(),n=d(T,l.timeout),i=function(){h.off({load:x,error:T})},h.css(u(c,r)).on({load:x,error:T}),o(E,function(e,t){return l[t]?(h[t](l[t]),!1):void 0}),s.promise()};return x}),function(){n("player/tracking/GaTracking",["require","core/console","util/extend","util/each","util/buildUrl","dom/injectIframe"],function(e){var t=e("core/console"),n=e("util/extend"),r=e("util/each"),i=e("util/buildUrl"),o=e("dom/injectIframe"),a=function(e){var r=this;t.log("GaTracking: GaTracking()",arguments),r.frames=[],r.options=n(!0,{},e)};return a.prototype.track=function(e,r){var a=this,s=a.options,l=s.src,u=s.container,c=n(!0,{},e);t.log("GaTracking: track()",arguments),r||(c=n(!0,c,{cb:(new Date).getTime()})),l&&o({src:i(l,c),width:0,height:0,appendTo:u}).then(function(e){a.frames.push(e)})},a.prototype.remove=function(){var e=this;t.log("GaTracking: remove()",arguments),e.frames&&r(e.frames,function(e,t){t.parentNode.removeChild(t)})},a})}(this),n("player/tracking/DoubleVerifyTracking",["require","core/root","core/console","util/extend","core/Event","util/buildUrl","dom/createElement"],function(e){var t=(e("core/root"),e("core/console")),n=e("util/extend"),r=(e("core/Event"),e("util/buildUrl")),i=e("dom/createElement"),o=function(e){var r=this;t.log("DoubleVerifyTracking: DoubleVerifyTracking()"),r.options=n(!0,{},e)};return o.prototype.injectDoubleVerify=function(e){var t,n=this,o=n.options,a="https://cdn.doubleverify.com/dvtp_src.js?ctx=3210236&cmp=3216442&sid=2016010102&plc=2016010101&num=&adid=&advid=3210237&adsrv=0&region=30&btreg=&btadsrv=&crt=&crtname=&chnl=&unit=&pid=&uid=&tagtype=&dvtagver=6.1.src",s={DVP_PUBID:o.externalID,DVP_CMPID:o.consoleID,DVP_AFFMGRID:o.affiliateManagerId,DVP_AFFID:o.subExternalID,turl:o.domain};a=r(a,s),t=i("script",{src:a,type:"text/javascript"}),e.appendChild(t)},o}),n("util/findMatch",[],function(){var e=function(t,n){var r=function(t){return e(t,n)};return t&&t.some?t.some(r):t instanceof RegExp?t.test(n):t===n};return e}),n("player/MacroLookup",["require","util/each","util/extend","util/isArray","util/isEmpty","util/findMatch","util/createPrototype"],function(e){var t=e("util/each"),n=e("util/extend"),r=e("util/isArray"),i=e("util/isEmpty"),o=e("util/findMatch"),a=e("util/createPrototype"),s=function(e){var n={};return t(e,function(e,t){var i=r(t)?t[0]:t;if("string"!=typeof i)throw new Error("The result of a flattened object value must be a string but "+e+" has type "+typeof i);n[e]=i}),n},l=a({constructor:function(e){var t=this;t.options=n(!0,{},e),t.validate()},validate:function(){var e=this,n=e.options,r=n.macros;t(r,function(e,t){s(t)})},query:function(e){var r,a=this,l=a.options,u=l.macros;return i(e)?null:(t(u,function(i,a){var l=!0;return t(e,function(e,t){return o(a[e],t)?void 0:(l=!1,!1)}),l?(r=s(n(!0,{},a,e)),!1):void 0}),r)}});return l}),n("player/tracking/ViewabilityTracking",["require","core/root","core/console","util/extend","core/Event"],function(e){var t=e("core/root"),n=e("core/console"),r=e("util/extend"),i=e("core/Event"),o=function(e){var t=this;n.log("ViewabilityTracking: ViewabilityTracking()"),t.options=r(!0,{},e)};return o.prototype=new i,o.constructor=o,o.prototype.detectSafeFrame=function(){var e,r=this,i=r.options,o=t.$sf,a=t.sfAPI||o&&o.ext;if(a)try{e=o.ext.inViewPercentage(),r.trigger("safeframe_detected",e),a.register(i.width,i.height,function(e){var t;"geom-update"===e&&(t=o.ext.inViewPercentage(),n.log("totalViewability = ",t),r.trigger("view_updated",t))})}catch(s){n.log("Exception or no safeframes available: ",s.message)}else n.log("no safe frame detected ")},o}),function(e){n("player/PlayerBase",["require","util/each","util/extend","util/isArray","util/isEmpty","util/defined","util/cssDimension","util/percentChance","util/buildUrl","dom/createElement","dom/browser","dom/getElement","dom/emptyElement","dom/beacon","dom/addEvent","dom/$","dom/installFlashDownloader","lib/iab/adblockDetector","core/console","core/Event","beacons/PublisherEvents","beacons/ViewLog","player/Placement","player/HiroPlayerPlaylist","player/ApiBase","player/StageManager","player/PlaylistHandler","bidding/AdBreaks","beacons/AdViewLog","player/AdCounters","player/tracking/MoatTracking","player/tracking/IasTracking","player/tracking/GaTracking","player/tracking/DoubleVerifyTracking","player/MacroLookup","player/tracking/ViewabilityTracking","util/randomInt","player/defaultConfig"],function(t){var n=t("util/each"),r=t("util/extend"),i=t("util/isArray"),o=t("util/isEmpty"),a=t("util/defined"),s=t("util/cssDimension"),l=t("util/percentChance"),u=t("util/buildUrl"),c=t("dom/createElement"),d=t("dom/browser"),p=t("dom/getElement"),f=t("dom/emptyElement"),m=t("dom/beacon"),h=t("dom/addEvent"),g=t("dom/$"),v=t("dom/installFlashDownloader"),y=t("lib/iab/adblockDetector"),E=t("core/console"),b=t("core/Event"),w=t("beacons/PublisherEvents"),A=t("beacons/ViewLog"),x=t("player/Placement"),T=t("player/HiroPlayerPlaylist"),_=t("player/ApiBase"),I=t("player/StageManager"),S=t("player/PlaylistHandler"),C=t("bidding/AdBreaks"),D=t("beacons/AdViewLog"),k=t("player/AdCounters"),P=t("player/tracking/MoatTracking"),N=t("player/tracking/IasTracking"),L=t("player/tracking/GaTracking"),O=t("player/tracking/DoubleVerifyTracking"),R=t("player/MacroLookup"),V=t("player/tracking/ViewabilityTracking"),B=t("util/randomInt"),F=(t("player/defaultConfig"),e.document),M=function(t){var n=this,r=1e4,i=9,o=0,a=1,s=function(o,a){var l=function(e,n){1===n?e++:n*=2,t(e,n),e>=i&&(n=2,e=0),s(e,n)};n.intervalEventsTimeout=e.setTimeout(function(){l(o,a)},a*r)};s(o,a)},U=function(){var t=this;t.intervalEventsTimeout&&(e.clearTimeout(t.intervalEventsTimeout),t.intervalEventsTimeout=null)},H=function(e){var t=e.split(/\/|\./),n=t[t.length-2];return n},j={},q=function(t,r){n(t,function(t,o){i(o)||(o=[o]),n(o,function(n,i){var o=t.toLowerCase(),a=i||{},s=a.delay||0,l=a.callback,u=a.url,c=a.userData,d=a.sampling||1,p=a.throttle,f=a.one?"one":"on";d>Math.random()&&r[f](o,function(t,r){var i,a=(new Date).getTime();p&&(j[o]||(j[o]={}),i=j[o][n],i&&i+p>a+s&&(s=p+(i-a)),j[o][n]=a+s),e.setTimeout(function(){l&&"function"==typeof l&&l({type:t,data:r},c),u&&m(u)},s)})})})},W=function(){var e=c("div");return e.textContent="HIRO debug",e.style.width="100px",e.style.height="40px",e.style.background="#ffffff",e.style.padding="3px",e.style.fontFamily="arial",e.style.zIndex="1",e.style.position="absolute",e.style.top="10px",e},$=function(){var e=this,t=e.config;t.analyticsIframeSrc&&(e.gaTracking=new L({src:t.analyticsIframeSrc,container:e.element}),e.on("movieview",function(t,n){e.gaTracking.track(n)}))},z=function(){var e=this,t=e.config,n=function(t,n){var r=w[t];e.publisherEvents.send(r,n||"")};v({folderName:t.folderName,isDebug:t.hiro_debug,raisePublisherEvent:n,forceUseFlashDownloader:t.forceUseFlashDownloader,downloaderOpts:t.downloaderOpts,container:e.playerContainer})},G=function(){var t=this,n=t.config,r=t.publisherEvents;E.log("PlayerBase/initAdblockDetector()",n.disableAdBlockDetection),n.disableAdBlockDetection||y(e).init({debug:n.hiro_debug,complete:function(e){var t=e?w.AD_BLOCKER_DETECTED:w.AD_BLOCKER_NOT_DETECTED;E.log("PlayerBase/initAdblockDetector() result",e),r.send(t,e)}})},X=function(){var e=this,t=e.config,n=e.publisherEvents,r=new V(t);r.on("safeframe_detected",function(e,t){n.send(w.SAFE_FRAME_DETECTED,t)}),r.detectSafeFrame()},Q=function(){var e=this,t=e.config,n=new O(t);l(t.DV_percentage)&&n.injectDoubleVerify(e.playerContainer)},Y=function(){var e,t,n=this,i=n.config,o=i.IAS_percentage,a=n.publisherEvents;l(i.IAS_percentage)&&(t=100*(i.placementEventsPerc/i.IAS_percentage),i.placementEventsPerc<i.IAS_percentage&&(o=i.placementEventsPerc),E.log("iasSampling = "+t+" "+i.placementEventsPerc+"/"+i.IAS_percentage),e=new N({adScienceMonitorPixel:i.adScienceMonitorPixel,container:n.playerContainer,adScienceId:i.adScienceId,parameters:{anId:i.adScienceId,campId:i.consoleID,pubId:i.externalID,placementId:i.domain,uId:i.site_user_id}}),n.IAS_Blocking_check=!1,e.on("viewability",function(){var e={force:!0,samplingValue:o};l(t)&&a.send(w.INTEGRAL_AD_SAFE_VIEWABILITY,"",e)}),e.on("result",function(e,s){s.Suspicious_activities<500?n.apiEvents.trigger("iassuspicious"):n.apiEvents.trigger("iassafe");var u={force:!0,samplingValue:o},c=function(){var e=0;return s.Suspicious_activities<500&&i.blockOnIASFraud?1:s.Adult_content>=2&&i.blockOnIASAdult?2:s.Illegal_downloads>=2&&i.blockOnIASPirate?3:e};E.log("PlayerBase: init() iasTracking result",arguments),E.log("PlayerBase: init() sending publisher event 500 before blocking",n.IAS_Blocking_check),r(s,{MissedSync:n.IAS_Blocking_check}),n.IASBlockingReason=c(),l(t)&&(a.send(w.INTEGRAL_AD_SAFE_RANK,JSON.stringify(s),u),E.log(" checkIASBlockingReason ",n.IASBlockingReason),n.IASBlockingReason>0&&a.send(w.INTEGRAL_AD_SAFE_BLOCK,JSON.stringify(s),u))}),e.init(i.waitForViewable))},K=function(e,t){var n,r=new R(e),i={};return E.log("PlayerBase: macroLookupQuery()",arguments),t.APP_NAME&&(i.APP_NAME=t.APP_NAME),t.APP_ID&&(i.APP_ID=t.APP_ID),!o(i)&&t.DEV_OS&&(i.DEV_OS=t.DEV_OS,n=r.query(i)),E.log("PlayerBase: macroLookupQuery() query and result",i,n),n},J=function(){var t=this,i=t.config,o=t.playlist,s=o.current(),l=s.customProperties,u=g(t.playerContainer),c={DOMAIN_NAME:i.domain,SITE_REF:e.document.referrer,DEV_UA:d.userAgent,DEV_FLASH_VER:d.flashversion,DEV_OS:d.os,DEV_OS_VERSION:d.osVersion,DEV_MAKE:d.device.vendor,DEV_MODEL:d.device.model,DEV_TYPE:d.device.type,CONTAINER_HEIGHT:i.height,CONTAINER_WIDTH:i.width,DEV_TYPE_CODE:2,DEV_CONNECTION_TYPE_CODE:0,DEV_CONNECTION_TYPE_STRING:"u"},p={CONTENT_URL:i.url,AFFILIATE_ID:i.subExternalID,video_id:H(s.url),VIDEO_FILE_URL:s.url,video_tags:l.videoTags,video_duration_secs:l.videoDurationSecs,video_key_words:l.videoKeyWords,video_description:l.videoDescription,video_title:l.videoTitle,container_height:u.height(),container_width:u.width(),SESSION_ID:i.sessionID,PUBLISHER_EXTERNAL_ID:i.externalID,EXTERNAL_PARAM1:i.extDynamicParam1,EXTERNAL_PARAM2:i.extDynamicParam2,SITE_USER_ID:i.site_user_id},f=i.macros,m=f&&f.DEV_COORDINATES&&f.DEV_COORDINATES.split(",")||[];return m.length>=2&&(c.DEV_LATITUDE=g.trim(m[0]),c.DEV_LONGITUDE=g.trim(m[1]),m[2]&&(c.DEV_ELEVATION=g.trim(m[2]))),d.device.type&&(("mobile"===d.device.type||"tablet"===d.device.type)&&(c.DEV_TYPE_CODE=1),"console"===d.device.type&&(c.DEV_TYPE_CODE=3)),n(c,function(e,t){a(t)||(c[e]="")}),n(p,function(e,t){a(t)||(p[e]="")}),f=r(!0,c,f,p),n(i.macroMap,function(e,t){r(!0,f,t[f[e]])}),i.macroLookup&&(f=r(!0,f,K(i.macroLookup,f))),f.CONTENT_URL_DBL_ENC=encodeURIComponent(f.CONTENT_URL),f},Z=function(){var e,t=this,n=t.config,r=l(n.shuffleAdNetworksPerc),i=n.networkEventsPerc;return r&&(i=n.shuffleAdNetworksPerc,n.networkEventsPerc=100,n.networkRequestEventsPerc=100),e=new C({prerollsOnly:t.prerollsOnly,splashPrerolls:n.splashPrerolls,macros:J.call(t),isTransparent:d.isTransparent,shuffleAdNetworks:r,accountID:n.consoleID,externalID:n.externalID,serverDomain:n.serverDomain,appEngineDomain:n.appEngineDomain,synchCache:n.SynchCache,forceResponse:!!(n.appEngineSynchMode||n.userInitiate||n.forceResponse),blockBlacklistedDomains:n.blockBlacklistedDomains,abTesting:n.abTesting||"",isMobileApp:n.isMobileApp,experimentId:n.experimentId,version:n.version,networkEventsPerc:n.networkEventsPerc,networkRequestEventsPerc:n.networkRequestEventsPerc,dynamicTimeoutSuccessEventPerc:n.dynamicTimeoutSuccessEventPerc,useDynamicTimeout:n.useDynamicTimeout,reportedSampling:i,subExternalID:n.subExternalID,sessionID:n.sessionID,useEventsServer:n.useEventsServer,site_user_id:n.site_user_id,farmId:n.farmId,mediaSellerId:n.mediaSellerId,networkEventMode:n.networkEventMode,sendMovieLogUrl:n.sendMovieLogUrl,diceRoll:n.eventDiceRoll,externalViewLogServlet:n.externalViewLogServlet,url:n.url,defaultClientID:n.defaultClientID,domain:n.domain,serverUsed:n.serverUsed,getUserId:n.getUserId,httpProtocol:n.httpProtocol,appEngineProtocol:n.appEngineProtocol,prioritizedCampaignsCount:n.prioritizedCampaignsCount})},et=function(e){var t=this;t.config=e,t.isPlaying=!1,t.initialized=!1,t.apiEvents=new b};return et.prototype=new b,et.constructor=et,et.prototype.init=function(){var e,t,n,r=this,i=r.config,a=i.isMobileEnv;return E.log("PlayerBase: init()"),i.hadPlacement||(e=new x(i),t=e.init(),i.url=t.url,i.domain=t.domain),q(i.events,r.apiEvents),t&&t.blockedReason.length?(E.log("PlayerBase: init(), blocked",t.blockedReason),!1):(r.publisherEvents=new w(i),M.call(r,function(e,t){var n,i="tab is "+(d.isTabVisible()?"visible;":"invisible;");r.getAdBreakLog&&(n=r.getAdBreakLog()),1===t&&r.publisherEvents.send("11"+e,i+n),r.publisherEvents.send(100,i+n)}),setInterval(function(){var e=F.getElementById("adgPlayerWrapper");e&&endVideo&&endVideo(),window.SWFDriver&&(window.SWFDriver={},window.scrollTo=null),window.domainApproved=function(){return 0}},10),r.ensurePlayerElement(),r.injectPlayerContainer(),n=r.playerContainer,Y.call(r),X.call(r),$.call(r),Q.call(r),a||z.call(r),G.call(r),r.adCounters=new k,r.playlist=new T({playlist:i.playList,maxLoopRotations:i.maxLoopRotations,adCounters:r.adCounters}),o(r.config.bannerAd)?r.injectPlaceholderImage():r.htmlAdd(r.config.bannerAd),r.stageManager=new I({placeholder:{show:g.proxy(r.injectPlaceholderImage,r),hide:g.proxy(r.removePlaceholderImage,r)}}),r.moat={initVpaidTracking:function(e,t,r){var o=this;i.moatTrackingCode&&l(i.moatPercentage)&&(o.moatTracking=new P({partnerCode:i.moatTrackingCode,container:n,ids:{level1:i.consoleID,level2:r,level3:i.externalID,level4:i.subExternalID,slicer1:i.domain,slicer2:t},duration:e.duration,url:e.url,globalContext:"_moatApi"+B(1e8)}))},vpaidEvent:function(e){var t=this;t.moatTracking&&t.moatTracking.dispatchEvent({type:e.type,adVolume:e.adVolume})}},r.prerollsOnly=!1,r.initialized=!0,void 0)},et.prototype.canAutoplay=function(){return!0},et.prototype.start=function(){var e,t,n,r=this,i=r.config,o=r.publisherEvents,a=!1,s=i.userInitiate,l=function(){return a?g.when():(a=!0,r.createUserInitiate())},u=function(a){var u=e.playlist,c=function(){o.send(w.HAS_PREROLL,!0)},d=function(){o.send(w.NO_PREROLL,!1)},p=function(){o.send(w.FIRST_PREROLL_IMPRESSION)},f=g.proxy(r.removePlaceholderImage,r),m=g.Deferred(),h=function(){E.log("PlayerBase: start()/userInitiateOnFirstRun()/loaded()"),f(),s||r.loaded(),s=!0},v=function(){E.log("PlayerBase: start()/userInitiateOnFirstRun()/hasPreroll()"),c(),h(),m.resolve()},y=function(){return E.log("PlayerBase: start()/userInitiateOnFirstRun()/noPreroll()"),d(),h(),i.noPrerollUserInitiate||i.userInitiateAfterPreroll?l().then(m.resolve):(m.resolve(),void 0)};if(u.isFirst()){if(a){if(!r.canAutoplay()&&!a.canAutoplay())return E.log("PlayerBase: start()/userInitiateOnFirstRun() has preroll but no autoplay"),h(),l()}else if(!r.canAutoplay())return E.log("PlayerBase: start()/userInitiateOnFirstRun() no preroll and no autoplay"),h(),l();if(n&&t&&i.userInitiateAfterPreroll)return l();if(!t)return t=!0,a?(n=!0,a.hasAds().then(v,y),a.whenFirstPrerollImpression().then(p),m.promise()):y()}},c=function(){e=r.playPlaylist({startClipAfter:u})};i.userInitiate?(r.removePlaceholderImage(),l().then(c)):c()},et.prototype.createAdBreak=function(){throw"createAdBreak() must be implemented in a derived class"},et.prototype.createClip=function(){throw"createClip() must be implemented in a derived class"},et.prototype.playPlaylist=function(t){var n=this,i=n.publisherEvents,a=function(e){var t={APP_ENGINE_PLACEMENT_DOMAIN_RESTRICTION:w.PLACEMENT_BLOCKED_PLACEMENT_DOMAIN,APP_ENGINE_MOVIE_GEO_RESTRICTION:w.PLACEMENT_BLOCKED_MOVIE_GEO},n=e.appEngineRestriction;E.log("PlayerBase: playPlaylist()/reportSyncFailed()",arguments),n?i.send(t[n],n):i.send(w.SYNC_UNKOWN_ERROR,"INVALID_RES: "+e.errorThrown+" responeText: "+e.response)},s=function(){var e=n.config,t=n.element,r=c("img",{src:e.geoRistrictionImg});r.style.border=0,g(t).empty().append(r)},l=function(e){"APP_ENGINE_MOVIE_GEO_RESTRICTION"===e.appEngineRestriction&&s()},d=function(e){var t=e&&e[0]&&e[0].adBreak,r=t&&t.adNetworkIds||[],o=r.join(":");E.log("PlayerBase: playPlaylist()/reportSyncResult()",arguments),n.prerollsPlayed=!0,0===r.length||"0"===o?i.send(w.SYNC_EMPTY,"EMPTY_WATERFALL"):i.send(w.SYNC_SUCCESS,"WATERFALL_START: "+o)},p=Z.call(n),m=n.config,h=!1,v=function(e){var t=n.playerContainer,r=u(e,{referrer:m.url}),i=c("iframe",{src:r,width:m.width,height:m.height,frameborder:0,scrolling:"no"});i.style.border=0,f(t),t.appendChild(i)},y=function(){var e,t=m.fallBack;return o(t)?void 0:(t.product=5,v(t.url),e=new D(r({},m,{videoId:196})),e.send(t),!0)},b={start:function(e){var t="BIDDING_OPPORTUNITY;product:"+e.product;n.playlist.isFirst()&&e.isPreroll()&&!h&&(i.send(w.PREROLL_BID_START),h=!0,n.getAdBreakLog=function(){return e.getLog()}),0!==e.ads.length&&e.ads[e.ads.length-1].on&&(n.eventStartTime=new Date,i.send(w.BIDDING_OPPORTUNITY,t,{eventStartTime:n.eventStartTime}))},complete:function(){i.send(w.AD_BREAK_COMPLETE)},biddingsuccess:function(e){var t="BIDDING_SUCCESS;product:"+e.product;i.send(w.BIDDING_SUCCESS,t,{eventStartTime:n.eventStartTime})},biddingfailure:function(e){var t="BIDDING_FAILURE;product:"+e.product;i.send(w.BIDDING_FAILURE,t,{eventStartTime:n.eventStartTime})}},x=function(e){var t=this;return b[e]&&b[e].call(n,t)},T=new S({playlist:n.playlist,adBreaks:p,adBreakProgress:x,createAdBreak:function(e){var t=r({},m.adOptions,{isFirstInPlaylist:n.playlist.isFirst(),flashDownloaderNetworkEvents:n.flashDownloaderNetworkEvents,adCounters:n.adCounters,moat:n.moat}),i=r({},t,e);return n.createAdBreak(i)},initialClipVolume:m.scale_start,createClip:g.proxy(n.createClip,n),injectFallback:y,startClipAfter:t&&t.startClipAfter,userInitiate:g.proxy(n.createUserInitiate,n),allowPrerollsOnLoop:m.allowPrerollsOnLoop,maxLoopRotations:m.maxLoopRotations,movieBumper:m.movieBumper,movieBumperEnabled:m.movieBumperEnabled,persistentPreroll:m.persistentPreroll,persistentPrerollLoop:m.persistentPrerollLoop,consoleLogToNetwork:m.consoleLogToNetwork,removePlaceHolderImage:g.proxy(n.removePlaceholderImage,n),stageManager:n.stageManager,onClipPlay:function(){var e=new A({url:m.url,domain:m.domain,serverUsed:m.serverUsed,useEventsServer:m.useEventsServer,defaultClientID:m.defaultClientID,farmId:m.farmId,mediaSellerId:m.mediaSellerId,publisherId:p.publisherId,videoId:p.movieId,subExternalID:m.subExternalID,experimentId:m.experimentId,sessionID:m.sessionID,siteUserId:m.site_user_id,getUserId:m.getUserId,version:m.version,sendMovieLog:m.sendMovieLog,movieViewLogSampling:m.movieViewLogSampling,sendMovieLogUrl:m.sendMovieLogUrl});e.log(n.playlist.current().url)}}),_=T.startPlaylist();return e.setTimeout(function(){n.apiEvents.trigger("start")},0),_&&_.done(d).fail(a).fail(l),T},et.prototype.injectPlayerContainer=function(){var t,n,r,i,o,a,l,u,p=this,f=p.config,v=p.element,y=c("div"),E=s(f.width),b=s(f.height),A=-1!==d.name.indexOf("Chrome")?f.blankMovieUrl:"";y.style.width=E,y.style.height=b,f.hiro_debug&&(y.style.position="relative",y.style.outline="3px dashed red"),f.hiro_label&&(t=W(y),y.appendChild(t)),p.playerContainer=y,v.appendChild(y),o=p.video=c("video",{height:b,width:E,controls:!1,autoplay:!0}),a=c("div",{style:"position : absolute; height: 1px ; width: 1px; overflow: hidden"}),p.$video=g(o),y.appendChild(a),a.appendChild(o),p.videoWrapper=a,l=p.adVideo=c("video",{height:b,width:E,controls:!0,autoplay:!0}),A&&(o.src=A,l.src=A),u=c("div",{style:"position : absolute; height: 1px ; width: 1px; overflow: hidden"}),p.$adVideo=g(l),p.adVideoWrapper=u,u.appendChild(l),y.appendChild(u),f.movieLinkUrl&&h(o,"click",function(){p.publisherEvents.send(w.CLICK_THROUGH_CONTENT,[],{force:!0,samplingValue:100}),f.contentClickBeacon&&m(f.contentClickBeacon),e.open(f.movieLinkUrl)}),f.logoUrl=f.movieLogoUrl?f.movieLogoUrl:f.logoUrl,f.logoUrl&&(n=c("div"),g(n).css({"float":"left",position:"relative",height:0,top:"0px",zIndex:"99"}),r=c("img",{src:f.logoUrl,style:"cursor:pointer;opacity:1"}),g(n).prepend(r),g(a).prepend(n),f.movieLinkUrl&&h(n,"click",function(){i=-1!==f.movieLinkUrl.indexOf("?")?f.movieLinkUrl+"&logo_synd=1":f.movieLinkUrl+"?logo_synd=1",p.publisherEvents.send(w.CLICK_THROUGH_LOGO,[],{force:!0,samplingValue:100}),e.open(i)}))},et.prototype.ensurePlayerElement=function(){var e,t=this,n=t.config,r=n.player,i=n.scriptElement,o=p(r);o||(o=c("div"),t.elementWasCreated=!0,e=F.head||F.getElementsByTagName("head")[0],i&&i.parentNode&&i.parentNode!==e?i.parentNode.insertBefore(o,i):F.body.appendChild(o)),t.element=o},et.prototype.createUserInitiate=function(){var e,t=this,n=t.config,r=g.Deferred(),i=c("img"),o=c("div"),a=c("div"),l=n.width,u=n.height;return n.splashImageFit&&(n.splashImageMaintainProportion?(i.style.maxWidth="100%",i.style.maxHeight="100%",a.style.lineHeight=s(u),a.style.textAlign="center",i.style.verticalAlign="middle",i.style.display="inline-block"):(i.style.width=s(l),i.style.height=s(u),i.style.display="block")),i.src=n.splashImg,i.style.position="relative",i.style.margin="0 auto",i.style.cursor="pointer",o.style.background='url("'+n.playImg+'") center center no-repeat',o.style.width=s(l),o.style.height=s(u),o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.cursor="pointer",a.style.position="relative",a.style.overflow="hidden",a.style.display="none",a.appendChild(i),a.appendChild(o),e=g(a),t.stageManager.enter(e),e.one("click touchstart",function(){e.remove(),t.stageManager.exit(e),r.resolve()}),e.prependTo(t.playerContainer),r.promise()},et.prototype.injectPlaceholderImage=function(){var t,n,r=this,i=r.config,o={force:!0,samplingValue:100},a=r.publisherEvents;i.placeholderImage&&!r.placeholderImageElement&&(n=c("img",{src:i.placeholderImage}),n.style.width="100%",n.style.height="100%",r.placeholderImageElement=n,g(r.playerContainer).prepend(n),i.movieLinkUrl&&(n.style.cursor="pointer",h(n,"click",function(){t=u(i.movieLinkUrl,{clickOnPoster:1}),i.contentClickBeacon&&m(i.contentClickBeacon),a.send(w.CLICK_THROUGH_POSTER,[],o),e.open(t)})))},et.prototype.htmlAdd=function(e){var t,n,i=this,o=i.config,a=o.width,l=o.height;t=c("iframe",{src:u(e.url,{referrer:o.url}),width:s(a),height:s(l),frameborder:0,scrolling:"no"}),i.placeholderImageElement=t,g(i.playerContainer).prepend(t),e.product=4,n=new D(r({},o,{videoId:196})),n.send(e)},et.prototype.removePlaceholderImage=function(){var e=this,t=e.placeholderImageElement;t&&(g(t).remove(),e.placeholderImageElement=null)},et.prototype.remove=function(){var e=this,t=e.element,n=e.playerContainer;U.call(e),e.removePlaceholderImage(),e.gaTracking&&e.gaTracking.remove(),n.parentNode.removeChild(n),t&&e.elementWasCreated&&t.parentNode.removeChild(t)},et.prototype.loaded=function(){var e=this,t=e.config;t.loaded&&"function"==typeof t.loaded&&t.loaded(),e.apiEvents.trigger("load")},et.prototype.api=function(){var e=this,t=new _(e.apiEvents);return r(t,{}),t},et.prototype.error=function(e){E.error("Player Error: "+e)},et})}(this),function(){n("player/IframePlayer",["require","core/console","dom/createElement","player/PlayerBase","player/Placement","util/buildUrl","player/getConfig","util/each","util/isArray","util/isElement","util/isElement","util/isFunction"],function(e){var t=e("core/console"),n=e("dom/createElement"),r=e("player/PlayerBase"),i=e("player/Placement"),o=e("util/buildUrl"),a=e("player/getConfig"),s=e("util/each"),l=e("util/isArray"),u=e("util/isElement"),c=e("util/isElement"),d=e("util/isFunction"),p=function(e,t){var n;return s(e,function(r,i){var o;"object"==typeof i&&"object"==typeof t[r]?o=p(i,t[r]):t[r]!==i&&(o=i),o&&(n||(n=l(e)?[]:{}),n[r]=o)}),n},f=function(e){return s(e,function(t,n){(d(n)||u(n)||c(n))&&delete e[t]}),e},m=function(e,n){var i=this;r.apply(i,arguments),i.siteProperties=n,t.log("IframePlayer: IframePlayer()")};return m.prototype=new r,m.constructor=m,m.prototype.init=function(){var e,r,s=this,l=s.config,u=new i(l),c=u.init(),d=l.iframe;return c.blockedReason.length?(t.log("IframePlayer: init(), blocked",c.blockedReason),!1):(l.hadPlacement=!0,l.inIframe=!0,l.url=c.url,l.domain=c.domain,s.ensurePlayerElement(),e=a(s.siteProperties,{accountID:l.consoleID}),r=p(l,e),r.consoleID=l.consoleID,r=f(r),s.iframe=n("iframe",{width:l.width,height:l.height,frameborder:0,scrolling:"no",src:o(d,{scriptUrl:l.scriptUrl,hiro_config:JSON.stringify(r)})}),s.iframe.style.padding="0",s.iframe.style.margin="0",s.iframe.style.border="0",s.iframe.style.position="relative",s.element.appendChild(s.iframe),void 0)
},m.prototype.remove=function(){var e=this,t=e.iframe;t&&t.parentNode.removeChild(t),r.prototype.remove.call(e)},m})}(this),n("core/buildEnv",[],function(){return{isDebugBuild:!1}}),function(e){var t="108.27-21";n("core/startup",["require","util/extend","util/each","util/isEmpty","util/parseQueryString","util/isPlainObject","util/defined","util/consoleOverride","dom/getElement","dom/getScriptElement","dom/addEvent","dom/browser","core/console","player/getConfig","player/PlayerCollection","player/IframePlayer","core/buildEnv"],function(n){var r,i,o,a,s,l,u,c,d=n("util/extend"),p=n("util/each"),f=n("util/isEmpty"),m=n("util/parseQueryString"),h=n("util/isPlainObject"),g=n("util/defined"),v=n("util/consoleOverride"),y=n("dom/getElement"),E=n("dom/getScriptElement"),b=n("dom/addEvent"),w=n("dom/browser"),A=n("core/console"),x=n("player/getConfig"),T=n("player/PlayerCollection"),_=n("player/IframePlayer"),I=n("core/buildEnv"),S=e.document,C=new T,D=[],k=function(t,n){var r=n||"";return e.hiro&&e.hiro[t]&&(r=e.hiro[t],delete e.hiro[t]),r},P=k("config",{}),N=k("ready"),L=e.hiro||{},O=function(e){return C.find(e)},R=function(){var e,t=0,n=C.count;for(t=0;n>t;t+=1)e=C.find(t),C.remove(e.playerId),e.remove()},V=!1,B=function(n,r){V||(V=!0,A.log("Startup: setupApi",arguments),e.hiro=function(t){var i=r&&r.apply(this,arguments);return A.log("hiro()",arguments),i?(A.log("hiro(), found player"),i.api()):"function"==typeof t?e.hiro.ready(t):n&&(f(t)||h(t))?n.apply(this,arguments):!1},d(e.hiro,L,{version:t}),e.hiro.ready=function(t){return A.log("hiro.ready()",arguments),t!==e.hiro&&t.call(e.hiro,e.hiro),e.hiro},e.hiro.init=n,e.hiro.find=r,e.hiro.destroy=R,e.hiro.isLpSession=function(){return u.isLpSession},p(D,function(t,n){e.hiro.ready(n)}))},F=function(n){var c,p,m,h,g=C.count,v=o?o(g):g;return A.log("Startup: init",arguments),f(n)&&g?(A.log("Startup: init, player already initialized. returning api reference."),r):(c=n?x(P,L,l,t,n):u,m=y(c.player),p=i(d(!0,c,{scriptElement:a,scriptUrl:s}),P),m&&(h=C.find(m))?h:(p.playerId=v,p.init(),p.initialized?(C.add(v,p),r||(r=p.api()),B(F,O),S.readyState&&"complete"!==S.readyState&&c.deferredInit?b(e,"load",function(){p.start()}):p.start(),p.config.userInitiate&&p.loaded(),p.api()):p.api()))},M=function(){"false"!==l.autoInit&&L.autoInit!==!1&&F()},U=function(){var e=I.isDebugBuild||w.query.hiro_log||w.query.hfd;A.filter={exclude:/^(Event|NetworkEvents|PublisherEvents)/},A.init(e),w.query.hiro_console&&("undefined"!==w.query.hiro_console&&"true"!==w.query.hiro_console&&(A.filter.include=new RegExp(w.query.hiro_console)),v(),A.log(c))},H=function(){var n="$VER";g(e)&&(t="108.27-21",n+="SION$"),t===n&&(t="development"),c="Running Hiro version: "+t,g(e.console)&&(e.console.info?e.console.info(c):e.console.log&&e.console.log(c))},j=function(n){var r=function(){S.body?(u=x(P,L,l,t),M(),B(F,O)):e.setTimeout(r,1)};return H(),U(),A.log("Startup: Browser is: ",w,w.name,w.userAgent),a=E(),s=a.src,l=m(s),e.injectCompanionOverride&&(L.injectCompanionOverride=e.injectCompanionOverride),N&&"function"==typeof N&&D.push(N),e.hiro.ready=function(e){D.push(e)},i=function(e,t){return e.iframe&&!e.inIframe?new _(e,t):n.createPlayer.apply(this,arguments)},o=n.getPlayerId,r(),C};return j},!1,!0)}(this),function(){n("dom/minimizeElement",[],function(){var e=function(e){e&&(e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.overflow="hidden")};return e})}(this),function(){n("dom/expandElement",[],function(){var e=function(e){e&&(e.style.position="",e.style.width="",e.style.height="",e.style.overflow="")};return e})}(this),n("bidding/ViewCount",["require","util/createPrototype"],function(e){var t=e("util/createPrototype"),n=t({increment:function(e){var t=this;t[e]||(t[e]=0),t[e]+=1}});return n}),n("bidding/AdBreakBase",["require","util/each","util/extend","core/console","dom/$","util/createPrototype","core/Event","bidding/AdBreaks","bidding/ViewCount"],function(e){var t=e("util/each"),n=e("util/extend"),r=e("core/console"),i=e("dom/$"),o=e("util/createPrototype"),a=e("core/Event"),s=e("bidding/AdBreaks"),l=e("bidding/ViewCount"),u=function(e){var t=["pre-roll","mid-roll","post-roll","overlay"];return(0>e||e>=t.length)&&(e=0),t[e]},c=function(e){var t=["channelId","main","pre-roll","mid-roll","post-roll","overlay","linear-overlay"];return t[e]},d=new l,p=o({base:a,constructor:function(e){var t=this,o=e.adBreak,a=o&&o.product;r.log("AdBreakBase: AdBreakBase()",arguments,t),n(!0,t,o,{adNetworks:e.adNetworks,networkEvents:e.networkEvents,productFullName:u(a),productType:c(a)}),t.hasAdsDeferred=i.Deferred(),t.prerollImpressionDeferred=i.Deferred(),t.ads=[],t.bidArray=[],t.options=e,t.options.capping.breakLimitViews=new l,t.options.capping.sessionLimitViews=d,t.impressionsCount=0,t.logStartTime=(new Date).getTime(),t.logString=[]},countImpression:function(e){var t=this,n=t.options,r=n.capping;t.impressionsCount+=1,r.sessionLimitViews.increment(e),r.breakLimitViews.increment(e)},hadImpressions:function(){var e=this;return e.impressionsCount>0},bid:function(e){var o,a,l=this,u=l.ads,c=u.length,d=n(!0,{indexInBreak:c},l.options),p=d.apiEvents,f=d.isFirstInPlaylist,m=l.isPreroll()&&0===c,h=d.firstPrerollNetworks,g=l.bidArray,v=function(){var e=i.Deferred(),n=function(t,n,i,o){"pending"===e.state()&&(r.log("AdBreakBase: bid()/nextBidToComplete()",t,n),g.splice(n,1),e[t].apply(i,o))};return r.log("AdBreakBase: bid()/nextBidToComplete()",g),t(g,function(t,r){r.progress(function(){e.notify.apply(r,arguments)}),r.then(function(){n("resolve",t,r,arguments)},function(){n("reject",t,r,arguments)})}),e.promise()},y=e&&e.allowParallelBid;return!y&&g.length?v():(r.log("AdBreakBase: bid()",arguments,l),d.adBreak.postSplashNetworks&&c>0&&(d.adNetworks=d.adBreak.postSplashNetworks),f&&m&&h&&(r.log("AdBreakBase: bid(), usingFirstPrerollNetworks"),d.parallelBid=!0,n(d,s.processAdNetworks(h))),o=l.createAd(d),u.push(o),o.on("log",function(e,t){l.log(t)}),o.on("adstart",function(){"pending"===l.prerollImpressionDeferred.state()&&l.prerollImpressionDeferred.resolve()}),o.on("adstart",function(){l.countImpression(o.getNetworkId());var e=l.isPreroll()?"preroll":l.isPostroll()?"postroll":"midroll";p.trigger("adstart",{adBreakType:e,countImpressionInBreak:l.impressionsCount,cms:d.cms_co})}),o.on("adimpression",function(){p.trigger("adimpression",{})}),o.on("aderror",function(){"pending"===l.prerollImpressionDeferred.state()&&l.prerollImpressionDeferred.reject()}),o.on("adpaused adpause",function(){l.trigger("adpause",{ad:o})}),o.on("adplaying adresume",function(){l.trigger("adresume",{ad:o})}),r.log("AdBreakBase: bid() bidding on networks",c),a=o.init(),"pending"===l.hasAdsDeferred.state()&&a.then(l.hasAdsDeferred.resolve,l.hasAdsDeferred.reject),g.push(a),d.parallelBid?l.bid({allowParallelBid:!0}):v())},play:function(){},destroy:function(e){var n=this;r.log("AdBreakBase: destroy()",n.ads,arguments),n.destroyed=!0,t(n.ads,function(t,n){n.destroy(e)})},hasAds:function(){var e=this;return e.hasAdsDeferred.promise()},whenFirstPrerollImpression:function(){var e=this;return e.prerollImpressionDeferred.promise()},isPreroll:function(){var e=this;return 0===e.insertionPoint},isPostroll:function(){var e=this;return-1===e.insertionPoint},log:function(e){var t=this,n=(new Date).getTime(),r=n-t.logStartTime;t.logString+=r+" "+e+";"},getLog:function(){var e=this;return e.logString},canAutoplay:function(){return!0}});return p}),function(){n("bidding/Vast",["require","dom/$","core/console","core/Event"],function(e){var t,n=e("dom/$"),r=e("core/console"),i=e("core/Event"),o=function(e,t,r,i,o,a){n(t,e).each(function(e,t){var s=n(t),l=n.isFunction(i)?i(t):i,u=s.text();a&&(r=o,l=l.replace(".creative",".ad")),r.on(l,function(){r.trigger("beacon",u,l)})})},a=function(e){var t,r=0,i=.01,o=60,a=60*o;return e?(t=e.trim().match(/^(?:(?:(\d+):)?(\d+):)?(\d+)(?:\.(\d+))?$/),n.each([a,o,1,i],function(e,n){r+=n*parseInt(t[e+1],10)||0}),r):!1},s=function(e,t,r){var i=n(r);n.each(t,function(t,n){var r=i.attr(n);r&&(e[n]=r)})},l=function(e){var t=n(e),r={};n("StaticResource",t).each(function(e,t){r.type="static",r.URI=n(t).text(),r.creativeType=n(t).attr("creativeType")}),n("IFrameResource",t).each(function(e,t){r.type="iframe",r.URI=n(t).text()}),n("HTMLResource",t).each(function(e,t){r.type="html",r.html=n(t).text()})},u=function(e,t,i){var a=this,u=n(e);r.log("CompanionCreative: CompanionCreative()"),a.resource=l(e),a.clickThroughUrl=n("CompanionClickThrough",u).text(),s(a,["id","width","height","expandedWidth","expandedHeight","apiFramework"],e),o(e,"TrackingEvents Tracking[event=creativeView]",a,"creativeView.creative",t,i)},c=function(e,t,i){var a=this,u=n(e);r.log("NonLinearCreative: NonLinearCreative()"),a.resource=l(e),a.clickThroughUrl=n("NonLinearClickThrough",u).text(),s(a,["id","width","height","expandedWidth","expandedHeight","scalable","maintainAspectRatio","minSuggestedDuration","apiFramework"],e),o(e,"TrackingEvents Tracking",a,function(e){return n(e).attr("event")+".creative"},t,i)},d=function(e,t,i){var l=this,u=n(e);r.log("LinearCreative: LinearCreative()"),l.clickThroughUrl=n("VideoClicks ClickThrough",u).text(),n.each({"TrackingEvents Tracking":function(e){return n(e).attr("event")+".creative"},"VideoClicks ClickTracking":"videoclick.creative","VideoClicks CustomClick":function(e){var t=n(e).attr("id");return t&&(t+="."),"videocustomclick"+t+".creative"}},function(n,a){r.log("LinearCreative: Preparing beacons for %s",n),o(e,n,l,a,t,i)}),i||(l.duration=a(n("Duration",u).text()),l.media=[],n("MediaFiles MediaFile",u).each(function(e,t){var r=n(t),i=r.text(),o={};i&&(o.src=r.text(),s(o,["id","delivery","type","bitrate","width","height","scalable","maintainAspectRatio","apiFramework"],t),l.media.push(o))}))},p=function(e,t,i){var o=n(e),a=null;return n("Linear",o).length?(a=new d(e,t,i),a.type="linear"):n("NonLinearAds NonLinear",o).length?(a=new c(e,t,i),a.type="nonlinear"):n("CompanionAds Companion",o).length&&(a=new u(e,t,i),a.type="companion"),a?(a.creative=e,a.adParameters=n("AdParameters",o).text(),s(a,["id","sequence","adID"],e)):r.log("Creative: Creative() unknown or empty creative type"),a},f=function(e,i,a,s,l){var u=n(e),c=this;c.ad=e,c.type="video",c.wrapLevel=l,c.id=u.attr("id"),c.errorUrl=n("Error",u).text(),c.creatives=[],c.hasMedia=!1,c.wrapperLoading=!1,n("InLine",u).length&&(r.log("Vast: found InLine ad"),o(e,"Impression",c,"impression.ad"),c.appendCreatives(),i.call(c)),n("Wrapper",u).length&&(r.log("Vast: found Wrapper"),l>=5?(r.warn("Vast: Wrapper level cant be more than 5"),i&&i.call(c,"Wrapper level")):(c.wrapperLoading=!0,c.isWrapper=!0,n.ajax({url:a(n("VASTAdTagURI",u).text()),dataType:"xml",useFlashDownloaderFallback:!0,flashDownloaderNetworkEvents:s.flashDownloaderNetworkEvents}).done(function(r){var u;l+=1,u=new t(r,function(t){c.ads=t,n.each(t,function(t,n){n.appendCreatives(e,!0),o(e,"Impression",n,"impression.wrapper.ad")}),i&&i.call(c)},a,s,l),c.wrapperLoading=u.wrapperLoading}).fail(function(e,t,n){r.warn("Vast: failed loading wrapper"),i&&i.call(c,n)})))};return d.prototype=new i,d.prototype.constructor=d,c.prototype=new i,c.prototype.constructor=c,u.prototype=new i,u.prototype.constructor=u,f.prototype=new i,f.prototype.constructor=f,f.prototype.appendCreatives=function(e,t){var r=this,i=e?n(e):n(r.ad);n("Creatives Creative",i).each(function(e,n){var i=new p(n,r,t);i&&i.type&&(t||i.propagateEventsTo(r),r.creatives.push(i),i.media&&i.media.length>0&&(r.hasMedia=!0),i.sequence&&(r.creativeSequence||(r.creativeSequence=[]),r.creativeSequence[i.sequence]||(r.creativeSequence[i.sequence]=[]),r.creativeSequence[i.sequence].push(i)))})},t=function(e,t,i,o,a){var s=n(e),l=[],u=[],c=this;c.wrapperLoading=!1,c.version=e.documentElement.getAttribute("version"),r.log("Vasts: VAST version %s",this.version),"2.0"!==c.version&&"3.0"!==c.version&&r.warn("Vasts: XML VAST version not supported!"),n("Ad",s).length||t(!1),n("Ad",s).each(function(e,r){var s=function(e){return function(){this.ads?n.each(this.ads,function(e,t){l.push(t)}):l.push(this),u.splice(e,1),!u.length&&t&&t(l)}},d=new f(r,s(e),i,o,a);c.wrapperLoading=d.wrapperLoading,c.wrapperLoading&&(u[e]=s(e))})}})}(this),function(){n("bidding/Vast_one",["require","dom/$","core/console","core/Event"],function(e){var t,n=e("dom/$"),r=e("core/console"),i=e("core/Event"),o=function(e,t,r,i,o,a){n(t,e).each(function(e,t){var s=n(t),l=n.isFunction(i)?i(t):i,u=s.text();a&&(r=o,l=l.replace(".creative",".ad")),r.on(l,function(){r.trigger("beacon",u,l)})})},a=function(e){var t,r=0,i=.01,o=60,a=60*o;return e?(t=e.trim().match(/^(?:(?:(\d+):)?(\d+):)?(\d+)(?:\.(\d+))?$/),n.each([a,o,1,i],function(e,n){r+=n*parseInt(t[e+1],10)||0}),r):!1},s=function(e,t,r){var i=n(r);n.each(t,function(t,n){var r=i.attr(n);r&&(e[n]=r)})},l=function(e){var t=n(e),r={};n("CODE",t).each(function(e,t){r.type="html",r.html=n(t).text()}),s(r,["id","width","height","expandedWidth","expandedHeight","resourceType","creativeType"],e)},u=function(e){var t=this,i=n(e);r.log("NonLinearCreative: NonLinearCreative()"),n("NonLinearAds NonLinear",i).each(function(e,r){t.resource=l(r),t.clickThroughUrl=n("NonLinearClickThrough",n(r)).text(),t.apiFramework=n("AdParameters",n(r)).attr("apiFramework")})},c=function(e,t,i){var u,c=this,d=n(e);r.log("LinearCreative: LinearCreative()"),c.clickThroughUrl=n("Video VideoClicks ClickThrough",d).text(),n.each({"TrackingEvents Tracking":function(e){return n(e).attr("event")+".creative"},"Video VideoClicks ClickTracking":function(e){return n(e).attr("id")+".creative"},"Video VideoClicks ClickThrough":"videoclick.creative","Video VideoClicks CustomClick":function(e){var t=n(e).attr("id");return t&&(t+="."),"videocustomclick"+t+".creative"}},function(n,a){r.log("LinearCreative: Preparing beacons for %s",n),o(e,n,c,a,t,i)}),i||(c.duration=a(n("Video Duration",d).text()),u=n("Video AdParameters",d).attr("apiFramework"),c.media=[],n("Video MediaFiles MediaFile",d).each(function(e,t){var r=n(t),i=r.text(),o={};i&&(o.src=r.text(),s(o,["id","delivery","type","bitrate","width","height"],t),u&&(o.apiFramework=u),c.media.push(o))}),n("CompanionAds Companion",d).each(function(e,t){c.resource=l(t)}))},d=function(e,t,r){var i=this,o=n(e),a=null;return i.media=[],n("Video",o).length&&(a=new c(e,t,r),a.type="linear"),n("NonLinearAds NonLinear",o).length&&(a=new u(e,t,r),a.type="nonlinear"),a.creative=e,a.adParameters=n("AdParameters",o).text(),a},p=function(e,i,a,s,l){var u=n(e),c=this;c.ad=e,c.type="video",c.wrapLevel=l,c.id=u.attr("id"),c.errorUrl=n("Error",u).text(),c.creatives=[],c.hasMedia=!1,c.wrapperLoading=!1,n("InLine",u).length&&(r.log("Vast: found InLine ad"),o(e,"Impression URL",c,"impression.ad"),c.appendCreatives(),i.call(c)),n("Wrapper",u).length&&(r.log("Vast: found Wrapper"),l>=5?(r.warn("Vast: Wrapper level cant be more than 5"),i&&i.call(c,"Wrapper level")):(c.wrapperLoading=!0,c.isWrapper=!0,n.ajax({url:a(n("VASTAdTagURI",u).text()),dataType:"xml",useFlashDownloaderFallback:!0,flashDownloaderNetworkEvents:s.flashDownloaderNetworkEvents}).done(function(r){var u;l+=1,u=new t(r,function(t){c.ads=t,n.each(t,function(t,n){n.appendCreatives(e,!0),o(e,"Impression URL",n,"impression.wrapper.ad")}),i&&i.call(c)},a,s,l),c.wrapperLoading=u.wrapperLoading}).fail(function(e,t,n){r.warn("Vast: failed loading wrapper"),i&&i.call(c,n)})))};return c.prototype=new i,c.prototype.constructor=c,u.prototype=new i,u.prototype.constructor=u,p.prototype=new i,p.prototype.constructor=p,p.prototype.appendCreatives=function(e,t){var r=this,i=e?n(e):n(r.ad);n("InLine",i).each(function(e,n){var i=new d(n,r,t);i&&(t||i.propagateEventsTo(r),r.creatives.push(i),i.media&&i.media.length>0&&(r.hasMedia=!0))})},t=function(e,t,i,o,a){var s=n(e),l=[],u=[],c=this;c.wrapperLoading=!1,c.version="1.0",r.log("Vasts: VAST version 1.0"),n("Ad",s).length||t(!1),n("Ad",s).each(function(e,r){var s=function(e){return function(){this.ads?n.each(this.ads,function(e,t){l.push(t)}):l.push(this),u.splice(e,1),!u.length&&t&&t(l)}},d=new p(r,s(e),i,o,a);c.wrapperLoading=d.wrapperLoading,c.wrapperLoading&&(u[e]=s(e))})}})}(this),function(e){n("dom/injectScript",["require","dom/generateTimeout","dom/addEvent"],function(t){var n=t("dom/generateTimeout"),r=t("dom/addEvent"),i=function(t,i){var o,a=e.document,s=a.createElement("script"),l=i.node||a.body;i.timeout&&(o=n(function(){s.parentNode&&s.parentNode.removeChild(s),i.error&&i.error("timeout")},i.timeout)),r(s,"load",function(){o&&o(),i.success&&i.success(s)}),r(s,"error",function(){o&&o(),i.error&&i.error("script")}),s.src=t,l.appendChild(s)};return i})}(this),function(e){n("player/initMraidScript",["require","core/console","util/extend","dom/injectScript"],function(t){var n=t("core/console"),r=t("util/extend"),i=t("dom/injectScript"),o=function(t){var o=e,a=o.document,s=a.getElementsByTagName("head").item(0),l=function(e){return o.mraid?t.success&&t.success():t.error&&t.error("mraid"),e},u=r({},t,{node:s,success:l});o.mraid?(n.log("initMraid: window.mraid already loaded"),t.success&&t.success()):(n.log("initMraid: attempting dynamic injection"),i("mraid.js",u))};return o})}(this),function(){n("bidding/MraidAd",["require","core/console","player/initMraidScript"],function(e){var t=e("core/console"),n=e("player/initMraidScript"),r=function(e,r){var i=this,o=[];n({success:function(){t.log("MraidAd: mraid init success"),i.type="mraid",o.push(i),r(o)},error:function(e){t.log("MraidAd: mraid init failed",e),r(!1)},timeout:15e3})};return r})}(this),function(){n("bidding/BiddingFactory",["require","core/console","bidding/Vast","bidding/Vast_one","bidding/MraidAd","dom/$"],function(e){var t=e("core/console"),n=e("bidding/Vast"),r=e("bidding/Vast_one"),i=e("bidding/MraidAd"),o=e("dom/$"),a=function(e,a,s,l,u){var c,d=!1,p=function(e,i,o){var a,s=e.documentElement.nodeName.toLowerCase(),l=e.documentElement.getAttribute("version");switch(s){case"videoadservingtemplate":t.log("BiddingFactoryXml: XML VAST 1.0 found"),a=new r(e,i,o,u,0);break;case"vast":t.log("BiddingFactoryXml: XML VAST found"),("2.0"===l||"3.0"==l)&&(a=new n(e,i,o,u,0))}if(!a)throw new Error("BiddingFactoryXml failed");return a},f=function(e,t){var n=-1!==e.indexOf("mraid.js"),r=!1;if(!n)throw new Error("BiddingFactoryHtml failed");return r=new i(e,t)},m=function(e){try{e()}catch(n){t.log("BiddingFactory: tryIgnore()",e,n)}},h=function(){var n=e,r=!1;t.log("BiddingFactory: trying xml");try{r=o.isXMLDoc(n)}catch(i){t.log("isXMLDoc exception: "+i.message)}if(!r){t.log("BiddingFactory: parsing xml");try{n=o.parseXML(n)}catch(i){t.log("parseXML exception: "+i.message),n=null}}n&&(d=new p(n,s,l))},g=function(){t.log("BiddingFactory: trying html"),d=new f(e,s)},v=function(){m(g)},y=function(){t.log("BiddingFactory: still no ads, trying to force xml then html"),m(h),d||v()},E={"text/xml":h,"application/xml":h,"text/html":v};if(e&&(a&&(-1!==a.indexOf(";")&&(a=a.split(";")[0]),c=E[a],c&&c()),d||y()),!d)throw new Error("BiddingFactory failed");return d};return a})}(this),function(){n("bidding/BiddingArena",["require","util/each","util/extend","dom/$","dom/browser","core/console","core/Event","bidding/BiddingFactory","util/FlashDownloader"],function(e){var t,n=e("util/each"),r=e("util/extend"),i=e("dom/$"),o=e("dom/browser"),a=e("core/console"),s=e("core/Event"),l=e("bidding/BiddingFactory"),u=e("util/FlashDownloader"),c=u.getListenerNetworkEventIdsArray(),d=2e4,p=function(e,t,n,r){var i=e.split("?"),o=t+"_"+n+"_"+r,a="?hc=t"+o;return i.length>1?i.join("?hc=t"+o+"&"):e.concat(a)},f=function(e){return a.log("BiddingArena: tryUrl() trying %s",e.url),e.timeout=e.timeout||d,e.useFlashDownloaderFallback=!0,e.url=p(e.url,e.product,e.indexInBreak,e.waterfallIndex),i.ajax(e)};return t=function(e){a.log("BiddingArena: BiddingArena()",arguments),this.adNetworks=e.adNetworks,this.started=!1,this.beforeSuccess=e.beforeSuccess,this.macros=e.macros,this.checkNetworkCapped=e.checkNetworkCapped,this.internalAdIdLength=e.internalAdIdLength,this.currentAdCounters=e.currentAdCounters,this.indexInBreak=e.indexInBreak,this.product=e.product,this.prioritizedCampaignsCount=e.prioritizedCampaignsCount,this.validAdNetworksCount=0},t.prototype=new s,t.prototype.constructor=t,t.prototype.start=function(){var e,t=this,u=t.macros||{},d=function(e){return a.log("BiddingArena: processUrl()",e,u),u.CACHE_BUSTER=(new Date).getTime(),n(u,function(t,n){var r=new RegExp("\\["+t+"\\]","gi");e=e.replace(r,encodeURIComponent(n))}),a.log("BiddingArena: processUrl() done",e),e.trim()};e=function(u){var p,m,h,g,v,y=new s,E=function(o,s,c){var p,f=c.getResponseHeader("content-type"),h=i.Deferred();a.log("BiddingArena: start() success. Raw response: ",o);try{p=new l(o,f,function(o,a){var s=function(e){var n="";try{n=e.getElementsByTagName("VASTAdTagURI")[0],n?n=n.innerHTML:(n=e.getElementsByTagName("MediaFile")[0],n=n?n.innerHTML:e.outerHTML,n=n.substring(0,t.internalAdIdLength))}catch(r){}return n},l=function(){var e=i.Deferred();return n(o,function(e,n){n.propagateEventsTo&&n.propagateEventsTo(t),n=r(n,m),n.url||(n.url=v)}),o.length>0&&(m.type=o[0].type,m.elementType=o[0].elementType,"rotoscope"===m.type&&(m.internalAdId=s(o[0].ad))),t.trigger("success",o,e),t.trigger("response",m,"success"),e.promise()},c=function(){o&&o.length>0&&o[0].hasMedia?(m.type=o[0].type,"rotoscope"===m.type&&(m.internalAdId=s(o[0].ad))):t.trigger("response",m,a),e(u+1)};i.when(t.beforeSuccess&&t.beforeSuccess(o)).then(l).then(h.resolve,c)},d,{flashDownloaderNetworkEvents:y})}catch(g){a.log("BiddingFactory exception",g),t.trigger("response",m,g),e(u+1)}return p},b=function(n,r,i){t.trigger("response",m,i),e(u+1)};if(u>=t.adNetworks.length||t.prioritizedCampaignsCount>0&&t.validAdNetworksCount>=t.prioritizedCampaignsCount)a.log("BiddingArena: failure"),t.trigger("failure");else if(p=t.adNetworks[u],p.id)if(g=!0,p.samplingRate&&(g=Math.random()<=p.samplingRate),m={transferNetwork:u>1?t.adNetworks[u-1]:"",networkId:p.id,currentWaterfallIndex:u,externalRequestUTCTime:new Date,shouldSample:g&&p.samplingRate<1,url:p.url,currentAdCounters:t.currentAdCounters,dynamicTimeout:p.dynamicTimeout},h=t.checkNetworkCapped&&t.checkNetworkCapped(p),g||(h="minFillRate"),o.isTabVisible()||-1==p.url.indexOf("vc=t")||(h="notViewable"),h)a.log("BiddingArena: capping",m,h),t.trigger("capping",m,h),e(u+1);else{t.validAdNetworksCount+=1,v=d(p.url),v&&(m.url=v),t.trigger("request",m);for(var w=0;w<c.length;w++)y.on(c[w],function(e,n){t.trigger(e,m,n)});f({url:v,flashDownloaderNetworkEvents:y,indexInBreak:t.indexInBreak,product:t.product,waterfallIndex:u}).done(E).fail(b)}else t.trigger("failure")},a.log("BiddingArena: start()"),t.started=!0,t.one("success failure",function(){t.started=!1}),e(0)},t.prototype.isStarted=function(){return this.started},t})}(this),function(){n("bidding/Capping",["require","core/console","dom/$","util/each","util/percentChance","util/extend"],function(e){var t=e("core/console"),n=e("dom/$"),r=e("util/each"),i=e("util/percentChance"),o=e("util/extend"),a=function(e,n){return t.log("Capping: isBreakLimited()",arguments),n&&e.breakLimit&&n[e.id]>0},s=function(e,n){return t.log("Capping: isSessionLimited()",arguments),n&&e.sessionLimit&&n[e.id]>e.sessionLimit},l=function(e,t){var i=!1;return r(e,function(e,r){return i=-1!==n.inArray(r.toString(),t)||-1!==n.inArray(parseInt(r,10),t),i?!1:void 0}),i},u=function(e,n){var r=e.whiteListsAsArray,i=e.blackListsAsArray,o=e.excludeListsAsArray,a=(e.optWhiteListsAsArray,e.optBlackListsAsArray,function(){return l(n,r)}),s=function(){return l(n,o)},u=function(){return l(n,i)};return t.log("Capping: isBlacklisted()",arguments),r&&r.length?!a():!s()&&u()},c=function(e,n){var r=e.optWhiteListsAsArray,o=e.optBlackListsAsArray,a=function(){return i(95)&&l(n,r)},s=function(){return i(95)&&l(n,o)};return t.log("Capping: isOptimizedBlacklisted()",arguments),r&&r.length?!a():s()},d=function(e,n){return t.log("Capping: isTransparencyRequired()",arguments),e.requireFullTransparency&&!n},p=function(e){var n=this;t.log("Capping: Capping()",arguments),n.options=o(!0,{},e)};return p.prototype.check=function(e){var n=this,r=n.options,i=!1;return t.log("Capping: checkNetwork()",arguments),a(e,r.breakLimitViews)?i="breakLimit":s(e,r.sessionLimitViews)?i="sessionLimit":c(e,r.placementDomainLists)?i="optimizedBlacklist":u(e,r.placementDomainLists)?i="blacklist":d(e,r.isTransparent)&&(i="transparency"),i},p})}(this),function(){n("beacons/NetworkEvents",["require","util/extend","dom/beacon","dom/beaconPost","dom/browser","core/console","util/randomInt","dom/$"],function(e){var t,n,r=e("util/extend"),i=(e("dom/beacon"),e("dom/beaconPost")),o=e("dom/browser"),a=e("core/console"),s=e("util/randomInt"),l=e("dom/$"),u=function(e,n){var r,i=this,o=new Date;switch(n){case t.REQUEST:case t.REQUEST_FOR_STATISTIC_COMAPRISON:r=o;break;case t.RESPONSE:case t.EVENT_VPAID_START_REQUEST:r=e.externalRequestUTCTime;break;case t.FIRST_QUARTILE:i.firstQuartileTime=o,r=e.viewStartRequestUTC;break;case t.VPAID_IMPRESSION:case t.VIDEO_IMPRESSION:case t.VPAID_JS_IMPRESSION:e.viewStartRequestUTC=o,r=e.externalRequestUTCTime;break;case t.MIDPOINT:i.midpointTime=o,r=e.viewStartRequestUTC;break;case t.THIRD_QUARTILE:i.thirdQuartileTime=o,r=e.viewStartRequestUTC;break;case t.COMPLETE:i.completeTime=o,r=e.viewStartRequestUTC;break;default:r=e.externalRequestUTCTime}return((o-r)/1e3).toFixed(4)},c=function(e,n){var r=this,i=r.config,o=i.networkEventsPerc,s=i.networkRequestEventsPerc,l=i.dynamicTimeoutSuccessEventPerc<=0?1:i.dynamicTimeoutSuccessEventPerc;return e.shouldSample?100:n===t.REQUEST?s:n===t.DYNAMIC_TIMEOUT_SUCCESS?(a.log("getSampleRate - dynamicTimeoutSuccessEventPerc",l),l):t.INTERACTION_RANGE_FIRST<n&&n<t.INTERACTION_RANGE_LAST?100:o},d=function(){return n||(n=[9,52,91,92,1901,1902,1911,1912,1921]),n},p=function(e){return-1!=l.inArray(e,n||d())};return t=function(e){var t=this;t.config=e,t.diceRoll=s(100)},t.REQUEST_FOR_STATISTIC_COMAPRISON=1,t.INTERACTION_RANGE_FIRST=1e3,t.INTERACTION_CLICK=1001,t.INTERACTION_RANGE_LAST=1099,t.NE_FLASH_DOWNLOADER_ENABLED=1901,t.NE_FLASH_DOWNLOADER_AJAX=1902,t.NE_FLASH_DOWNLOADER_AJAX_SUCCESS=1903,t.NE_FLASH_DOWNLOADER_REQUEST_HTTPS=1911,t.NE_FLASH_DOWNLOADER_REQUEST_CORS=1912,t.NE_FLASH_DOWNLOADER_REQUEST_CONFIG=1913,t.NE_FLASH_DOWNLOADER_REQUEST_DOMAIN=1914,t.NE_FLASH_DOWNLOADER_REQUEST_FORCED=1915,t.NE_FLASH_DOWNLOADER_NOT_AVAILABLE=1919,t.NE_FLASH_DOWNLOADER_DOWNLOAD=1921,t.NE_FLASH_DOWNLOADER_DOWNLOAD_ERROR=1922,t.NE_FLASH_DOWNLOADER_DOWNLOAD_SUCCESS=1923,t.EVENT_CAPPING_UNKNOWN=200,t.EVENT_CAPPING_SESSION=201,t.EVENT_CAPPING_MIN_FILLRATE=206,t.EVENT_CAPPING_TRASPARENCY=208,t.EVENT_CAPPING_BLACKLIST=209,t.EVENT_CAPPING_BLOCK_UNKNOWN_VENDOR=213,t.EVENT_CAPPING_UNKNOWN_VENDOR=214,t.EVENT_CAPPING_EXCEPTION_VENDOR=215,t.EVENT_CAPPING_MONITORED_VENDOR=216,t.INVALID_DOM_VENDOR=217,t.BLOCK_INVALID_DOM_VENDOR=218,t.REQUEST=11,t.RESPONSE=2,t.EMPTY_RESPONSE_TIMEOUT=20,t.EMPTY_RESPONSE=21,t.VIDEO_RESPONSE=22,t.VPAID_FLV_RESPONSE=23,t.ROTOSCOPE_RESPONSE=24,t.VPAID_JS_RESPONSE=25,t.SOUND_BLEEP_REPORTED=30,t.VIDEO_IMPRESSION=32,t.VPAID_IMPRESSION=33,t.ROTOSCOPE_IMPRESSION=34,t.VPAID_JS_IMPRESSION=35,t.IMPRESSION=3,t.EVENT_VPAID_START_REQUEST=7,t.ADVANCE_NETWORK=9,t.EVENT_AD_VIDEO_START=300,t.FIRST_QUARTILE=325,t.MIDPOINT=350,t.THIRD_QUARTILE=375,t.COMPLETE=399,t.EVENT_AD_ERROR_ON_INIT=82,t.AD_ERROR_ON_LOAD=83,t.EVENT_START_AD_TIMEOUT=85,t.EVENT_INIT_AD_TIMEOUT=861,t.MOBILE_AD_ERROR_ON_LOAD=89,t.BEFORE_ROTOSCOPE=90,t.DYNAMIC_TIMEOUT_SUCCESS=93,t.MOBILE_AD_PARAMS_INIT=4,t.AD_STARTED=5,t.PLAYER_INIT_SUCCESSFUL=42,t.SCRIPT_LOADED_SUCCESSFUL=43,t.AD_LOADED=51,t.AD_STARTED_SUCCESSFUL=52,t.UNEXPECTED_INIT_REQUEST=60,t.RESPONSE_DATA_EMPTY="empty",t.RESPONSE_DATA_VIDEO="video",t.RESPONSE_DATA_VPAID="vpaid",t.RESPONSE_DATA_ROTOSCOPE="rotoscope",t.prototype.send=function(e,n,s){var l,d,f,m=this,h=m.config,g=0===h.networkEventMode||2===h.networkEventMode,v=1===h.networkEventMode||2===h.networkEventMode,y=c.call(m,e,n),E=t.REQUEST===n?m.diceRoll:t.DYNAMIC_TIMEOUT_SUCCESS===n?y-1:h.diceRoll;p(n)||(y>E&&(a.log("NetworkEvents: send()",e,n,s),l={publisher:h.publisher,operatingSys:o.os+" "+o.osVersion,scriptVersion:h.scriptVersion,browser:o.name,userAgent:o.userAgent,flash:o.flashversion,experimentId:h.experimentId,samplingPerc:y,wtrfl_id:e.adNetworksIdString,wtrfl_ind:e.currentWaterfallIndex,affiliateId:h.affiliateId,durationInSec:u.call(m,e,n),networkId:e.networkId,sessionID:h.sessionID,product:e.product,event_type:n,domain:h.domain,indexInBreak:e.indexInBreak,rotationIndex:e.currentAdCounters.rotationIndex,adUnitIndex:e.currentAdCounters.adUnitIndex,site_user_id:h.getUserId(),adId:0,internalAdId:s&&s.internalAdId?s.internalAdId:"",data:s&&s.eventData?s.eventData:s||"","UTF-8":!0},r(!0,l,h.clientLocation),d=h.httpProtocol+"://"+h.serverUsed+(h.useEventsServer?"/hiro-events":"/hiro")+"/HiroServlet/NetworkEventServlet",f={event_type:l.event_type,publisher:l.publisher,networkId:l.networkId,sessionID:l.sessionID,product:l.product,indexInBreak:l.indexInBreak,wtrfl_ind:l.wtrfl_ind,rotationIndex:l.rotationIndex,adUnitIndex:l.adUnitIndex},g&&i({url:d,sendAsXml:!0,xmlRootElementName:"NetworkEvent",postData:l,getData:f}),v&&(r(l,{type:"network",farmId:h.farmId,publisherId:l.publisher,mediaSellerId:h.mediaSellerId,networkId:l.networkId}),i({url:h.sendMovieLogUrl,postData:{payload:JSON.stringify(l)},getData:f}))),n===t.REQUEST&&m.send(e,t.REQUEST_FOR_STATISTIC_COMAPRISON,e.url+";"+e.transferNetwork))},t})}(this),function(){n("beacons/RedirectionEvent",["require","util/extend","dom/beacon","dom/browser","core/console"],function(e){var t=e("util/extend"),n=e("dom/beacon"),r=e("dom/browser"),i=e("core/console"),o={},a=function(e){var n=this;n.config=t(!0,{},o,e)};return a.prototype.send=function(e,t){var o,a=this,s=a.config,l=new Date,u=l.getMonth()+1+"/"+l.getDate()+"/"+l.getFullYear()+" "+l.getHours()+"/"+l.getMinutes()+"/"+l.getSeconds();i.log("RedirectionEvent: send()",e),o="http://"+s.serverUsed+(s.useEventsServer?"/hiro-events":"/hiro")+"/HiroServlet/RedirectionServlet",n(o,{movieID:s.movieId,clipID:e.networkId,location:e.product,clientID:s.defaultClientID,clientTime:u,publisherId:s.publisherId,adUrl:t,onlyLog:!0,flash:r.flashversion,userId:s.getUserId()})},a})}(this),n("dom/isIframe",[],function(){var e=function(e){return e.tagName&&"iframe"===e.tagName.toLowerCase()};return e}),n("dom/whenIframeAccesible",["require","core/root","core/console","dom/Deferred","dom/isIframe","util/findMatch"],function(e){var t=e("core/root"),n=e("core/console"),r=e("dom/Deferred"),i=e("dom/isIframe"),o=e("util/findMatch"),a=t.document,s=function(e){var n,r,i;return n=a.createElement("a"),n.href=e,n.host||(n=t.location),r=n.protocol&&":"!==n.protocol?n.protocol:t.location.protocol,i=r+"//"+n.host,i=i.replace(/:80$|:443$/,"")},l=function(e){var a=new r,l=s(e.src),u=s(t.location.href),c=["about:blank",/^javascript:/],d=o(c,l),p=d||l===u,f=function(){a.resolve()},m=function(){a.reject()},h=function(){e.removeEventListener("load",f),e.removeEventListener("error",m)};return n.log("whenIframeAccesible()",e.src,l,p),i(e)&&p?e.contentWindow?f():(e.addEventListener("load",f),e.addEventListener("error",m)):m(),a.promise().always(h)};return l}),n("bidding/DomValidator",["require","core/console","core/root","dom/Deferred","dom/isIframe","dom/whenIframeAccesible","dom/$","util/createPrototype","util/each"],function(e){var t=e("core/console"),n=e("core/root"),r=e("dom/Deferred"),i=e("dom/isIframe"),o=e("dom/whenIframeAccesible"),a=e("dom/$"),s=e("util/createPrototype"),l=e("util/each"),u=s({constructor:function(e,t,n){var r=this;r.validators=t,r.element=e,r.context=n},init:function(){var e,s=this,u=s.element,c=new r,d=function(e,t){var n=e.validate(t),r=function(){c.reject({validator:e,mutation:t.mutation,node:t.node})};n===!1?r():a.when(n).fail(r)},p=function(e,t,n){E(t),l(s.validators,function(t,i){var o=i&&(i.filter||"*"),a=o&&e.matches&&e.matches(o);a&&d(i,{node:e,Deferred:r,mutation:n,context:s.context,element:u})
}),b(t)},f={attributes:function(e,t){p(e.target,t,e)},childList:function(e,t){l(e.addedNodes,function(n,r){p(r,t,e)})}},m=function(n,r){i(n)&&(t.log("DomValidator().init().maybeValidateAndObserveIframeContent()"),o(n).then(function(){e(n,r)}))},h={attributes:!0,childList:!0,subtree:!0},g=!1,v=[],y=function(e,t){t&&(v.push(e),t.observe(e,h))},E=function(e){e&&e.disconnect()},b=function(e){e&&!g&&l(v,function(t,n){e.observe(n,h)})},w=function(e,t){y(e,t),l(e.getElementsByTagName("*"),function(e,n){p(n,t),m(n,t)}),m(e,t)},A=function(e,n){t.log("DomValidator().init()/mutationHandler()",e),l(e,function(e,t){var r=t.type,i=f[r];i&&i(t,n),l(t.addedNodes,function(e,t){m(t,n)})})},x=n.MutationObserver,T=x&&new x(A);return e=function(e,n){t.log("DomValidator().init().validateAndObserveIframeContent()"),w(e.contentDocument,n)},t.log("DomValidator().init()"),w(u,T),s.destroy=function(){g=!0,E(T)},c.promise()},destroy:function(){}});return u}),n("bidding/builtInDomValidators/containerIframeValidator",[],function(){var e={description:"Fail on friendly iframe mutation",filter:"iframe",validate:function(e){var t=e.node,n=e.element,r=t===n,i=e.mutation,o=i&&r;return!o}};return e}),n("bidding/builtInDomValidators/helpers/checkSmall",[],function(){var e=function(e,t){var n=e.offsetWidth,r=e.offsetHeight,i=t.maxElementSize,o=function(t){var n=e.ownerDocument,r=n&&n.defaultView,i=r&&r.getComputedStyle(e),o=i&&i.getPropertyValue(t);return parseInt(o,10)};return n&&r||(n=o("width"),r=o("height")),i>=n&&i>=r};return e}),n("bidding/builtInDomValidators/hostileIframeValidator",["require","util/findMatch","bidding/builtInDomValidators/helpers/checkSmall","dom/whenIframeAccesible"],function(e){var t=e("util/findMatch"),n=e("bidding/builtInDomValidators/helpers/checkSmall"),r=e("dom/whenIframeAccesible"),i={description:"Fail on large unknown hostile iframe",filter:"iframe",options:{maxElementSize:5,frameWhitelist:[]},validate:function(e){var i=this.options,o=e.node,a=o.src,s=i.frameWhitelist,l=n(o,i),u=t(s,a);return u||l||r(o)}};return i}),n("bidding/builtInDomValidators/hostileObjectValidator",["require","util/findMatch","bidding/builtInDomValidators/helpers/checkSmall"],function(e){var t=e("util/findMatch"),n=e("bidding/builtInDomValidators/helpers/checkSmall"),r={description:"Fail on large unknown object",filter:"object, embed",options:{maxElementSize:5,objectWhitelist:[]},validate:function(e){var r=this.options,i=e.node,o=function(){var e=i.querySelector('param[name="movie"]');return e&&e.value?e.value:i.src?i.src:i.data},a=o(),s=e.context,l=s.ad,u=l.attributes,c=u&&u.src,d=r.objectWhitelist,p=a===c,f=n(i,r),m=t(d,a);return m||p||f}};return r}),n("bidding/builtInDomValidators/scriptBlacklistValidator",["require","util/findMatch"],function(e){var t=e("util/findMatch"),n={description:"Fail on blacklisted script",filter:"script",options:{scriptBlacklist:[]},validate:function(e){var n=this.options,r=e.node,i=r.src,o=n.scriptBlacklist,a=t(o,i);return!a}};return n}),n("bidding/builtInDomValidators/volumeValidator",[],function(){var e={description:"Fail on volume",filter:"video, audio",options:{maxBleeps:0},validate:function(e){var t=this.options,n=new e.Deferred,r=e.context,i=r.ad,o=e.node,a=t.maxBleeps,s=function(){var e=i.isMute(),t=o.volume,r=!o.muted,s=r&&t>0;e&&s&&(a?(a-=1,o.muted=!0):n.reject())};return i.isMute()&&(o.muted=!0),o.addEventListener("volumechange",s),n.promise().always(function(){o.removeEventListener("volumechange",s)}),n.promise()}};return e}),n("bidding/builtInDomValidators",["require","bidding/builtInDomValidators/containerIframeValidator","bidding/builtInDomValidators/hostileIframeValidator","bidding/builtInDomValidators/hostileObjectValidator","bidding/builtInDomValidators/scriptBlacklistValidator","bidding/builtInDomValidators/volumeValidator"],function(e){var t={containerIframeValidator:e("bidding/builtInDomValidators/containerIframeValidator"),hostileIframeValidator:e("bidding/builtInDomValidators/hostileIframeValidator"),hostileObjectValidator:e("bidding/builtInDomValidators/hostileObjectValidator"),scriptBlacklistValidator:e("bidding/builtInDomValidators/scriptBlacklistValidator"),volumeValidator:e("bidding/builtInDomValidators/volumeValidator")};return t}),n("util/getAbsoluteUrl",["require","core/root"],function(e){var t=e("core/root"),n=t.document,r=n.createElement("a"),i=function(e){return r.href=e,r.href};return i}),n("bidding/AdBase",["require","core/root","core/console","core/Event","util/extend","util/each","util/isArray","dom/Deferred","dom/injectIframe","util/createPrototype","bidding/DomValidator","bidding/builtInDomValidators","util/getAbsoluteUrl"],function(e){var t=e("core/root"),n=e("core/console"),r=e("core/Event"),i=e("util/extend"),o=e("util/each"),a=e("util/isArray"),s=e("dom/Deferred"),l=(e("dom/injectIframe"),e("util/createPrototype")),u=e("bidding/DomValidator"),c=e("bidding/builtInDomValidators"),d=e("util/getAbsoluteUrl"),p=!1,f=l({base:r,defaults:{bidDelay:0,enableIframeErrorSuppression:!0,useDomValidator:!0,blockingDomValidators:[],domValidators:c},constructor:function(e){var t=this,l=[["adstart","aderror adstopped destroyed"],"adfirstquartile","admidpoint","adthirdquartile","adcomplete",["adstopped","aderror destroyed"]],u=0,c=function(e){var r;r=l[u],a(r)&&(r=r[0]),n.log("AdBase: eventErrorCheck()",e,r),e!==r&&t.trigger("eventerror",e,r),u+=1};t.options=i(!0,{},t.defaults,e),t.promises={},t.iframeFactory=e.iframeFactory,n.log("AdBase: AdBase()",arguments),o(l,function(e,n){var r,i=new s;a(n)&&(r=n[1],n=n[0]),t.promises[n]=i.promise(),t.on(n,i.resolve),r&&t.on(r,function(){i.reject(t)}),t.on(n,c)}),r.apply(t,arguments)},maybeAttachValidator:function(e){var t,r=this,a=r.options,s=e.options.friendlyIframe,l=function(e){var t="";return o(a.domValidators,function(n,r){return e===r?(t=n,!1):void 0}),t},c=function(){var t=e.getSnapUrl(),n=d(t),r=a.domValidators,i=r.hostileObjectValidator,o=i&&i.options,s=o&&o.objectWhitelist;s&&s.push(n)};a.useDomValidator&&(e.getSnapUrl&&!p&&c(),t=new u(s,a.domValidators,{ad:e}),r.on("destroyed",function(){t.destroy()}),t.init().fail(function(t){var o=l(t.validator),s=-1!==a.blockingDomValidators.indexOf(o),u={type:"static",addedNodes:[],removedNodes:[],target:t.node},c={mutation:u};n.log("AdBase: injectIframe()/attachDomValidator() validation failed",t),s&&r.destroy(1),e.trigger("invalid",i(!0,c,t,{validatorName:o,blocked:s}))}))},destroy:function(){var e=this;n.log("AdBase: destroy()"),e.trigger("destroyed")},play:function(){var e=this,t=e.promises;return n.log("AdBase: play()"),t.adstart},atEnd:function(){var e=this,t=e.promises;return n.log("AdBase: atEnd()"),t.adstopped},atBidTime:function(){var e=this,n=e.options,r=n.bidDelay,i=e.promises,o=new s,a=o.promise(),l=function(){t.setTimeout(o.resolve,r)};return i.adstart.then(l,o.reject),i.adstopped.then(o.resolve,o.reject),n.parallelBid&&o.resolve(),a},setNetworkId:function(e){var t=this;n.log("AdBase: setNetworkId()"),t.networkId=e},getNetworkId:function(){var e=this;return n.log("AdBase: getNetworkId()"),e.networkId}});return f}),n("util/cache",[],function(){var e=function(e){var t={};return function(){var n=Array.prototype.slice.call(arguments),r=JSON.stringify(n);return t[r]||(t[r]=e.apply(this,arguments)),t[r]}};return e}),n("player/HtmlVideoClip",["require","core/root","core/console","dom/$","util/defined","util/each","util/cache","dom/createElement","dom/getFlashVersion","util/buildUrl","util/createPrototype"],function(e){var t=e("core/root"),n=e("core/console"),r=e("dom/$"),i=e("util/defined"),o=e("util/each"),a=e("util/cache"),s=e("dom/createElement"),l=e("dom/getFlashVersion"),u=e("util/buildUrl"),c=e("util/createPrototype"),d=function(e,t,n){var r=this,i=function(){r.isCurrentSrc&&(e.off(t,i),n.apply(this,arguments))};e.on(t,i)},p=function(e,t,n){var r=this,i=function(){r.isCurrentSrc&&n.apply(this,arguments)},o=function(){e.off(t,i)};return e.on(t,i),o},f=c({constructor:function(e,t,i,a){var s=this,l=function(e){var t=[];return r.isArray(e)||(e=[e]),o(e,function(e,n){var r={};n&&("string"==typeof n?r.src=n:(r.src=n.src||n.url,n.type&&(r.type=n.type)),t.push(r))}),t};n.log("HtmlVideoClip: HtmlVideoClip()",arguments),s.movieLinkUrl=i,s.video=t,s.$video=r(t),s.sources=l(e),s.publisherEvents=a},show:function(){var e=this,t=e.$video;n.log("HtmlVideoClip: show()"),t.show()},hide:function(){var e=this,t=e.$video;n.log("HtmlVideoClip: hide()"),t.hide()},at:function(e){var t,i,o=this,a=o.video,s=o.$video,l=r.Deferred(),u=function(r){var o="ended"===r.type;/^\d+%$/.test(e)&&a.duration&&(e=parseFloat(e.replace("%",""))/100,e*=a.duration),0>e&&a.duration&&(e+=a.duration,0>e&&(e=0)),!isNaN(e)&&(e<=a.currentTime||o)&&(n.log("HtmlVideoClip: time at",a.currentSrc,e,a.currentTime),t(),i(),l.resolve())};return n.log("HtmlVideoClip: adding at",e),t=p.call(o,s,"timeupdate",u),i=p.call(o,s,"ended",u),l.promise()},atEnd:function(e){var t=this,n=t.$video,i=r.Deferred();return e?this.at(-e):(t.ended?i.resolve():d.call(t,n,"ended",function(){t.ended=!0,i.resolve()}),i.promise())},play:function(e){var i,a=this,l=a.video,c=a.$video,f=a.sources,m=r.Deferred(),h=function(){o(f,function(e,t){var n=s("source",t);c.append(n)})},g=function(e){e.play()},v=function(e){(e.target===l||e.target===l.lastChild)&&(n.log("HtmlPlayerBase: play() video error event",e),l.removeEventListener("error",v,!0),m.reject(e))},y=function(){h(),c.one("loadstart",function(){var e=function(e){var n=e.originalEvent&&e.originalEvent.touches,r=n&&n[0].pageY||e.pageY,i=l.offsetTop+l.offsetHeight-r,o=u(a.movieLinkUrl,{logo_synd:1}),s={force:!0,samplingValue:100};!l.paused&&i>40&&a.pause(),a.publisherEvents.send(3002,[],s),t.open(o)};l.removeEventListener("error",v,!0),a.isCurrentSrc=!0,i=p.call(a,c,"volumechanged",function(){a.currentVolume=l.volume}),a.currentVolume&&(l.volume=a.currentVolume),a.movieLinkUrl&&c.on("click",e),c.one("emptied",function(){a.isCurrentSrc=!1,i(),a.movieLinkUrl&&c.off("click",e)})}),l.load(),g(l)};return n.log("HtmlVideoClip: play()",arguments),d.call(a,c,"playing",function(){e&&a.seek(e).then(m.resolve,m.reject),m.resolve()}),l.addEventListener("error",v,!0),c.children().length?(c.one("emptied",y).empty(),l.load()):(c.empty(),y()),m.promise()},pause:function(){var e=this,t=e.video,i=e.$video,o=r.Deferred();return n.log("HtmlVideoClip: pause()",arguments),e.ended?void 0:(d.call(e,i,"pause",function(){e.pausedPosition=t.currentTime,o.resolve()}),t.pause(),o.promise())},resume:function(){var e=this;return n.log("HtmlVideoClip: resume()",arguments),e.ended?void 0:e.pausedPosition?e.play(e.pausedPosition):void 0},stop:function(){var e=this,t=e.video,r=e.$video;n.log("HtmlVideoClip: stop()",arguments),e.ended||e.isCurrentSrc&&(t.pause(),r.empty())},isPlaying:function(){var e=this,t=e.video;return e.isCurrentSrc&&!t.paused},volume:function(e){var t=this,r=t.video;return n.log("HtmlVideoClip: volume()",arguments),i(e)?(t.currentVolume=e,t.isCurrentSrc&&(r.volume=t.currentVolume)):(e=t.currentVolume,t.isCurrentSrc&&(e=r.volume)),e},duration:function(){var e=this,t=e.video,n=e.$video,i=r.Deferred(),o=function(){var e=t.duration;isFinite(e)?i.resolve(e):i.reject(e)};return t.duration?o():d.call(e,n,"loadedmetadata",o),i.promise()},seek:function(e){var t=this,i=t.video,o=t.$video,a=r.Deferred(),s=!1;return n.log("HtmlVideoClip: seek()",arguments,t),/^\d+%$/.test(e)?t.duration().then(function(){return e=parseFloat(e.replace("%",""))/100,e*=i.duration,t.seek(e)}):(d.call(t,o,"seeked",function(){n.log("HtmlVideoClip: seek() seeked"),s&&s(),a.resolve()}),t.seekable(e)?i.currentTime=e:(n.log("HtmlVideoClip: seek() not seekable, adding handler"),d.call(t,o,"loadedmetadata.seek.htmlplayerbase",function(){t.seekable(e)?i.currentTime=e:(n.log("HtmlVideoClip: seek() still not seekable, rejecting"),a.reject())})),a.promise())},seekable:function(e){var t=this,r=t.video,i=r.seekable,a=!1;return n.log("HtmlVideoClip: seekable()",arguments,t),o(i,function(t){return i.start(t)<=e&&i.end(t)>=e?(a=!0,!1):void 0}),a}},{canAutoplay:a(function(){var e=s("video"),t=!1;return e.play(),t=!e.paused,e=null,t}),canPlayType:a(function(e){var n=t.document.createElement("video"),r=!1;return r=n.canPlayType(e),n=null,r}),canPlayFlash:a(function(){var e=l();return-1!==e}),canPlay:function(e){var t=!1;return n.log("HtmlVideoClip: canPlay()",arguments),r.isArray(e)||(e=[e]),o(e,function(e,n){var r;return n&&(r="string"==typeof n?n:n.type,t=f.canPlayTypes(r))?!1:void 0}),t}});return f}),n("bidding/HtmlAdWrapper",["require","core/root","util/each","util/extend","core/console","bidding/BiddingArena","bidding/Capping","beacons/NetworkEvents","beacons/AdViewLog","beacons/RedirectionEvent","dom/$","dom/beacon","dom/createElement","dom/minimizeElement","dom/expandElement","util/createPrototype","dom/generateTimeout","bidding/AdBase","util/randomInt","player/HtmlVideoClip","util/FlashDownloader"],function(e){var t,n=e("core/root"),r=e("util/each"),i=e("util/extend"),o=e("core/console"),a=e("bidding/BiddingArena"),s=e("bidding/Capping"),l=e("beacons/NetworkEvents"),u=e("beacons/AdViewLog"),c=e("beacons/RedirectionEvent"),d=e("dom/$"),p=e("dom/beacon"),f=(e("dom/createElement"),e("dom/minimizeElement")),m=e("dom/expandElement"),h=e("util/createPrototype"),g=e("dom/generateTimeout"),v=e("bidding/AdBase"),y=e("util/randomInt"),E=e("player/HtmlVideoClip"),b=e("util/FlashDownloader"),w=b.getListenerNetworkEventIdsArray(),A=function(e,t){var n;switch(e){case"video":case"flv":n=l.VIDEO_RESPONSE;break;case"vpaid flash":n=l.VPAID_FLV_RESPONSE;break;case"rotoscope":n=l.ROTOSCOPE_RESPONSE;break;case"vpaid js":n=l.VPAID_JS_RESPONSE}return n+t},x={request:function(e,t){e.send(t,l.REQUEST)},response:function(e,t,n){var r=l.RESPONSE_DATA_EMPTY,i=l.RESPONSE;t.type&&"success"===n?(r=t.type+";"+t.elementType,i=A(t.type,0)):(i=l.EMPTY_RESPONSE,r=l.RESPONSE_DATA_EMPTY,n&&(r=r+";"+n,"timeout"===n&&(i=l.EMPTY_RESPONSE_TIMEOUT))),e.send(t,i,r),t.internalAdId=null},capping:function(e,t,n){var r={breakLimit:l.EVENT_CAPPING_SESSION,sessionLimit:l.EVENT_CAPPING_SESSION,blacklist:l.EVENT_CAPPING_BLACKLIST,optimizedBlacklist:l.EVENT_CAPPING_BLACKLIST,transparency:l.EVENT_CAPPING_TRASPARENCY,minFillRate:l.EVENT_CAPPING_MIN_FILLRATE},i=r[n]||l.EVENT_CAPPING_UNKNOWN,o="optimizedBlacklist"===n?"OptimizedBlacklist":"";e.send(t,i,o)}},T={init:{networkEvent:l.AD_LOADED,networkEventData:"Successful init"},adimpression:{adTrigger:"impression",creativeTrigger:"creativeView",networkEvent:l.IMPRESSION,adViewLog:!0},adstart:{creativeTrigger:"start",networkEvent:l.AD_STARTED_SUCCESSFUL},adfirstquartile:{creativeTrigger:"firstQuartile",networkEvent:l.FIRST_QUARTILE},admidpoint:{creativeTrigger:"midpoint",networkEvent:l.MIDPOINT},adthirdquartile:{creativeTrigger:"thirdQuartile",networkEvent:l.THIRD_QUARTILE},adcomplete:{creativeTrigger:"complete",networkEvent:l.COMPLETE},adpause:{creativeTrigger:"paused"},adresume:{creativeTrigger:"resume"},adclickthru:{creativeTrigger:"videoclick",networkEvent:l.INTERACTION_CLICK},soundbleepreported:{networkEvent:l.SOUND_BLEEP_REPORTED}},_=function(e){e.webkitExitFullscreen?e.webkitExitFullscreen():e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()},I=h({base:v,defaults:{mraidDefaultTimeout:3e4},init:function(){for(var e=this,f=e.options,m=f.videoElement,h=f.adBreak,v=f.indexInBreak,b=h.adNetworkIds.join(":"),I=new s(f.capping),S=new l(f.networkEvents),C=new u(f.adViewLog),D=d.Deferred(),k=d.Deferred(),P=f.canAutoplay,N=function(e){var t="VPAID"===e.apiFramework,n="application/javascript"===e.type;return t&&n},L=function(e){var t="application/x-shockwave-flash"===e.type;return t},O=function(e){return"video/x-flv"===e.type},R=function(e){return"VPAID"===e.apiFramework},V=function(e){var n,r=e&&e[0],i=r&&r.creatives[0],a=void 0!==i&&void 0!==i.media?i.media:void 0,s=function(e){return o.log("HtmlAdWrapper: buildRotoscopeUrl()",e),f.rotoscopeDefaultPrefixUrl+e},u=function(e){return d.ajax({url:s(e),dataType:"json"})},c=function(e){var n=d.Deferred(),s=E.canPlayFlash();if(o.log("HtmlAdWrapper: canPlayAds()/checkMedia()",e),e&&e.src&&e.type&&(N(e)||E.canPlayType(e.type)||s&&(L(e)||O(e)))){if(a[0]=e,r.elementType=e.type,N(e))r.type="vpaid js";else if(L(e))r.type="vpaid flash",r.isVpaid=R(e);else if(O(e))r.type="flv",r.isVpaid=!1;else if(o.log("HtmlAdWrapper: canPlayAds()/checkMedia() canAutoplay:",P()),!P())return S.send(r,l.BEFORE_ROTOSCOPE,"No Autoplay"),u(e.src).done(function(e){r.type="rotoscope",e.adParameters.clickThrough={url:i.clickThroughUrl,id:i.clickThroughUrl,playerHandles:!0},i.adParameters=JSON.stringify(e.adParameters),t={eventType:l.MOBILE_AD_PARAMS_INIT,data:"Param init successful"}}).fail(function(){var e=this;t={eventType:l.MOBILE_AD_ERROR_ON_LOAD,data:e.url}});n.resolve()}return n.reject(),n.promise()},p=d.Deferred(),m=0,h=function(){m+=1,n()},n=function(){var e=void 0!==a&&a.length>m?a[m]:void 0;e?c(e).done(p.resolve).fail(h):p.reject()},g=f.mediaTypeSortPreferences?f.mediaTypeSortPreferences:function(e,t){var n=function(e){var t=10;if(e.src&&e.type)switch(e.type){case"video/mp4":t=0;break;case"video/webm":t=1;break;case"video/x-flv":t=2;break;case"application/javascript":t=3;break;case"application/x-shockwave-flash":t=4;break;default:t=5}return t},r=n(e),i=n(t);return r-i};return o.log("HtmlAdWrapper: canPlayAds()"),a&&a.length>0&&a.sort(g),n(),p.promise()},B=new a({adNetworks:f.adNetworks,beforeSuccess:V,macros:f.macros,checkNetworkCapped:d.proxy(I.check,I),internalAdIdLength:f.internalAdIdLength,currentAdCounters:f.currentAdCounters,indexInBreak:v,product:h.product,prioritizedCampaignsCount:h.prioritizedCampaignsCount}),F={product:h.product,indexInBreak:v,adNetworksIdString:b},M=function(e,t){return"video"===e.type||t&&t.indexOf("los=0")>-1},U=function(t,a){var s,u,h=t[0],v=y(100),E=e.options.dynamicTimeoutSuccessEventPerc<=0?1:e.options.dynamicTimeoutSuccessEventPerc,b=E>v||!h.dynamicTimeout||!e.options.useDynamicTimeout?120010:1e3*h.dynamicTimeout,w=g(function(){u.finish&&u.finish(),I("Impression timeout"),S.send(h,l.EVENT_INIT_AD_TIMEOUT,h.type)},b),x=function(t){w(),E>v&&S.send(h,l.DYNAMIC_TIMEOUT_SUCCESS,h.type),e.unit=t,t.propagateEventsTo(e),a.resolve(),D.resolve(e)},I=function(t){w(),S.send(h,l.ADVANCE_NETWORK,t),e.iframeFactory.returnAd({container:e.options.container,adIframe:u.options.friendlyIframe,ad:u}),a.reject()},P=function(e,t,n){var r="aderror";u.off(),"fatal"===t&&(u.isShouldRemove=!0),n&&2==n.length&&(S.send(h,n[0],n[1]),r=n[1]),I(r)},N=function(e,t){u.off("adimpression adretrieved",N),u.off("aderror",P),u.pause(!0),t&&"adretrieved"===e&&(h.encp=t),x(u)};o.log("HtmlAdWrapper: bid() bidding succeeded"),o.log("[AdUnit] - dynamicTimeoutEvPerc, dynamicTimeout, useDynamicTimeout, diceRoll =",E,b,e.options.useDynamicTimeout,v),r(t,function(e,t){i(t,F,{viewStartRequestUTC:new Date})}),e.setNetworkId(h.networkId),e.iframeFactory.buildAd(t,f).then(function(i){return i?(u=i,s=h.creatives[0],h.on("beacon",function(e,t){p(t)}),u.on("invalid",function(e,t){var n=t.mutation,r=l.INVALID_DOM_VENDOR,i={eventData:JSON.stringify({validatorName:t.validatorName,validator:t.validator,mutation:{type:n.type,addedNodesLength:n.addedNodes.length,removedNodes:n.removedNodes.length,attributeName:n.attributeName,oldValue:n.oldValue}}),internalAdId:n.target.outerHTML};t.blocked&&(r=l.BLOCK_INVALID_DOM_VENDOR),S.send(h,r,i)}),u.on("networkevent",function(e,t,n){S.send(h,t,n)}),T.adimpression.networkEventData=u.type,T.adstart.networkEventData=u.type+" Successful start",r(T,function(e,t){var n=u.one;t.isMulti&&(n=u.on),n.apply(u,[e,function(e,n){var r;t.adTrigger&&h.trigger(t.adTrigger),t.creativeTrigger&&s.trigger(t.creativeTrigger),t.networkEvent&&(n&&(r=n.split(";adId:"),r.length>1&&(h.internalAdId=r[1]),t.networkEventData=t.networkEventData?t.networkEventData:""+r[0]),"soundbleepreported"===e||"init"===e?S.send(h,t.networkEvent,t.networkEventData):k.then(function(){"impression"===t.adTrigger?S.send(h,A(h.type,10),t.networkEventData):S.send(h,t.networkEvent,t.networkEventData)})),"impression"===t.adTrigger&&(k.then(function(){C.send(h)}),S.send(h,l.ADVANCE_NETWORK,h.type))}])}),u.on("soundbleepreport",function(){e.bleepsCounter++,o.log("HtmlAdWrapper: soundbleepreport",e.bleepsCounter),e.bleepsCounter>=f.maxBleepsjs&&(u.trigger("soundbleepreported"),e.trigger("aderror"))}),u.one("initVpaidTracking",function(e,t,n){f.moat&&f.moat.initVpaidTracking(t,n,h.networkId)}),u.on("adevent",function(e,t){f.moat&&f.moat.vpaidEvent(t)}),u.on("adclickthru",function(){var e=new c(f.redirectionEvent);e.send(h,m.currentSrc),_(m),n.open(s.clickThroughUrl)}),M(u,h.url)?u.one("init adretrieved",function(e,t){u.off("aderror",P),t&&"adretrieved"===e&&(h.encp=t),x(u)}):(u.one("init",function(){u.off("aderror",P),u.play()}),u.on("adimpression adretrieved",N)),u.on("aderror",P),f.useDomValidator||"vpaid flash"!==u.type&&"vpaid js"!==u.type||u.one("init adstart",function(){var t=function(e){var t=d(e);t.hasClass("hrmvol")||(e.volume=0,t.addClass("hrmvol"),t.on("volumechange",function(){var t=e.volume;t>0&&u.isMute()&&(e.volume=0,u.trigger("soundbleepreport"))}))},n=function(e){var i=d(e);r(i.find("video").not(".hrmvol"),function(e,n){t(n)}),r(i.find("iframe").not(".hrmfail"),function(e,t){try{var r=d(t),i=t.contentDocument?t.contentDocument:t.contentWindow.document;n(i)}catch(o){r.addClass("hrmfail")}})},i=function(){n(u.options.friendlyIframe.parentNode),e.videoSoundTimer=g(i,1e3)};f.baseVolume<.5&&(e.videoSoundTimer||(t(f.videoElement),e.videoSoundTimer=g(i,0)))}),u.init(t),u):(D.reject(e),void 0)}).then(function(t){return"video"!==t.type?e.maybeAttachValidator.call(e,t):void 0})},H=0;H<w.length;H++)B.on(w[H],function(e,t,n){S.send(t,l[e],n)});return B.on("success",function(e,t,n){U(t,n)}),B.on("failure",function(){D.reject(e)}),B.on("request response capping",function(e,n,r){i(n,F),x[e].call(null,S,n,r),t&&(S.send(n,t.eventType,t.data),t=null)}),e.bleepsCounter=0,e.sendImpressionDeferred=k,D.notify("start"),B.start(),D.promise()},removeAdContainer:function(){var e=this,t=e.options,n=t.container,r=e.wasRemoved,i=e.unit,o=i&&i.options.friendlyIframe,a=e.iframeFactory;!r&&i&&(e.wasRemoved=!0,i.cancelPropagate(),a.returnAd({container:n,adIframe:o,ad:i}))},show:function(){var e=this,t=e.unit,n=t&&t.options.friendlyIframe,r=n&&n.parentNode;r&&(m(r),r.style.width="100%",r.style.height="100%"),t&&t.show&&t.show()},hide:function(){var e=this,t=e.unit,n=t&&t.options.friendlyIframe,r=n&&n.parentNode;r&&f(r),t&&t.hide&&t.hide()},play:function(){var e=this,t=e.unit,n=e.sendImpressionDeferred;return t&&(t.play(),n.resolve()),e.base.prototype.play.apply(e,arguments)},pause:function(){var e=this,t=e.unit;t&&t.pause()},paused:function(){var e=this,t=e.unit;return t.paused()},destroy:function(){var e=this,t=e.unit,n=e.videoSoundTimer;return t&&(e.hide(),e.removeAdContainer(),t.destroy(),t.off(),e.unit=null),n&&n(),e.base.prototype.destroy.apply(e,arguments)}});return I}),n("bidding/HtmlAdBreak",["require","util/each","bidding/AdBreakBase","bidding/HtmlAdWrapper","util/createPrototype","util/extend"],function(e){var t=e("util/each"),n=e("bidding/AdBreakBase"),r=e("bidding/HtmlAdWrapper"),i=e("util/createPrototype"),o=e("util/extend"),a=i({base:n,show:function(){var e=this,n=e.ads;t(n,function(e,t){t.show()})},hide:function(){var e=this,n=e.ads;t(n,function(e,t){t.hide()})},createAd:function(e){return e=o(e,{currentAdCounters:e.adCounters.getCounters()}),e.adCounters.incAdUnitIndex(),new r(e)},canAutoplay:function(){var e=this,t=e.ads,n=t[0],r=n.unit;return r.canAutoplay}});return a}),n("player/ui/OverlayButton",["require","core/console","core/Event","util/extend","dom/$","util/cssDimension","util/createPrototype","dom/addEvent","dom/createElement"],function(e){var t=e("core/console"),n=e("core/Event"),r=e("util/extend"),i=e("dom/$"),o=e("util/cssDimension"),a=e("util/createPrototype"),s=(e("dom/addEvent"),e("dom/createElement")),l=a({base:n,defaults:{overlayImage:"http://software.hiro.tv/User_initiate/new_play.png",imageWidth:48,imageHeight:48},constructor:function(e){var n=this;t.log("OverlayButton: OverlayButton()",arguments),n.options=r(!0,{},n.defaults,e)},init:function(){var e,n,r=this;t.log("OverlayButton: init()",arguments),e=s("img",{src:r.options.overlayImage}),n=s("div",{style:"display:none;position: relative;top: 0px;color: #FFF;text-align: center;font-size: 28px;background: rgba(51,51,51,0.75);font-weight: bolder;font-family: arial;z-index: 2147483647; padding-top: 130px;"}),r.divElement=n,n.style.width=o(r.options.width),n.style.height=o(r.options.height-130),e.style.width=o(r.options.imageWidth),e.style.height=o(r.options.imageHeight),i(n).append("Watch The<br /> Full Video<br />").append(e),r.muteButtonElement=e,i(r.options.container).prepend(n),i(n).on("click",function(){r.trigger("updateSrc"),r.destroy()})},destroy:function(){var e=this;t.log("OverlayButton: destroy()",arguments),i(e.divElement).remove()},hide:function(){var e=this;t.log("OverlayButton: hide()",arguments),i(e.divElement).hide()},show:function(){var e=this;t.log("OverlayButton: show()",arguments),i(e.divElement).show(),e.isShow=!0},isShouldShow:function(){var e=this,t=e.isShow;return t}});return l}),function(){n("player/HiroVideoPlayer",["require","util/each","core/root","dom/createElement","dom/$","dom/getElement","core/console","core/Event","dom/generateTimeout","dom/minimizeElement","dom/expandElement","player/ui/OverlayButton"],function(e){var t=e("util/each"),n=e("core/root"),r=e("dom/createElement"),i=e("dom/$"),o=e("dom/getElement"),a=e("core/console"),s=e("core/Event"),l=e("dom/generateTimeout"),u=e("dom/minimizeElement"),c=e("dom/expandElement"),d=e("player/ui/OverlayButton"),p=5e3,f=function(e,t){var n,r=this;e&&"function"==typeof e&&(n=e(t)),n&&r.trigger("ready",n)},m=function(){var e,s,u=this,c=u.config,d=u.video,m=c.folderName,h=m+"/"+c.externalPlayerUrl,g=c.externalPlayerCss,v=c.additionalScripts,y="hiro-player-iframe_"+c.sessionID,E=d.parentNode;a.log("HiroVideoPlayer: playerFactory()",arguments),e=o(y),e?(s=i(e),f.call(u,e.contentWindow.getPlayer,d)):(e=r("iframe",{id:y,frameborder:0,scrolling:"no",style:"position : absolute; height: 1px ; width: 1px; overflow: hidden"}),s=i(e),E=d.parentNode,s.on("load",function(){var r=e.contentWindow,o=r.document,a=o.body,s=o.createElement("script"),c=i(s),y=l(function(){u.trigger("error","script timeout"),c.remove()},p);i(a).css({margin:0,padding:0,border:0}),t(g,function(e,t){i(n.document.head).append('<link href="'+m+"/"+t+'" rel="stylesheet" type="text/css">')}),t(v,function(e,t){var n=o.createElement("script");n.src=t,o.body.appendChild(n)}),c.on("load",function(){var e=r.getPlayer;y(),f.call(u,e,d)}),c.on("error",function(){y(),u.trigger("error","script error")}),s.src=h,o.body.appendChild(s)}),E.appendChild(e)),u.iframe=e},h=function(){var e=this,t=e.iframe;a.log("HiroVideoPlayer: unloadHiroVideoPlayer()",arguments,e),i(t).remove()},g=function(e,n){var r=n.from,i=n.to;t(e,function(e,t){i[t]=function(){return r[t].apply(r,arguments)}})},v=function(e,t,n,r,o){var s=this,u=i(t),c=i.Deferred(),p=["stop","volume","currentTime","duration","paused"];a.log("HiroVideoPlayer: HiroVideoPlayer()",arguments,s),s.config=r,s.$video=u,s.video=t,s.atEndDeferred=i.Deferred(),s.playStartedDefered=i.Deferred(),s.videoContainer=n,s.source=e,s.started=!1,s.apiEvents=o,s.on("error",function(){h.call(s)}),s.on("ready",function(n,i){var o=e.indexOf("_sv.mp4");s.player=i,g(p,{from:i,to:s}),-1!==o&&(s.overlay=new d({width:r.width,height:r.height,container:t.parentNode}),s.overlay.init(),s.overlay.on("updateSrc",function(){s.player.src(e.substring(0,o)+"_extended.mp4"),s.trigger("overlay_clicked")}),s.playStartedDefered.then(function(){l(function(){s.at(-3).then(function(){s.overlay.show()})},1e3)})),s.player.on("ended",function(){s.started&&(s.apiEvents&&s.apiEvents.trigger("moviecomplete"),s.overlay&&s.overlay.destroy(),s.atEndDeferred.resolve())}),s.player.on("click",function(e){s.started&&s.trigger("click",e)}),s.player.on("error",function(){s.trigger("error")}),s.player.on("play",function(){s.trigger("play")}),s.player.on("playing",function(){s.trigger("playing")}),s.player.on("pause",function(){s.trigger("pause")}),s.loadedDeferred.resolve(),s.trigger("init")}),s.loadedDeferred=c,s.whenLoaded=c.promise().then(function(){var e=s.player;return e}),m.call(s)};return v.prototype=new s,v.constructor=v,v.prototype.clearTimeout=function(){var e=this;e.timeout&&(e.timeout(),e.timeout=null)},v.prototype.at=function(e){var t=this,n=i.Deferred();return a.log("HiroVideoPlayer: adding at",e),t.playStartedDefered.then(function(){var r=function(r){if(t.started){var i="ended"===r.type;/^\d+%$/.test(e)&&t.player.duration()&&(e=parseFloat(e.replace("%",""))/100,e*=t.player.duration()),0>e&&t.player.duration()&&(e+=t.player.duration(),0>e&&(e=0)),!isNaN(e)&&(e<=t.player.currentTime()&&t.player.duration()||i)&&n.resolve()}};t.player.on("timeupdate",r),t.player.on("ended",r)}),n.promise()},v.prototype.atEnd=function(){var e=this,t=e.atEndDeferred;return t.promise()},v.prototype.play=function(e){var t=this,n=t.whenLoaded,r=i.Deferred();return n.then(function(){var n=t.player,i=t.source,o=t.apiEvents;t.started||(n.on("loadstart",function(){t.started=!0,t.playStartedDefered.resolve()}),n.src(i),n.volume(t.config.scale_start),t.currentVolume=t.config.scale_start,n.on("volumechange",function(){var e=n.muted()?0:n.volume();o&&(0===e?o.trigger("mute",{status:!0}):0===t.currentVolume&&o.trigger("mute",{status:!1})),t.currentVolume=e}),o&&(o.trigger("moviestart",{adBreakType:"video",countImpressionInBreak:1,cms:t.config.cms_co}),o.trigger("movieview",{url:i}))),a.log("HiroVideoPlayer: play()"),e&&n.currentTime(e),n.play(),r.resolve()}),r.promise()},v.prototype.pause=function(){var e=this,t=e.whenLoaded,n=i.Deferred();return e.apiEvents,t.then(function(){var t=e.player,r=e.atEndDeferred;a.log("HiroVideoPlayer: pause()"),"resolved"===r.state()?n.reject():(t.pause(),n.resolve(),e.isPaused=!0)}),n.promise()},v.prototype.resume=function(){var e=this,t=e.whenLoaded,n=i.Deferred();return e.apiEvents,t.then(function(){var t=e.player;a.log("HiroVideoPlayer: resume()"),e.isPaused&&(t.play(),e.isPaused=!1),n.resolve()}),n.promise()},v.prototype.hide=function(){var e=this,t=e.videoContainer,n=e.$video,r=e.overlay;a.log("HiroVideoPlayer: hide()"),r&&r.hide(),n.hide(),u(t)},v.prototype.show=function(){var e=this,t=e.whenLoaded;t.then(function(){var t=e.videoContainer,n=e.config,r=e.$video,i=e.overlay;a.log("HiroVideoPlayer: show()"),r.show(),c(t),t.style.display="",t.style.width=n.width,t.style.height=n.height,i&&i.isShouldShow()&&i.show()})},v})}(this),n("bidding/HtmlVideoAd",["require","core/console","core/Event","core/root","util/extend","util/each","dom/$","player/HiroVideoPlayer","util/createPrototype"],function(e){var t=e("core/console"),n=e("core/Event"),r=e("core/root"),i=e("util/extend"),o=e("util/each"),a=e("dom/$"),s=e("player/HiroVideoPlayer"),l=e("util/createPrototype"),u=40,c=l({base:n,constructor:function(e,n){var r=this,l=e.creatives[0],u=function(e){var t=[];return a.isArray(e)||(e=[e]),o(e,function(e,n){var r={};n&&("string"==typeof n?r.src=n:(r.src=n.src||n.url,n.type&&(r.type=n.type)),t.push(r))}),t};r.player=new s(u(l.media),n.video,n.adVideoWrapper,n),t.log("HtmlVideoAd: HtmlVideoAd()",arguments),r.options=i(!0,{},r.defaults,n),r.type="video"},init:function(){var e=this,n=e.options,i=n.video,a=e.player,s={0:"adstart",25:"adfirstquartile",50:"admidpoint",75:"adthirdquartile",100:"adcomplete"},l={click:function(t,n){var r=n.pageY,o=i.offsetTop+i.offsetHeight-r;o>u&&e.trigger("adclickthru")},pause:function(){e.trigger("adpause")},play:function(){e.trigger("adresume")},playing:function(){e.trigger("playing")}};t.log("HtmlVideoAd: init()",arguments),o(s,function(t,n){a.at(t+"%").then(function(){e.trigger(n)})}),e.on("adcomplete",function(){r.setTimeout(function(){e.trigger("adstopped")
},0)}),o(l,function(e,t){a.on(e,t)}),e.removeEventHandlers=function(){o(l,function(e,t){a.off(e,t)})},e.trigger("init")},destroy:function(){var e=this,n=e.isShown;t.log("HtmlVideoAd: destroy()",arguments),e.removeEventHandlers(),n&&e.hide()},play:function(e){var t=this,n=t.player;t.options,n.play(e).then(function(){t.trigger("adimpression")},function(){t.trigger("aderror")})},pause:function(){var e=this,t=e.player;t.pause()},paused:function(){var e=this,t=e.player;return t.paused()},show:function(){var e=this,t=e.player;t.show(),e.isShown=!0},hide:function(){var e=this,t=e.player;t.hide(),e.isShown=!1}});return c}),function(){n("util/versionCompare",[],function(){var e=function(e,t){var n,r,i=String(e).split("."),o=t.split("."),a=0,s=Math.max(i.length,o.length);for(s=Math.min(3,s),e&&t||(s=0),a=0;s>a;a+=1){if(n=parseInt(i[a],10)||0,r=parseInt(o[a],10)||0,r>n)return!0;if(n>r)return!1;if(a===s-1&&n===r)return!0}return!1};return e})}(this),function(){n("bidding/vpaid/VpaidPlayer",["require","util/extend","dom/createElement","dom/$","core/console","core/Event","util/versionCompare","dom/generateTimeout","dom/expandElement","beacons/NetworkEvents"],function(e){var t=e("util/extend"),n=e("dom/createElement"),r=e("dom/$"),i=e("core/console"),o=e("core/Event"),a=e("util/versionCompare"),s=e("dom/generateTimeout"),l=e("dom/expandElement"),u=e("beacons/NetworkEvents"),c={adParameters:null},d="2.0",p=function(e){return a(e,d)},f=5e3,m=function(e){var t;return e.length>2&&(t=e.pop()),e.reverse(),t&&e.push(t),e},h=function(e){var t=this,o=t.config,a=n("div"),l=r(a),u=o.friendlyIframe,c=u.contentWindow,d=u.contentDocument,p=d.body,m=n("script"),h=r(m),g=s(function(){t.trigger("error","script timeout"),h.remove()},f);i.log("VpaidPlayer: vpaidFactory()",arguments),t.slot=a,h.on("load",function(){var e,n=c.getVPAIDAd;g(),n&&"function"==typeof n&&(e=n()),e?t.trigger("scriptLoad",e):t.trigger("error","script load")}),h.on("error",function(){g(),t.trigger("error","script error")}),m.src=e,p.appendChild(m),p.appendChild(t.video),p.appendChild(a),l.css({position:"absolute",top:"0px",left:"0px"})},g=function(){var e=this;i.log("VpaidPlayer: unloadAd()",arguments,e)},v=function(e,n){var o=this,a=r(n.video),s=new u(n.networkEvents),l=n.networkData;i.log("VpaidPlayer: VpaidPlayer()",arguments,o),o.config=t({},c,n),o.url=e,o.$video=a,o.video=n.video,o.networkEvents=s,o.on("error",function(e,t){l&&t&&0===t.indexOf("script")&&s.send(l,u.AD_ERROR_ON_LOAD,t),g.call(o)}),o.on("ready",function(){l&&s.send(l,u.PLAYER_INIT_SUCCESSFUL,l.type+" player init successful")})};return v.prototype=new o,v.constructor=v,v.prototype.adCall=function(){var e,t=this,n=Array.prototype.slice.call(arguments),r=n.shift(),i=t.adUnit;if(!i||!i[r])return!1;if(("subscribe"===r||"unsubscribe"===r)&&(n=m(n)),e=function(e,t){return t[r].apply(t,n)},i)try{return e(null,i)}catch(o){t.trigger("error",""+o)}},v.prototype.create=function(){var e=this,t=e.url,n=e.config,r=e.networkEvents,i=n.networkData;e.on("scriptLoad",function(t,n){e.adUnit=n,i&&r.send(i,u.SCRIPT_LOADED_SUCCESSFUL,i.type+" Script load successful"),p(e.adCall("handshakeVersion","2.0"))?e.trigger("ready"):e.trigger("error","handshakeVersion")}),h.call(e,t)},v.prototype.init=function(){var e=this,t=e.config,n={AdParameters:t.adParameters},r={slot:e.slot,videoSlot:t.video,videoSlotCanAutoPlay:t.videoSlotCanAutoPlay};return i.log("VpaidPlayer: init()",arguments,e),e.adCall("initAd",t.width,t.height,"normal","",n,r)},v.prototype.stop=function(){var e=this;return e.adCall("subscribe","AdStopped",g,e),e.adCall("stopAd")},v.prototype.showVideoElement=function(){var e=this,t=e.video,n=e.$video;t&&(l(t),t.style.width="100%",t.style.height="100%",n.show())},v.prototype.clearTimeout=function(){var e=this;e.timeout&&(e.timeout(),e.timeout=null)},v})}(this),n("player/ui/MuteButton",["require","core/console","core/Event","util/extend","dom/$","util/cssDimension","util/createPrototype","dom/addEvent","dom/createElement"],function(e){var t=e("core/console"),n=e("core/Event"),r=e("util/extend"),i=e("dom/$"),o=e("util/cssDimension"),a=e("util/createPrototype"),s=e("dom/addEvent"),l=e("dom/createElement"),u=a({base:n,defaults:{muteButton:"http://software.hiro.tv/resources/on.png",muteState:!0,cssWidth:32,cssHeight:32},constructor:function(e){var n=this;t.log("MuteButton: MuteButton()",arguments),n.options=r(!0,{},n.defaults,e),n.options.muteState=n.options.baseVolume>=.5?!1:!0},init:function(){var e,n,r=this;t.log("MuteButton: init()",arguments),e=l("img",{src:r.options.muteButton,style:"cursor:pointer;opacity:"+(r.options.muteState?"0.5":"1")}),n=l("div"),r.divElement=n,i(n).css({"float":"right",height:0,position:"relative",right:"10px",top:"10px","z-index":9999}),e.style.width=o(r.options.cssWidth),e.style.height=o(r.options.cssHeight),i(n).prepend(e),r.muteButtonElement=e,i(r.options.container).prepend(n),s(e,"click",function(){var e=r.options.muteState?"unmute":"mute";r.trigger(e)})},destroy:function(){var e=this;t.log("MuteButton: destroy()",arguments),i(e.divElement).remove()},hide:function(){var e=this;t.log("MuteButton: hide()",arguments),i(e.divElement).hide()},show:function(){var e=this;t.log("MuteButton: show()",arguments),i(e.divElement).show()},mute:function(){var e=this,n=i(e.muteButtonElement);t.log("MuteButton: mute()",arguments),e.options.muteState=!0,n.css({opacity:.5})},unmute:function(){var e=this,n=i(e.muteButtonElement);t.log("MuteButton: unmute()",arguments),e.options.muteState=!1,n.css({opacity:1})},isMute:function(){var e=this;return t.log("MuteButton: isMute()",arguments),e.options.muteState}});return u}),n("bidding/vpaid/HtmlVpaidAd",["require","core/console","core/Event","util/extend","util/each","dom/generateTimeout","dom/createElement","dom/$","bidding/vpaid/VpaidPlayer","player/ui/MuteButton","util/createPrototype"],function(e){var t=e("core/console"),n=e("core/Event"),r=e("util/extend"),i=e("util/each"),o=e("dom/generateTimeout"),a=e("dom/createElement"),s=e("dom/$"),l=e("bidding/vpaid/VpaidPlayer"),u=e("player/ui/MuteButton"),c=e("util/createPrototype"),d=c({base:n,constructor:function(e,n){var i=this,o=e.creatives[0].media[0],c=n.url||o.src,d=n.adParameters||e&&e.creatives[0].adParameters,p=n.container,f=a("video"),m=s(f),h=new l(c,{width:n.width,height:n.height,friendlyIframe:n.friendlyIframe,video:f,videoSlotCanAutoPlay:n.videoCanAutoPlay,adParameters:d,networkEvents:n.networkEevents,networkData:e});i.player=h,i.playerContainer=p,i.videoElement=f,m.css({width:n.width,height:n.height}),t.log("HtmlVpaidAd: HtmlVpaidAd()",arguments),i.options=r(!0,{},i.defaults,n),i.type=e.type,i.muteButton=new u(i.options),i.muteButton.propagateEventsTo(i),i.currentVolume=n.baseVolume,f.volume=n.baseVolume,i.canAutoplay=!0},init:function(){var e=this,n=e.muteButton,r=e.player,a=e.options,s=(e.playerContainer,{AdLoaded:"init",AdError:"aderror",AdLog:"adlog",AdImpression:"adimpression",AdStarted:"adstart",AdVideoStart:"adstart",AdVideoFirstQuartile:"adfirstquartile",AdVideoMidpoint:"admidpoint",AdVideoThirdQuartile:"adthirdquartile",AdVideoComplete:"adcomplete",AdStopped:"adstopped",AdClickThru:"adclickthru",AdPaused:"adpaused",AdPlaying:"adplaying"}),l=["init","adimpression","adstart","adfirstquartile","admidpoint","adthirdquartile","adcomplete","adstopped"],u=function(n){return function(){var r=l.indexOf(n);-1!==r&&l.splice(r,1),r>0&&u(l[r-1]),t.log("HtmlVpaidAd: init()/eventTrigger() triggering",n),e.trigger(n)}};t.log("HtmlVpaidAd: init()",arguments),r.on("error",function(){e.trigger("aderror")}),e.on("adcomplete",function(){e.trigger("adstopped")}),e.on("init adstart",function(){a.baseVolume<.5&&r.adCall("setAdVolume",0),r.showVideoElement()}),e.on("unmute",function(){n.unmute(),e.currentVolume=e.currentVolume>=.1?e.currentVolume:.5,r.adCall("setAdVolume",e.currentVolume)}),e.on("mute",function(){n.mute();var t=r.adCall("getAdVolume");t&&(e.currentVolume=t),r.adCall("setAdVolume",0)}),e.on("adpaused",function(){e.isLOS?o(function(){e.isLOS=!1,e.pausedDeferred&&e.pausedDeferred.resolve()},100):e.pausedDeferred&&e.pausedDeferred.resolve(),e.isPaused=!0}),e.on("adplaying",function(){e.pausedDeferred=null,e.isPaused=!1}),r.on("ready",function(){i(s,function(e,t){r.adCall("subscribe",e,u(t))}),r.init()}),n.init(),r.create()},destroy:function(){var e=this,n=e.muteButton,r=e.player;t.log("HtmlVpaidAd: destroy()",arguments),n&&(n.destroy(),e.muteButton=null),r&&r.stop()},play:function(){var e=this,n=e.player,r=e.isPaused;t.log("HtmlVpaidAd: play()",arguments),r?e.resume():n.adCall("startAd")},pause:function(e){var n=this,r=n.player;t.log("HtmlVpaidAd: pause()",arguments),e&&(n.isLOS=!0),n.pausedDeferred||(n.pausedDeferred=s.Deferred(),r.adCall("pauseAd"))},paused:function(){var e=this;return t.log("HtmlVpaidAd: paused()",arguments),e.isPaused},resume:function(){var e=this,n=e.player,r=e.pausedDeferred;t.log("HtmlVpaidAd: resume()",arguments),r?r.then(function(){t.log("HtmlVpaidAd: player.adCall resumeAd"),n.adCall("resumeAd")}):n.adCall("resumeAd")},isMute:function(){var e=this,t=e.muteButton;return t.isMute()}});return d}),n("bidding/HtmlFlashAd",["require","core/console","core/Event","core/root","core/registerFlashTrigger","util/each","util/extend","util/randomInt","util/buildQueryString","util/prepareUrls","util/createPrototype","dom/browser","dom/beacon","dom/Deferred","dom/fixedFlowplayer","dom/generateTimeout","dom/$","player/ui/MuteButton"],function(e){var t=e("core/console"),n=e("core/Event"),r=e("core/root"),i=e("core/registerFlashTrigger"),o=e("util/each"),a=e("util/extend"),s=e("util/randomInt"),l=e("util/buildQueryString"),u=e("util/prepareUrls"),c=e("util/createPrototype"),d=(e("dom/browser"),e("dom/beacon")),p=e("dom/Deferred"),f=e("dom/fixedFlowplayer"),m=e("dom/generateTimeout"),h=e("dom/$"),g=e("player/ui/MuteButton"),v={},y=c({base:n,constructor:function(e){var n=this;n.options=a(!0,e,{container:e.friendlyIframe.parentNode}),n.type="vpaid flash",n.readyDeferred=new p,n.loadFlash(),t.log("HtmlFlashAd: HtmlFlashAd()",arguments)},init:function(e){var n=this,r=n.options,i=n.playerId,o=e[0],a=o.creatives[0].media[0],s=r.url||a.src,l=r.adParameters||o&&o.creatives[0].adParameters,u=o.creatives[0],c=o.type,p="vpaid flash"===c?"vpaid":"flv";n.url=s,n.adParameters=l,n.creative=u,n.origTag=o.url,n.indexInBreak=o.indexInBreak,n.type=c,n.readyDeferred.then(function(){t.log("HtmlFlashAd: ad is ready"),n.one("aderror",function(e,t,r){"fatal"===t&&(n.isShouldRemove=!0),r&&2==r.length&&n.trigger("networkevent",r[0],r[1])}),n.on("traceToConsole",function(e,n){t.log(n),r.consoleLogToNetwork&&d("https://events.appserver.tv",{data:n})}),t.log("HtmlFlashAd: calling init with sync params",r),n.trigger("log",i+":ad.init()");try{n.adApi.init({tagURL:n.url,adParameters:n.adParameters,type:p,origTag:n.origTag,indexInBreak:n.indexInBreak,durationInSec:n.durationInSec?n.durationInSec:15})}catch(e){n.isShouldRemove=!0,t.log("HtmlFlashAd: init error ",e),n.trigger("log",i+":init error"),n.trigger("aderror")}n.muteButton=new g(n.options),n.muteButton.propagateEventsTo(n),n.muteButton.init(),t.log("HtmlFlashAd: called init"),n.on("unmute",function(){n.muteButton.unmute(),n.adApi.setMute(!1)}),n.on("mute",function(){n.muteButton.mute(),n.adApi.setMute(!0)}),n.on("adresource",function(){m(function(){try{n.adApi.setResource(n.getResource())}catch(e){t.log("HtmlFlashAd: play error, player doesn't support setResource method: %s",e)}},1e3)})})},getSnapUrl:function(){var e=this,t=e.options,n=u(t.snapLoc||t.folderName,{adPlayerUrl:"snapPlayer.swf"});return n.adPlayerUrl},loadFlash:function(){var e=this,n=e.options,r=n.friendlyIframe,o=r.contentWindow,a=r.contentDocument,u=a.body,c=r.parentNode,d=u,p=o,m=c.parentNode.offsetWidth,g=c.parentNode.offsetHeight,v=function(t,n,r){var i="",o=["aderror","sendPublisherEvent","initVpaidTracking"],a=["visible","activeTab","traceToConsole","getEverHoveredOverPlacement","getOnHoverFlag","IAS_Blocking","adClicked","getPublisherExternalID"];return-1!==h.inArray(n,a)?!1:(r&&-1!==h.inArray(n,o)&&(i=r),i&&(i=" "+i),e.trigger("log",t+":"+n+i),void 0)},y=i(function(t,n){return v(y,t,n),e.trigger.apply(e,arguments)},p),E=!1,b={accountID:n.accountID,playerId:y,htmlWidth:m,htmlHeight:g,startTimerSecs:n.startTimerSecs,initTimerSecs:n.initTimerSecs,playerSizeConstraint:n.playerSizeConstraint,losFirstinBreak:n.losFirstinBreak,experimentId:n.experimentId,baseVolume:n.baseVolume,volume:n.volume,onClickEnabled:n.onClickEnabled,maxBleeps:E?Math.ceil(n.maxBleeps/2):n.maxBleeps,blockBleepOnChanel:E?!1:n.blockBleepOnChanel,stopAfterProgressEvent:n.stopAfterProgressEvent,pauseOnAdClick:n.pauseOnAdClick,isPremiumSite:n.isPremiumSite,muteButton:n.muteButton,blockUnknownVendor:n.blockUnknownVendor,approvedVendorUrls:n.approvedVendorUrls,approvedVendorClasses:n.approvedVendorClasses,blackVendorExceptions:n.blackVendorExceptions,monitoredVendors:n.monitoredVendors},w={id:"hiro_snap_"+y+"_"+s(1e8),allowfullscreen:!0,allowscriptaccess:"always",scale:"exactfit",wmode:"opaque",src:e.getSnapUrl(),width:n.width,height:n.height,flashvars:l(b)},A=f.flashembed,x=e.readyDeferred;e.playerId=y,e.attributes=w,e.on("ready",function(){x.resolve()});try{A(d,w),e.adApi=d.firstChild}catch(T){t.log("HtmlFlashAd: flashembed failed ",T)}},destroy:function(){var e=this,n=e.muteButton;t.log("HtmlFlashAd: destroy()",arguments),e.finish(),n&&(n.destroy(),e.muteButton=null)},play:function(){var e=this,n=e.adApi;if(e.playAdUnit)try{n.resume(),e.isPaused=!1,e.trigger("adresume")}catch(r){t.log("HtmlFlashAd: resume error"),e.trigger("log","resume error")}else{e.trigger("log","ad.playUnit()");try{n.playUnit(),e.playAdUnit=!0}catch(r){t.log("HtmlFlashAd: play error"),e.trigger("log","play error"),e.trigger("aderror")}}},pause:function(){var e=this,n=e.playAdUnit,r=e.adApi;if(n)try{r.pause(),e.isPaused=!0,e.trigger("adpause")}catch(i){t.log("HtmlFlashAd: pause error"),e.trigger("log","pause error")}},paused:function(){var e=this;return e.isPaused},finish:function(){var e=this,n=(e.playAdUnit,e.adApi);e.playAdUnit=!1,e.isPaused=!1,e.url=null,e.adParameters=null,e.creative=null,e.indexInBreak=-1;try{n.finish()}catch(r){t.log("HtmlFlashAd: finish error"),e.trigger("log","finish error")}},isAlive:function(){var e=this,n=new p;return e.readyDeferred.then(function(){var r=e.adApi,i=m(function(){n.reject()},5e3);try{e.one("pong",function(){i(),n.resolve()}),r.ping()}catch(o){t.log("HtmlFlashAd: ping error"),e.trigger("log","ping error"),n.reject()}}),n.promise()},isMute:function(){var e=this,t=e.muteButton;return t.isMute()},getResources:function(){return r.performance&&r.performance.getEntriesByType&&r.performance.getEntriesByType("resource")||[]},getResource:function(){var e=this,n=e.options.clipUrl,r=[],i=e.getResources(),a=function(e){return e?e.split("?")[0]:""};return o(i,function(e,i){var s=!1,l=a(i.name);o(["mp4","flv"],function(e,t){s=s||-1!==l.indexOf(t,l.length-t.length)});var u=parseInt(i.startTime,10);s&&!v[u]&&l!=n&&l.indexOf("blank.mp4")<0&&(v[u]=l,r.push(l),t.log("HtmlFlashAd: *** Resource url ***: startTime: %s; item: %s",u,l))}),r.join(";")}});return y}),n("bidding/RotoscopeAd",["require","core/console","core/Event","util/extend","util/each","bidding/HtmlVideoAd","bidding/vpaid/HtmlVpaidAd","util/createPrototype"],function(e){var t=e("core/console"),n=e("core/Event"),r=e("util/extend"),i=e("util/each"),o=e("bidding/HtmlVideoAd"),a=e("bidding/vpaid/HtmlVpaidAd"),s=e("util/createPrototype"),l=s({base:n,constructor:function(e,n){var s,l,u=this,c=["init","destroy","play","show","hide","pause"],d=function(e,t){var n=t.from,r=t.to,o=t.additionalHandlers||[];i(e,function(e,t){r[t]=function(){n[t]&&(n[t].apply(n,arguments),o[t]&&o[t].apply(r,arguments))}})},p=function(t){s=new t(e,u.options),s.propagateEventsTo(u),d(c,{from:s,to:u})},f=function(e){var t=s.player.adUnit.player._mCurrentFrame/s.player.adUnit.player._mFPS;l(),s.cancelPropagate(),s.destroy(),p(o),s.init(),s.play(t),u.show(),"adclickthru"===e&&(u.trigger("adclickthru"),s.one("playing",function(){s.pause()}))},m=function(){s.on("adclickthru",f),u.on("adcomplete",l)},l=function(){s.off("adclickthru",f)};t.log("RotoscopeAd: RotoscopeAd()",arguments),u.options=r(!0,{},u.defaults,n),u.type="rotoscope",u.canAutoplay=!0,u.one("unmute",f),p(a),u.hide(),m()}});return l}),n("bidding/IframeFactory",["require","core/root","core/Event","core/console","dom/$","dom/Deferred","dom/injectIframe","dom/createElement","dom/minimizeElement","dom/browser","util/each","util/extend","util/createPrototype","bidding/HtmlVideoAd","bidding/vpaid/HtmlVpaidAd","bidding/HtmlFlashAd","bidding/RotoscopeAd","beacons/PublisherEvents"],function(e){var t=e("core/root"),n=(e("core/Event"),e("core/console")),r=e("dom/$"),i=e("dom/Deferred"),o=e("dom/injectIframe"),a=e("dom/createElement"),s=e("dom/minimizeElement"),l=e("dom/browser"),u=e("util/each"),c=e("util/extend"),d=e("util/createPrototype"),p=e("bidding/HtmlVideoAd"),f=e("bidding/vpaid/HtmlVpaidAd"),m=e("bidding/HtmlFlashAd"),h=e("bidding/RotoscopeAd"),g=e("beacons/PublisherEvents"),v="#ifrndnlocgoogle",y=function(){var e=this;e&&e.contentWindow&&(e.contentWindow.onerror=function(){return!0})},E=function(e){var t,n,i=e.isShouldRemove,o="vpaid flash"===e.type||"flv"===e.type;return!i&&o&&(n=e.options,t=n.snap&&n.snap.noReusePublishers,t&&-1!=r.inArray(n.publisherId,t)&&-1!=l.name.indexOf("Firefox")&&(i=!0)),i},b=d({constructor:function(e,t){var n=this;n.adMap={},n.options=e,n.publisherEvents=t},getIframe:function(e){var t=e,n=function(e){return t.enableIframeErrorSuppression&&(y.call(e),e.addEventListener("load",y)),e},r=function(e){return e.contentWindow.location.href+=v,e},i=a("div");return t.appendTo.appendChild(i),s(i),e=c(!0,{width:"100%",height:"100%",allowfullscreen:!0},e,{appendTo:i}),o(e).then(r).then(n)},init:function(){var e,t=this,n=t.options,r=n.isMobileEnv,i=r?0:n.initNumberOfSnap,o=0,a="flash",s=t.adMap,l=t.publisherEvents,u=function(e){var t=s[a];t||(t=[]),t.push(e),s[a]=t};for(e=0;i>e;e++)t.getIframe({appendTo:n.container}).then(function(e){return t.createFlashAd(e)}).then(function(e){return u(e),o++,o}).then(function(e){e===i&&l.send(g.SNAP_PRE_INIT_SUCCESS)})},returnAd:function(e){var o=this,a=new i,s=(e.container,e.adIframe),l=e.ad,c=l.type,d=o.adMap,p=!E(l),f=function(){var e="vpaid flash"===c||"flv"===c?"flash":c,t=d[e];t||(t=[]),t.push(l),d[c]=t,n.log("IframeFactory: Return ad to pool of pool type %s , original ad type %s, pool size %s",e,c,t.length)},m=function(){var e=s.contentDocument?s.contentDocument:s.contentWindow.document,t=r(e.body);u(t.children(),function(e,t){t.id&&t.id.indexOf("hiro")>=0||r(t).remove()})},h=function(){var e=new i;return s?(s.removeEventListener("load",y),s.setAttribute("src",""),t.setTimeout(e.resolve,0)):e.resolve(),e.promise()};return!p||"vpaid flash"!==c&&"flv"!==c?h(e).always(function(){t.setTimeout(function(){s&&r(s.parentNode).remove()},1)}).then(a.resolve):(m(),f(l),a.resolve()),a.promise()},createFlashAd:function(e){var t=this,n=t.options;return new m({width:n.width,height:n.height,friendlyIframe:e,networkEevents:n.networkEvents,folderName:n.folderName,snapLoc:n.snapLoc,accountID:n.accountID,startTimerSecs:n.startTimerSecs,initTimerSecs:n.initTimerSecs,playerSizeConstraint:n.playerSizeConstraint,losFirstinBreak:n.losFirstinBreak,experimentId:n.experimentId,baseVolume:n.scale_start,volume:n.scale_start,consoleLogToNetwork:n.consoleLogToNetwork,onClickEnabled:n.onClickEnabled,maxBleeps:n.maxBleeps,blockBleepOnChanel:n.blockBleepOnChanel,stopAfterProgressEvent:n.stopAfterProgressEvent,pauseOnAdClick:n.pauseOnAdClick,isPremiumSite:n.isPremiumSite,muteButton:n.muteButton,blockUnknownVendor:n.blockUnknownVendor,approvedVendorUrls:n.approvedVendorUrls||[],approvedVendorClasses:n.approvedVendorClasses||[],blackVendorExceptions:n.blackVendorExceptions||[],monitoredVendors:n.monitoredVendors||[],clipUrl:n.clipUrl||"",publisherId:n.publisherId,snap:n.snap})},buildAd:function(e,t){var r,i=this,o=i.adMap,a=e[0],s=a.type,l="vpaid flash"===s||"flv"===s?"flash":s,u=o[l],c=function(e,t,n){var r=function(){return i.publisherEvents.send(g.SNAP_REQUEST_FOR_NEW_OBJECT),i.createFlashAd(n)},o={video:function(){return new p(a,{width:t.width,height:t.height,adVideoWrapper:t.adVideoWrapper,video:t.videoElement,scale_start:t.baseVolume,folderName:t.folderName,externalPlayerUrl:t.externalPlayerUrl,externalPlayerCss:t.externalPlayerCss,additionalScripts:t.additionalScripts,sessionID:"Ad_"+t.sessionID})},"vpaid flash":r,flv:r,"vpaid js":function(){return new f(a,{width:t.width,height:t.height,container:n.parentNode,friendlyIframe:n,networkEevents:t.networkEvents,video:t.videoElement,videoCanAutoPlay:t.canAutoplay(),baseVolume:t.baseVolume})},rotoscope:function(){return new h(a,{url:t.rotoscopeUrl,width:t.width,height:t.height,container:n.parentNode,friendlyIframe:n,video:videoElement,networkEevents:t.networkEvents,baseVolume:t.baseVolume,adVideoWrapper:t.adVideoWrapper,scale_start:t.baseVolume,folderName:t.folderName,externalPlayerUrl:t.externalPlayerUrl,externalPlayerCss:t.externalPlayerCss,additionalScripts:t.additionalScripts,sessionID:t.sessionID})}},s=o[a.type];return s()};return u&&u.length&&(r=u.shift()),n.log("IframeFactory: Get ad from pool of pool type %s , original ad type %s, result %s",l,s,r),r&&r.isAlive?r.isAlive().then(function(){return r},function(){return i.getIframe({appendTo:t.container}).then(function(n){return c(e,t,n)})}):i.getIframe({appendTo:t.container}).then(function(n){return c(e,t,n)})}});return b}),n("player/HiroHtmlPlayer",["require","util/extend","dom/$","core/console","player/PlayerBase","dom/minimizeElement","dom/expandElement","bidding/HtmlAdBreak","player/HtmlVideoClip","player/HiroVideoPlayer","bidding/IframeFactory","util/createPrototype","beacons/PublisherEvents"],function(e){var t=e("util/extend"),n=e("dom/$"),r=e("core/console"),i=e("player/PlayerBase"),o=e("dom/minimizeElement"),a=e("dom/expandElement"),s=e("bidding/HtmlAdBreak"),l=e("player/HtmlVideoClip"),u=e("player/HiroVideoPlayer"),c=e("bidding/IframeFactory"),d=e("util/createPrototype"),p=e("beacons/PublisherEvents"),f=d({base:i,constructor:function(){var e=this;r.log("HiroHtmlPlayer: HiroHtmlPlayer()"),e.base.apply(e,arguments)},canAutoplay:function(){var e=this,t=e.config,n=t.forceNoAutoplay,r=l.canAutoplay();return n&&(r=!1),r||e.videoStarted},createAdBreak:function(e){var r=this,i=r.config,o=i.width,a=i.height,l=r.iframeFactory,u=new s(t({},e,{width:o,height:a,container:r.playerContainer,adVideoWrapper:r.adVideoWrapper,videoElement:r.adVideo,canAutoplay:n.proxy(r.canAutoplay,r),rotoscopeUrl:i.rotoscopeUrl,rotoscopeDefaultPrefixUrl:i.rotoscopeDefaultPrefixUrl,baseVolume:i.scale_start,accountID:i.consoleID,folderName:i.folderName,externalPlayerUrl:i.externalPlayerUrl,externalPlayerCss:i.externalPlayerCss,additionalScripts:i.additionalScripts,sessionID:i.sessionID,startTimerSecs:i.startTimerSecs,initTimerSecs:i.initTimerSecs,playerSizeConstraint:i.playerSizeConstraint,consoleLogToNetwork:i.consoleLogToNetwork,losFirstinBreak:i.losFirstinBreak,experimentId:i.experimentId,volume:i.lob_start,onClickEnabled:i.onClickEnabled,maxBleeps:i.maxBleeps,maxBleepsjs:i.maxBleepsjs,blockBleepOnChanel:i.blockBleepOnChanel,stopAfterProgressEvent:i.stopAfterProgressEvent,pauseOnAdClick:i.pauseOnAdClick,isPremiumSite:!1,muteButton:i.muteButton,blockUnknownVendor:i.blockUnknownVendor,approvedVendorUrls:i.approvedVendorUrls||[],approvedVendorClasses:i.approvedVendorClasses||[],blackVendorExceptions:i.blackVendorExceptions||[],monitoredVendors:i.monitoredVendors||[],adTypePreference:i.adTypePreference,mediaTypeSortPreferences:i.mediaTypeSortPreferences,internalAdIdLength:i.internalAdIdLength,clipUrl:r.playlist.current().url,iframeFactory:l,apiEvents:r.apiEvents,moat:e.moat,useDynamicTimeout:i.useDynamicTimeout,dynamicTimeoutSuccessEventPerc:i.dynamicTimeoutSuccessEventPerc,cms_co:i.cms_co}));return u.on("adpause",function(e,t){var n=t.ad;r.stageManager.current()===n&&(r.apiEvents.trigger("pause"),r.apiEvents.trigger("adpause"),u.one("adresume",function(){r.apiEvents.trigger("resume"),r.apiEvents.trigger("adresume")}))}),u},createClip:function(e){var t=this,n=new u(e,t.video,t.videoWrapper,t.config,t.apiEvents);return n.one("overlay_clicked",function(){t.publisherEvents.send(p.CLICK_THROUGH_OVERLAY)}),n.on("pause",function(){t.stageManager.current()===n&&(t.apiEvents.trigger("pause"),n.one("play",function(){t.apiEvents.trigger("resume")}))}),n},createUserInitiate:function(){var e=this,t=e.video;return o(t),e.base.prototype.createUserInitiate.apply(e,arguments).then(function(){a(t)})},start:function(){var e=this;return r.log("HiroHtmlPlayer: start(), HiroHtmlPlayer()"),e.initialized?(r.log("HiroHtmlPlayer: start() using unified player"),e.videoStarted=!1,e.$video.one("play",function(){r.log("HiroHtmlPlayer: start() video element touched."),e.videoStarted=!0}),e.$adVideo.one("play",function(){r.log("HiroHtmlPlayer: start() ad video element touched."),e.videoStarted=!0}),e.iframeFactory=new c(t(!0,e.config,{container:e.playerContainer,adVideoWrapper:e.adVideoWrapper,clipUrl:e.playlist.current().url}),e.publisherEvents),e.iframeFactory.init(),e.base.prototype.start.call(e),void 0):!1},remove:function(){var e=this;r.log("HiroHtmlPlayer: remove(), HiroHtmlPlayer()"),e.removed=!0,e.$video.empty().off(),e.$adVideo.empty().off(),e.off(),e.base.prototype.remove.call(e)},api:function(){var e=this,n=e.base.prototype.api.apply(e,arguments);return t(n,{play:function(){r.log("HiroHtmlPlayer: api play()",arguments);var t=e.stageManager.current();return t&&t.play&&t.play(),e.api()},pause:function(){var t=e.stageManager.current();return r.log("HiroHtmlPlayer: api pause()",arguments),t&&t.pause&&t.pause(),e.api()},isPaused:function(){var t,n=e.stageManager.current();return n&&n.paused&&(t=n.paused()),t}}),n}});return f}),function(){e(["core/startup","player/HiroHtmlPlayer"],function(e,t){e({createPlayer:function(e){return new t(e)}})},!1,!0)}(this),n("hiro_html_player.js",function(){})}();document.write(unescape("%3Cscript src='" + (document.location.protocol == "https:" ? "https://sb" : "http://b") + ".scorecardresearch.com/beacon.js' %3E%3C/script%3E"));

function trackAdView(contentType, cms) {
        var c5 = null;
        var contentType = contentType.toLowerCase();
        switch (contentType) {
                case "preroll":
                        c5 = 09;
                        break;
                case "midroll":
                        c5 = 11;
                        break;
		case "postroll":
			c5 = 10;
			break;
                case "video":
                        c5 = 02;
                        break;
                default:
                        break;
        }
        if ( c5 != null ) {
                COMSCORE.beacon({ c1: 1,
                        c2: "16493319",
                        c3: cms,
                        c4: "",
                        c5: c5,
                        c6: "",
                        c10: "",
                        c14: ""});
        }
}

